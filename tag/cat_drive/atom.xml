<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://www.oikiou.top</id>
    <title>Oikiou&#39;s Blog • Posts by &#34;cat_drive&#34; tag</title>
    <link href="https://www.oikiou.top" />
    <updated>2022-01-21T14:57:15.000Z</updated>
    <category term="123" />
    <category term="embedded" />
    <category term="cc2530" />
    <category term="zigbee" />
    <category term="hp" />
    <category term="chrome" />
    <category term="sscanf" />
    <category term="c/c++" />
    <category term="hex" />
    <category term="md5" />
    <category term="jpeg" />
    <category term="webp" />
    <category term="jpeg2000" />
    <category term="image" />
    <category term="osi" />
    <category term="ssl" />
    <category term="https" />
    <category term="markdown" />
    <category term="note" />
    <category term="tags" />
    <category term="label" />
    <category term="category" />
    <category term="iap" />
    <category term="bootloader" />
    <category term="stm32" />
    <category term="typora" />
    <category term="usart" />
    <category term="rts" />
    <category term="cts" />
    <category term="dtr" />
    <category term="dsr" />
    <category term="ws2812" />
    <category term="spi" />
    <category term="dma" />
    <category term="xip" />
    <category term="nor" />
    <category term="nand" />
    <category term="windows" />
    <category term="makefile" />
    <category term="android" />
    <category term="mtp" />
    <category term="pc" />
    <category term="driver" />
    <category term="ip" />
    <category term="location" />
    <category term="api" />
    <category term="zsh" />
    <category term="shell" />
    <category term="linux" />
    <category term="zip" />
    <category term="gzip" />
    <category term="bzip" />
    <category term="tar" />
    <category term="DS_Store" />
    <category term="rtf" />
    <category term="后缀" />
    <category term="character encoding" />
    <category term="gb2312" />
    <category term="utf-8" />
    <category term="机智云" />
    <category term="kms" />
    <category term="office" />
    <category term="volume" />
    <category term="蓝桥杯" />
    <category term="国赛" />
    <category term="ct117e" />
    <category term="超声波" />
    <category term="github" />
    <category term="hosts" />
    <category term="ct117e-ex" />
    <category term="c" />
    <category term="c++" />
    <category term="ms-dos" />
    <category term="pid" />
    <category term="micropython" />
    <category term="python" />
    <category term="qt" />
    <category term="pyqt" />
    <category term="正则表达式" />
    <category term="数据结构" />
    <category term="堆栈" />
    <category term="队列" />
    <category term="链表" />
    <category term="树" />
    <category term="二叉树" />
    <category term="life" />
    <category term="workflow" />
    <category term="人生" />
    <category term="cat_drive" />
    <category term="cad" />
    <category term="心理学" />
    <category term="switch" />
    <category term="nintendo" />
    <category term="game" />
    <category term="synology" />
    <category term="hardware" />
    <category term="lenovo" />
    <category term="disk" />
    <category term="software" />
    <category term="dslogic" />
    <category term="逻辑分析仪" />
    <category term="pyhton" />
    <category term="decoder" />
    <category term="摄影" />
    <category term="git" />
    <category term="docker" />
    <category term="dockerfile" />
    <category term="namespace" />
    <category term="cgroup" />
    <category term="dockerhub" />
    <category term="j-link" />
    <category term="rtt" />
    <category term="serial" />
    <category term="debug" />
    <category term="jlink" />
    <category term="rdpwrap" />
    <category term="rdp" />
    <category term="flash" />
    <category term="j-tag" />
    <category term="spacedesk" />
    <category term="投屏" />
    <category term="ps" />
    <category term="powershell" />
    <category term="vscode" />
    <category term="commenttranslate" />
    <category term="wsl" />
    <category term="sourceinsigh" />
    <category term="si" />
    <category term="ide" />
    <category term="wordpress" />
    <category term="web" />
    <category term="mysql" />
    <category term="nginx" />
    <category term="unit" />
    <category term="m" />
    <category term="cm" />
    <category term="mm" />
    <category term="s" />
    <category term="us" />
    <category term="tmux" />
    <category term="cortex-m3" />
    <category term="hexo" />
    <category term="jekyll" />
    <category term="fluid" />
    <category term="cusdis" />
    <category term="twikoo" />
    <category term="blog" />
    <category term="gravatar" />
    <category term="cravatar" />
    <category term="cortex-a7" />
    <category term="alpha_mini" />
    <category term="正点原子" />
    <category term="rtx" />
    <category term="rtos" />
    <category term="keil" />
    <category term="ucos" />
    <category term="rt-thread" />
    <category term="raspberry" />
    <category term="ap" />
    <category term="wifi" />
    <category term="wiringpi" />
    <category term="pwm" />
    <category term="bluetooth" />
    <category term="蓝牙" />
    <category term="modbus" />
    <entry>
        <id>https://www.oikiou.top/2022/eae787f0/</id>
        <title>CatDrive猫盘</title>
        <link rel="alternate" href="https://www.oikiou.top/2022/eae787f0/"/>
        <content type="html">&lt;h1 id=&#34;刷机&#34;&gt;&lt;a href=&#34;#刷机&#34; class=&#34;headerlink&#34; title=&#34;刷机&#34;&gt;&lt;/a&gt;刷机&lt;/h1&gt;&lt;p&gt;刷机教程很多很多，这边就不赘述了&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.jianshu.com/p/77e529fb35f9&#34;&gt;https://www.jianshu.com/p/77e529fb35f9&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.huakings.cn/post/283.html&#34;&gt;https://www.huakings.cn/post/283.html&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;建议备好串口刷砖必备&lt;/li&gt;
&lt;li&gt;猫盘ssh 用户名 &lt;strong&gt;root&lt;/strong&gt; 密码 &lt;strong&gt;Etech12&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;变砖刷机&#34;&gt;&lt;a href=&#34;#变砖刷机&#34; class=&#34;headerlink&#34; title=&#34;变砖刷机&#34;&gt;&lt;/a&gt;变砖刷机&lt;/h1&gt;&lt;h2 id=&#34;参考资料&#34;&gt;&lt;a href=&#34;#参考资料&#34; class=&#34;headerlink&#34; title=&#34;参考资料&#34;&gt;&lt;/a&gt;参考资料&lt;/h2&gt;&lt;p&gt;&lt;a href=&#34;https://www.bilibili.com/video/av73492887&#34;&gt;https://www.bilibili.com/video/av73492887&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.huakings.cn/post/186.html&#34;&gt;https://www.huakings.cn/post/186.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://wiki.espressobin.net/tiki-index.php?page=Bootloader+recovery+via+UART&#34;&gt;http://wiki.espressobin.net/tiki-index.php?page=Bootloader+recovery+via+UART&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;背景知识&#34;&gt;&lt;a href=&#34;#背景知识&#34; class=&#34;headerlink&#34; title=&#34;背景知识&#34;&gt;&lt;/a&gt;背景知识&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;猫盘引导过程&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2022/eae787f0/image-20211225204417854.png&#34; alt=&#34;image-20211225204417854&#34;&gt;&lt;/p&gt;
&lt;p&gt;从 A3720 机器引导，再到SPI FLASH引导，再到SATA硬盘或者EMMC启动&lt;/p&gt;
&lt;p&gt;出现&lt;code&gt;&amp;gt;E&lt;/code&gt;就是SPI引导没了，需要用厂商工具把SPI引导刷一遍。&lt;/p&gt;
&lt;h2 id=&#34;步骤&#34;&gt;&lt;a href=&#34;#步骤&#34; class=&#34;headerlink&#34; title=&#34;步骤&#34;&gt;&lt;/a&gt;步骤&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;/2022/eae787f0/image-20211225203501999.png&#34; alt=&#34;image-20211225203501999&#34;&gt;&lt;/p&gt;
&lt;p&gt;发现出现&lt;code&gt;&amp;gt;E&lt;/code&gt;，这就说明猫盘SPI引导没了，需要重新刷入uboot，进行救砖。&lt;/p&gt;
&lt;p&gt;首先，需要预装VM启用厂商的Linux环境(ezremaster.iso)，安装VM这步跳过。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;创建虚拟机的时候操作系统可以选择Linux 2.2.x内核，&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;串口的USB设备加到VM内，然后开机。&lt;/p&gt;
&lt;p&gt;输入如下代码，回车运行后会让输入port，&lt;code&gt;/dev/ttyUSB0&lt;/code&gt;一般是&lt;code&gt;0&lt;/code&gt;输入0回车就会开始刷SPI，然后会出现++++++++，在此期间可以按几下回车。&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;sudo sh /wtpd/shua.sh&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&#34;/2022/eae787f0/image-20211225204613427.png&#34; alt=&#34;image-20211225204613427&#34;&gt;&lt;/p&gt;
&lt;p&gt;等一段时间就会出现&lt;code&gt;marvell&amp;gt;&amp;gt;&lt;/code&gt;，至此就已经救砖成功。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/2022/eae787f0/image-20211225205017895.png&#34; alt=&#34;image-20211225205017895&#34;&gt;&lt;/p&gt;
&lt;p&gt;接下来就可以用&lt;code&gt;bubt&lt;/code&gt;命令正常刷SPI引导了。&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;bubt full.bin spi usb&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;



&lt;h1 id=&#34;Note&#34;&gt;&lt;a href=&#34;#Note&#34; class=&#34;headerlink&#34; title=&#34;Note&#34;&gt;&lt;/a&gt;Note&lt;/h1&gt;&lt;h2 id=&#34;LED-FAN-控制脚本&#34;&gt;&lt;a href=&#34;#LED-FAN-控制脚本&#34; class=&#34;headerlink&#34; title=&#34;LED FAN 控制脚本&#34;&gt;&lt;/a&gt;LED FAN 控制脚本&lt;/h2&gt;&lt;p&gt;参考: &lt;a href=&#34;https://bbs.nas66.com/thread-9007-1-1.html&#34;&gt;https://bbs.nas66.com/thread-9007-1-1.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;参考: &lt;a href=&#34;https://bbs.nas66.com/thread-13810-1-1.html&#34;&gt;https://bbs.nas66.com/thread-13810-1-1.html&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;72&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;mkdir -p /a_usr&lt;br&gt;cat &amp;gt; /a_usr/ledfan.sh &amp;lt;&amp;lt;EOF&lt;br&gt;&lt;span class=&#34;hljs-meta prompt_&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;language-bash&#34;&gt;!/bin/sh&lt;/span&gt;&lt;br&gt;if [ ! -d /sys/class/gpio/gpio450 ] ; then&lt;br&gt;echo 450 &amp;gt; /sys/class/gpio/export&lt;br&gt;fi&lt;br&gt;echo out &amp;gt; /sys/class/gpio/gpio450/direction&lt;br&gt;i2cset -y -f 0 0x45 0x00 0x55&lt;br&gt;i2cset -y -f 0 0x45 0x01 0x01&lt;br&gt;i2cset -y -f 0 0x45 0x30 0x07 &lt;br&gt;rm -r /tmp/led/&lt;br&gt;mkdir /tmp/led/&lt;br&gt;echo 1 &amp;gt; /tmp/led/leds.flag&lt;br&gt;while true&lt;br&gt;do&lt;br&gt;sata_temp=&amp;quot;\$(smartctl -a /dev/hda -d ata | sed -n &amp;#x27;/Temperature_Celsius/p&amp;#x27; | awk &amp;#x27;&amp;#123;print $10&amp;#125;&amp;#x27;)&amp;quot;&lt;br&gt;sata=&amp;quot;\$(hdparm -C /dev/sda |grep &amp;#x27;drive&amp;#x27;|awk &amp;#x27;&amp;#123;print \$4&amp;#125;&amp;#x27;)&amp;quot;&lt;br&gt;ledss=&amp;quot;\$(cat /tmp/led/leds.flag)&amp;quot;&lt;br&gt;if [ \$sata = standby ];then&lt;br&gt;led=&amp;quot;0x03&amp;quot;&lt;br&gt;leds=&amp;quot;0&amp;quot;&lt;br&gt;fi&lt;br&gt;if [ \$sata = active/idle ];then&lt;br&gt;led=&amp;quot;0x73&amp;quot;&lt;br&gt;leds=&amp;quot;1&amp;quot;&lt;br&gt;fi&lt;br&gt;if [ \$sata_temp -ge 55 ];then&lt;br&gt;if [ -f &amp;quot;/tmp/led/led31.flag&amp;quot; ] &amp;amp;&amp;amp; [ \$ledss = \$leds ];then &lt;br&gt;sleep 15&lt;br&gt;continue&lt;br&gt;fi&lt;br&gt;i2cset -y -f 0 0x45 0x32 0x00&lt;br&gt;i2cset -y -f 0 0x45 0x33 0x00&lt;br&gt;i2cset -y -f 0 0x45 0x31 \$&amp;#123;led&amp;#125;&lt;br&gt;i2cset -y -f 0 0x45 0x34 255&lt;br&gt;echo 1 &amp;gt; /sys/class/gpio/gpio450/value&lt;br&gt;rm -rf /tmp/led/led*.flag&lt;br&gt;touch /tmp/led/led31.flag&lt;br&gt;echo \$&amp;#123;leds&amp;#125; &amp;gt; /tmp/led/leds.flag&lt;br&gt;fi&lt;br&gt;if [ \$sata_temp -ge 45 ] &amp;amp;&amp;amp; [ \$sata_temp -lt 55 ];then&lt;br&gt;if [ -f &amp;quot;/tmp/led/led33.flag&amp;quot; ] &amp;amp;&amp;amp; [ \$ledss = \$leds ];then&lt;br&gt;sleep 15 &lt;br&gt;continue&lt;br&gt;fi&lt;br&gt;i2cset -y -f 0 0x45 0x31 0x00&lt;br&gt;i2cset -y -f 0 0x45 0x32 0x00&lt;br&gt;i2cset -y -f 0 0x45 0x33 \$&amp;#123;led&amp;#125;&lt;br&gt;i2cset -y -f 0 0x45 0x36 255&lt;br&gt;echo 1 &amp;gt; /sys/class/gpio/gpio450/value&lt;br&gt;rm -rf /tmp/led/led*.flag&lt;br&gt;touch /tmp/led/led33.flag&lt;br&gt;echo \$&amp;#123;leds&amp;#125; &amp;gt; /tmp/led/leds.flag&lt;br&gt;fi&lt;br&gt;if [ \$sata_temp -lt 45 ];then&lt;br&gt;if [ -f &amp;quot;/tmp/led/led32.flag&amp;quot; ] &amp;amp;&amp;amp; [ \$ledss = \$leds ];then&lt;br&gt;sleep 15 &lt;br&gt;continue&lt;br&gt;fi&lt;br&gt;i2cset -y -f 0 0x45 0x31 0x00&lt;br&gt;i2cset -y -f 0 0x45 0x33 0x00&lt;br&gt;i2cset -y -f 0 0x45 0x32 \$&amp;#123;led&amp;#125;&lt;br&gt;i2cset -y -f 0 0x45 0x35 255&lt;br&gt;echo 0 &amp;gt; /sys/class/gpio/gpio450/value&lt;br&gt;rm -rf /tmp/led/led*.flag&lt;br&gt;touch /tmp/led/led32.flag&lt;br&gt;echo \$&amp;#123;leds&amp;#125; &amp;gt; /tmp/led/leds.flag&lt;br&gt;fi&lt;br&gt;sleep 15&lt;br&gt;done&lt;br&gt;EOF&lt;br&gt;bash /a_usr/ledfan.sh&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;



&lt;h2 id=&#34;修改SN半白脚本&#34;&gt;&lt;a href=&#34;#修改SN半白脚本&#34; class=&#34;headerlink&#34; title=&#34;修改SN半白脚本&#34;&gt;&lt;/a&gt;修改SN半白脚本&lt;/h2&gt;&lt;p&gt;下面的&lt;code&gt;00:11:32:12:34:56&lt;/code&gt;最好改成壳子上自己的MAC&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;cd ~ &amp;amp;&amp;amp; wget -N --no-check-certificate https://www.huakings.cn/mp202003/macsn.sh &amp;amp;&amp;amp; chmod +x macsn.sh &amp;amp;&amp;amp; bash macsn.sh 00:11:32:12:34:56 1860ABCDE1860 &amp;amp;&amp;amp; rm -f /root/macsn.sh&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;macsn.sh脚本详细内容如下&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;87&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;macstr=$1&lt;br&gt;sn=$2&lt;br&gt;mac=($&amp;#123;macstr//:/ &amp;#125;)&lt;br&gt;if [ $&amp;#123;#mac[@]&amp;#125; != 6 ];&lt;br&gt;then&lt;br&gt;echo mac address error!&lt;br&gt;exit&lt;br&gt;fi&lt;br&gt;for var in $&amp;#123;mac[@]&amp;#125;&lt;br&gt;do&lt;br&gt;if echo $var | grep -q &amp;#x27;[^0-9A-F]&amp;#x27;&lt;br&gt;then &lt;br&gt;echo mac address error!&lt;br&gt;exit&lt;br&gt;fi &lt;br&gt;if  [[ $&amp;#123;#var&amp;#125; != 2  ]] &lt;br&gt;then&lt;br&gt;echo mac address error!!&lt;br&gt;exit&lt;br&gt;fi&lt;br&gt;done&lt;br&gt;if  [[ $&amp;#123;#sn&amp;#125; != 13  ]] &lt;br&gt;then&lt;br&gt;echo sn error:The SN Length must be 13&lt;br&gt;exit&lt;br&gt;fi&lt;br&gt;&lt;br&gt;for((i=0;i&amp;lt;6;i++));&lt;br&gt;do &lt;br&gt;declare -i macchecksum+=0x$&amp;#123;mac[i]&amp;#125;&lt;br&gt;done&lt;br&gt;declare -i macchecksum=$macchecksum%256&lt;br&gt;for((i=0;i&amp;lt;13;i++));&lt;br&gt;do &lt;br&gt;declare -i checksum+=$(printf &amp;#x27;%d&amp;#x27; &amp;quot;&amp;#x27;$&amp;#123;sn:$i:1&amp;#125;&amp;quot;)&lt;br&gt;done&lt;br&gt;if [ $&amp;#123;#checksum&amp;#125; == 3 ];&lt;br&gt;then&lt;br&gt;echo -e -n &amp;quot;\x$&amp;#123;mac[0]&amp;#125;\x$&amp;#123;mac[1]&amp;#125;\x$&amp;#123;mac[2]&amp;#125;\x$&amp;#123;mac[3]&amp;#125;\x$&amp;#123;mac[4]&amp;#125;\x$&amp;#123;mac[5]&amp;#125;\&lt;br&gt;\x$(printf &amp;#x27;%x&amp;#x27; $macchecksum)\x0\&lt;br&gt;\x0\x0\x0\x0\x0\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x0\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x0\x0\x0\x0&amp;quot;\&lt;br&gt;\SN=$sn&amp;quot;,CHK=&amp;quot;$checksum\&lt;br&gt;&amp;quot;\x0\x0\x0\x0\x0\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x0\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x0\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x0\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x0\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x3C\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x1\x1\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x0\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x1\x1\x1\x1\&lt;br&gt;\x0\x1\x0\x0\x0\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x1\x1\x1\x1\&lt;br&gt;\x1\x0\x1\x1\x1\x1\x1\x0\&lt;br&gt;\x1\x1\x1\x0\x0\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x1\x0\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x0\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x0\x0\x0\x0\x0\x0\x0\x0&amp;quot; &amp;gt; vender.bin&lt;br&gt;else&lt;br&gt;echo -e -n &amp;quot;\x$&amp;#123;mac[0]&amp;#125;\x$&amp;#123;mac[1]&amp;#125;\x$&amp;#123;mac[2]&amp;#125;\x$&amp;#123;mac[3]&amp;#125;\x$&amp;#123;mac[4]&amp;#125;\x$&amp;#123;mac[5]&amp;#125;\&lt;br&gt;\x$(printf &amp;#x27;%x&amp;#x27; $macchecksum)\x0\&lt;br&gt;\x0\x0\x0\x0\x0\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x0\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x0\x0\x0\x0&amp;quot;\&lt;br&gt;\SN=$sn&amp;quot;,CHK=&amp;quot;$checksum\&lt;br&gt;&amp;quot;\x0\x0\x0\x0\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x0\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x0\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x0\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x0\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x3C\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x1\x1\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x0\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x1\x1\x1\x1\&lt;br&gt;\x0\x1\x0\x0\x0\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x1\x1\x1\x1\&lt;br&gt;\x1\x0\x1\x1\x1\x1\x1\x0\&lt;br&gt;\x1\x1\x1\x0\x0\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x1\x0\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x0\x0\x0\x0\&lt;br&gt;\x0\x0\x0\x0\x0\x0\x0\x0\x0\x0\x0\x0&amp;quot; &amp;gt; vender.bin&lt;br&gt;fi&lt;br&gt;dd if=vender.bin of=/dev/mtdblock3&lt;br&gt;rm vender.bin&lt;br&gt;echo Update Success! MAC:$macstr SN:$sn&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;





&lt;h2 id=&#34;解决猫盘掉ip问题&#34;&gt;&lt;a href=&#34;#解决猫盘掉ip问题&#34; class=&#34;headerlink&#34; title=&#34;解决猫盘掉ip问题&#34;&gt;&lt;/a&gt;解决猫盘掉ip问题&lt;/h2&gt;&lt;h3 id=&#34;最蠢的办法，检查无IP重启&#34;&gt;&lt;a href=&#34;#最蠢的办法，检查无IP重启&#34; class=&#34;headerlink&#34; title=&#34;最蠢的办法，检查无IP重启&#34;&gt;&lt;/a&gt;最蠢的办法，检查无IP重启&lt;/h3&gt;&lt;p&gt;将下面脚本添加到，群晖的开机启动&lt;/p&gt;
&lt;p&gt;控制面板-任务计划-新增-触发的任务-用户自定义脚本-开机启动&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;&lt;span class=&#34;hljs-meta prompt_&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;language-bash&#34;&gt;!/bin/bash&lt;/span&gt;&lt;br&gt;dt=`date &amp;#x27;+%d/%m/%Y %H:%M:%S&amp;#x27;`&lt;br&gt;echo &amp;quot;$dt&amp;quot;&lt;br&gt;sleep 60&lt;br&gt;num=`ping -c20 223.5.5.5 | tail -2 | head -1 | cut -f 3 -d&amp;quot;,&amp;quot; | cut -f 1 -d&amp;quot;%&amp;quot; | cut -f 2 -d&amp;quot; &amp;quot;`&lt;br&gt;echo $num&lt;br&gt;echo $?&lt;br&gt;if [ $? -eq 0 -a $num -eq 0 ]; then&lt;br&gt;echo &amp;quot;$dt ok&amp;quot; &amp;gt;&amp;gt; /result.txt&lt;br&gt;else&lt;br&gt;echo &amp;quot;$dt noip loss $num reboot&amp;quot; &amp;gt;&amp;gt; /result.txt&lt;br&gt;reboot&lt;br&gt;fi&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;其它办法&#34;&gt;&lt;a href=&#34;#其它办法&#34; class=&#34;headerlink&#34; title=&#34;其它办法&#34;&gt;&lt;/a&gt;其它办法&lt;/h3&gt;&lt;p&gt;&lt;a href=&#34;https://bbs.nas66.com/thread-17505-1-1.html&#34;&gt;https://bbs.nas66.com/thread-17505-1-1.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://bbs.nas66.com/thread-16639-1-1.html&#34;&gt;https://bbs.nas66.com/thread-16639-1-1.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://bbs.nas66.com/thread-7843-1-1.html&#34;&gt;https://bbs.nas66.com/thread-7843-1-1.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://bbs.nas66.com/thread-9350-1-1.html&#34;&gt;https://bbs.nas66.com/thread-9350-1-1.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://bbs.nas66.com/thread-4593-5-3.html&#34;&gt;https://bbs.nas66.com/thread-4593-5-3.html&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;群晖回退x3p&#34;&gt;&lt;a href=&#34;#群晖回退x3p&#34; class=&#34;headerlink&#34; title=&#34;群晖回退x3p&#34;&gt;&lt;/a&gt;群晖回退x3p&lt;/h2&gt;&lt;p&gt;&lt;a href=&#34;https://bbs.nas66.com/forum.php?mod=viewthread&amp;tid=2661&#34;&gt;https://bbs.nas66.com/forum.php?mod=viewthread&amp;amp;tid=2661&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;主要就是刷x3p的UBOOT，插U盘，U盘放x3p的自动安装镜像&lt;/p&gt;
</content>
        <category term="linux" />
        <category term="cat_drive" />
        <updated>2022-01-21T14:57:15.000Z</updated>
    </entry>
</feed>
