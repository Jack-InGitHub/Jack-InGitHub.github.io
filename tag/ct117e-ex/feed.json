{
    "version": "https://jsonfeed.org/version/1",
    "title": "Oikiou's Blog • All posts by \"ct117e-ex\" tag",
    "description": "Blog",
    "home_page_url": "https://www.oikiou.top",
    "items": [
        {
            "id": "https://www.oikiou.top/2019/ea2a1972/",
            "url": "https://www.oikiou.top/2019/ea2a1972/",
            "title": "蓝桥杯嵌入式 国赛扩展板 CT117E-EX 学习笔记",
            "date_published": "2019-06-05T09:23:05.000Z",
            "content_html": "<h1 id=\"蓝桥杯嵌入式国赛扩展板-CT117E-EX-学习笔记\"><a href=\"#蓝桥杯嵌入式国赛扩展板-CT117E-EX-学习笔记\" class=\"headerlink\" title=\"蓝桥杯嵌入式国赛扩展板 CT117E-EX 学习笔记\"></a>蓝桥杯嵌入式国赛扩展板 CT117E-EX 学习笔记</h1><h1 id=\"CT117E-EX-扩展板笔记\"><a href=\"#CT117E-EX-扩展板笔记\" class=\"headerlink\" title=\"CT117E-EX 扩展板笔记\"></a>CT117E-EX 扩展板笔记</h1><hr>\n<h2 id=\"数码管（74HC595）\"><a href=\"#数码管（74HC595）\" class=\"headerlink\" title=\"数码管（74HC595）\"></a>数码管（74HC595）</h2><blockquote>\n<p>博主参加国赛有点皮，准备的不够就参赛了，结果国赛没敲出来数码管实在有点可惜。望看到本文的朋友在准备国赛一定要把这个功能做到盲打出来，第十届国赛没提供数码管的驱动。</p>\n</blockquote>\n<h3 id=\"RCLK-R-存储寄存器读取\"><a href=\"#RCLK-R-存储寄存器读取\" class=\"headerlink\" title=\"RCLK(R:存储寄存器读取)\"></a>RCLK(R:存储寄存器读取)</h3><ul>\n<li>上升沿    移位寄存器进入存储寄存器</li>\n<li>下降沿    数据保持不变</li>\n</ul>\n<h3 id=\"SCK-S-送入595\"><a href=\"#SCK-S-送入595\" class=\"headerlink\" title=\"SCK(S:送入595)\"></a>SCK(S:送入595)</h3><ul>\n<li>上升沿    数据寄存器数据移位。Q0–&gt;Q1–&gt;Q2–&gt;Q3–&gt;…–&gt;Q7;</li>\n<li>下降沿    移位寄存器数据不变</li>\n</ul>\n<h3 id=\"SER（数据脚）\"><a href=\"#SER（数据脚）\" class=\"headerlink\" title=\"SER（数据脚）\"></a>SER（数据脚）</h3><ul>\n<li>串行数据输入端</li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs c\"><span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">SEG_DisplayValue</span><span class=\"hljs-params\">(u8 Bit1,  u8 Bit2, u8 Bit3)</span><br>&#123;<br>\tu8 i = <span class=\"hljs-number\">0</span>;\t<span class=\"hljs-comment\">//</span><br>\tu8 code_tmp = <span class=\"hljs-number\">0</span>;<br><br>\t<span class=\"hljs-comment\">/*</span><br><span class=\"hljs-comment\">    *略过部分代码</span><br><span class=\"hljs-comment\">    */</span><br>\t<br>\tcode_tmp = Seg7[Bit1];<br>\t<span class=\"hljs-keyword\">for</span>(i=<span class=\"hljs-number\">0</span>;i&lt;<span class=\"hljs-number\">8</span>;i++)&#123;<br><br>\t\t<span class=\"hljs-keyword\">if</span>(code_tmp &amp; <span class=\"hljs-number\">0x80</span>)&#123;<br>\t\t\tSER_H;<br>\t\t&#125;<span class=\"hljs-keyword\">else</span>&#123;<br>\t\t\tSER_L;<br>\t\t&#125;<br>\t\tSCK_H;<span class=\"hljs-comment\">//数据移位</span><br>\t\tcode_tmp = code_tmp &lt;&lt; <span class=\"hljs-number\">1</span>;   <br>\t\tSCK_L;<br>\t&#125;\t\t<br>\tRCLK_H;\t<span class=\"hljs-comment\">//上升沿时移位寄存器进入存储寄存器</span><br>\tRCLK_L;\t<span class=\"hljs-comment\">//下降沿是数据保持不变</span><br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"数码管显示数组\"><a href=\"#数码管显示数组\" class=\"headerlink\" title=\"数码管显示数组\"></a>数码管显示数组</h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs c\">u8 code t_display[]=&#123;                       <span class=\"hljs-comment\">//标准字库</span><br><span class=\"hljs-comment\">//   0    1    2    3    4    5    6    7    8    9    A    B    C    D    E    F</span><br><span class=\"hljs-number\">0x3F</span>,<span class=\"hljs-number\">0x06</span>,<span class=\"hljs-number\">0x5B</span>,<span class=\"hljs-number\">0x4F</span>,<span class=\"hljs-number\">0x66</span>,<span class=\"hljs-number\">0x6D</span>,<span class=\"hljs-number\">0x7D</span>,<span class=\"hljs-number\">0x07</span>,<span class=\"hljs-number\">0x7F</span>,<span class=\"hljs-number\">0x6F</span>,<span class=\"hljs-number\">0x77</span>,<span class=\"hljs-number\">0x7C</span>,<span class=\"hljs-number\">0x39</span>,<span class=\"hljs-number\">0x5E</span>,<span class=\"hljs-number\">0x79</span>,<span class=\"hljs-number\">0x71</span>,<br><br><span class=\"hljs-comment\">//black  -     H    J    K    L    N    o   P    U     t    G    Q    r   M    y</span><br><span class=\"hljs-number\">0x00</span>,<span class=\"hljs-number\">0x40</span>,<span class=\"hljs-number\">0x76</span>,<span class=\"hljs-number\">0x1E</span>,<span class=\"hljs-number\">0x70</span>,<span class=\"hljs-number\">0x38</span>,<span class=\"hljs-number\">0x37</span>,<span class=\"hljs-number\">0x5C</span>,<span class=\"hljs-number\">0x73</span>,<span class=\"hljs-number\">0x3E</span>,<span class=\"hljs-number\">0x78</span>,<span class=\"hljs-number\">0x3d</span>,<span class=\"hljs-number\">0x67</span>,<span class=\"hljs-number\">0x50</span>,<span class=\"hljs-number\">0x37</span>,<span class=\"hljs-number\">0x6e</span>,<br>    <br> <span class=\"hljs-comment\">//0. 1. 2. 3. 4. 5. 6. 7. 8. 9. -1</span><br><span class=\"hljs-number\">0xBF</span>,<span class=\"hljs-number\">0x86</span>,<span class=\"hljs-number\">0xDB</span>,<span class=\"hljs-number\">0xCF</span>,<span class=\"hljs-number\">0xE6</span>,<span class=\"hljs-number\">0xED</span>,<span class=\"hljs-number\">0xFD</span>,<span class=\"hljs-number\">0x87</span>,<span class=\"hljs-number\">0xFF</span>,<span class=\"hljs-number\">0xEF</span>,<span class=\"hljs-number\">0x46</span>&#125;;    <br></code></pre></td></tr></table></figure>\n\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs c\"><span class=\"hljs-comment\">//   0    1    2    3    4    5    6    7    8    9</span><br><br><span class=\"hljs-number\">0x3F</span>,<span class=\"hljs-number\">0x06</span>,<span class=\"hljs-number\">0x5B</span>,<span class=\"hljs-number\">0x4F</span>,<span class=\"hljs-number\">0x66</span>,<span class=\"hljs-number\">0x6D</span>,<span class=\"hljs-number\">0x7D</span>,<span class=\"hljs-number\">0x07</span>,<span class=\"hljs-number\">0x7F</span>,<span class=\"hljs-number\">0x6F</span>,<span class=\"hljs-number\">0x77</span><br></code></pre></td></tr></table></figure>\n\n\n<hr>\n<h2 id=\"ADC按键\"><a href=\"#ADC按键\" class=\"headerlink\" title=\"ADC按键\"></a>ADC按键</h2><h3 id=\"ADC-KEY-引脚\"><a href=\"#ADC-KEY-引脚\" class=\"headerlink\" title=\"ADC KEY 引脚\"></a>ADC KEY 引脚</h3><p> PA5      ADC_12_<strong>IN5</strong></p>\n<blockquote>\n<p>背下ADC按键区间</p>\n</blockquote>\n<h3 id=\"按键值\"><a href=\"#按键值\" class=\"headerlink\" title=\"按键值\"></a>按键值</h3><table>\n<thead>\n<tr>\n<th align=\"left\">ADC值</th>\n<th>ADC按键区间</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">0</td>\n<td>&lt;100</td>\n</tr>\n<tr>\n<td align=\"left\">200</td>\n<td>&lt;400</td>\n</tr>\n<tr>\n<td align=\"left\">600</td>\n<td>&lt;800</td>\n</tr>\n<tr>\n<td align=\"left\">1000</td>\n<td>&lt;1200</td>\n</tr>\n<tr>\n<td align=\"left\">1300-1400</td>\n<td>&lt;1600</td>\n</tr>\n<tr>\n<td align=\"left\">1700-1900</td>\n<td>&lt;2000</td>\n</tr>\n<tr>\n<td align=\"left\">2100-2400</td>\n<td>&lt;2600</td>\n</tr>\n<tr>\n<td align=\"left\">2800-3000</td>\n<td>&lt;3200</td>\n</tr>\n</tbody></table>\n<hr>\n<h2 id=\"DHT11模块\"><a href=\"#DHT11模块\" class=\"headerlink\" title=\"DHT11模块\"></a>DHT11模块</h2><h3 id=\"芯片性能\"><a href=\"#芯片性能\" class=\"headerlink\" title=\"芯片性能\"></a>芯片性能</h3><ul>\n<li>温度测量范围：0－50℃</li>\n<li>湿度测量范围：20－90％RH</li>\n<li>采样周期 ：1S</li>\n</ul>\n<h3 id=\"数据格式\"><a href=\"#数据格式\" class=\"headerlink\" title=\"数据格式\"></a>数据格式</h3><table>\n<thead>\n<tr>\n<th>Byte0</th>\n<th>Byte1</th>\n<th>Byte2</th>\n<th>Byte3</th>\n<th>Byte4</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>湿度整数数据</td>\n<td>湿度小数数据</td>\n<td>温度整数数据</td>\n<td>温度小数数据</td>\n<td>校验和</td>\n</tr>\n</tbody></table>\n<h3 id=\"编程思路\"><a href=\"#编程思路\" class=\"headerlink\" title=\"编程思路\"></a>编程思路</h3><ul>\n<li>主机输出</li>\n<li>主机拉  <strong>低</strong>  至少 <font color=\"red\">18ms</font></li>\n<li>主机拉  <strong>高</strong>  <font color=\"red\">20-40us</font></li>\n<li>主机输入</li>\n<li>主机等待信号线拉 <strong>低</strong>   （DHT11发送持续  <strong>40-50us</strong> 的  <strong>低</strong>   响应信号）</li>\n<li>主机等待信号线拉 <strong>高</strong>   （DHT11发送持续  <strong>40-50us</strong> 的  <strong>高</strong>   拉高信号）</li>\n<li>for(){   &#x2F;&#x2F;40bit数据       5Byte<ul>\n<li>主机等待数据线拉<strong>低</strong>    （数据Bit开始）</li>\n<li>主机等待数据线拉<strong>高</strong>    </li>\n<li>主机延时 时间大于<strong>28us</strong>小于<strong>70us</strong>    （ <font color=\"red\">Type值 40us</font>）</li>\n<li>主机读取数据</li>\n</ul>\n</li>\n<li>}</li>\n<li>主机输出</li>\n<li>主机拉高</li>\n</ul>\n<h3 id=\"技巧-amp-TIP\"><a href=\"#技巧-amp-TIP\" class=\"headerlink\" title=\"技巧&amp;TIP\"></a>技巧&amp;TIP</h3><ul>\n<li>DHT11分辨率都是整数级别的<strong>读取小数的数据部分没有意义</strong>。（全为0）</li>\n<li>读取间隔建议大于100ms（采样 1S 过高的读取频率没有意义）</li>\n<li>在72MHz频率下 <strong>Delay_LCD</strong> 运行一次大约 <strong>375us</strong></li>\n</ul>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs c\"><span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">Delay_LCD</span><span class=\"hljs-params\">(u16 n)</span><br>&#123;<br>\tu16 i,j;<br>\t<span class=\"hljs-keyword\">for</span> (i = <span class=\"hljs-number\">0</span>;i&lt;n;++i)<br>\t\t<span class=\"hljs-keyword\">for</span>(j=<span class=\"hljs-number\">0</span>;j&lt;<span class=\"hljs-number\">3000</span>;++j);<br>&#125;<br><span class=\"hljs-comment\">//将里面的 3000 改成 8 运行一次大概 1us </span><br><span class=\"hljs-comment\">//运行次数越少比1us越多</span><br><span class=\"hljs-comment\">//运行次数越多比1us越少</span><br></code></pre></td></tr></table></figure>\n\n\n\n\n<hr>\n<h2 id=\"18B20模块\"><a href=\"#18B20模块\" class=\"headerlink\" title=\"18B20模块\"></a>18B20模块</h2><h3 id=\"芯片性能-1\"><a href=\"#芯片性能-1\" class=\"headerlink\" title=\"芯片性能\"></a>芯片性能</h3><ul>\n<li>±0.5°C accuracy from -10°C to +85°C</li>\n<li>Can be powered from data line. Power supply range is 3.0V to 5.5V</li>\n<li>Converts 12-bit temperature to digital word in 750 ms (max.)</li>\n</ul>\n<h3 id=\"数据格式-1\"><a href=\"#数据格式-1\" class=\"headerlink\" title=\"数据格式\"></a>数据格式</h3><h4 id=\"数据格式-2\"><a href=\"#数据格式-2\" class=\"headerlink\" title=\"数据格式\"></a>数据格式</h4><ul>\n<li>写Byte数据先写<strong>低位</strong></li>\n<li>读Byte数据先读出的是<strong>低位</strong></li>\n<li>读出来的温度先是  <strong>LSM 8bit</strong>  然后是 MSB 8bit</li>\n</ul>\n<h4 id=\"总线协议-amp-时序\"><a href=\"#总线协议-amp-时序\" class=\"headerlink\" title=\"总线协议&amp;时序\"></a>总线协议&amp;时序</h4><p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-n4fqEHfa-1627893566676)(蓝桥杯嵌入式决赛笔记.assets&#x2F;01-1557625836489.png)]</p>\n<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-MDCAsN9Z-1627893566679)(蓝桥杯嵌入式决赛笔记.assets&#x2F;02.png)]</p>\n<h3 id=\"编程思路-1\"><a href=\"#编程思路-1\" class=\"headerlink\" title=\"编程思路\"></a>编程思路</h3><blockquote>\n<p>第十届提供了底层接口，比赛会下面这些就好了</p>\n</blockquote>\n<p>0xCC\tOW_SKIP_ROM</p>\n<p>0x44\tDS18B20_CONVERT</p>\n<p>0xCC\tOW_SKIP_ROM</p>\n<p>0xBE\tDS18B20_READ</p>\n<hr>\n<h2 id=\"LIS302DL\"><a href=\"#LIS302DL\" class=\"headerlink\" title=\"LIS302DL\"></a>LIS302DL</h2><p>NULL</p>\n<hr>\n<h2 id=\"光敏-D-amp-A\"><a href=\"#光敏-D-amp-A\" class=\"headerlink\" title=\"光敏 D&amp;A\"></a>光敏 D&amp;A</h2><h3 id=\"光敏D\"><a href=\"#光敏D\" class=\"headerlink\" title=\"光敏D\"></a>光敏D</h3><ul>\n<li>GPIOA_Pin_3 </li>\n<li>GPIO_Mode_IPU</li>\n</ul>\n<h3 id=\"光敏A\"><a href=\"#光敏A\" class=\"headerlink\" title=\"光敏A\"></a>光敏A</h3><blockquote>\n<p>AD通道号就是Pin号</p>\n</blockquote>\n<ul>\n<li>GPIOA_Pin_4</li>\n<li>ADC1</li>\n<li>ADC_Channel_4</li>\n</ul>\n<hr>\n<h2 id=\"电位器\"><a href=\"#电位器\" class=\"headerlink\" title=\"电位器\"></a>电位器</h2><blockquote>\n<p>省赛内容没什么好说的</p>\n</blockquote>\n<p>NULL</p>\n<hr>\n<h2 id=\"PULS-amp-PWM\"><a href=\"#PULS-amp-PWM\" class=\"headerlink\" title=\"PULS&amp;PWM\"></a>PULS&amp;PWM</h2><blockquote>\n<p>比较捕获模式万能解题。如果题目不是要求同时采集CH1和CH2可以用PWM捕获模式挺好用的，改进一下可以不使用中断直接读取出占空比和频率，效率挺高。</p>\n</blockquote>\n<p>PA1        TIM2_CH2</p>\n<p>PA2        TIM2_CH3</p>\n<p>PA6        TIM3_CH1</p>\n<p>PA7        TIM3_CH2</p>\n<hr>\n<h2 id=\"界面颜色搭配\"><a href=\"#界面颜色搭配\" class=\"headerlink\" title=\"界面颜色搭配\"></a>界面颜色搭配</h2><blockquote>\n<p>萝卜青菜各有所爱，好看就行了</p>\n</blockquote>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs c\">LCD_SetBackColor(Blue);<span class=\"hljs-comment\">//界面标题</span><br>LCD_SetTextColor(White);<br><span class=\"hljs-comment\">//Line0\t\t1</span><br>LCD_SetBackColor(White);<span class=\"hljs-comment\">//界面内容</span><br>LCD_SetTextColor(Blue);<br><span class=\"hljs-comment\">//Line1-7\t7</span><br>LCD_SetBackColor(Blue);<span class=\"hljs-comment\">//界面介绍</span><br>LCD_SetTextColor(Black);<br><span class=\"hljs-comment\">//Line89\t2</span><br></code></pre></td></tr></table></figure>\n\n\n\n\n\n\n\n\n\n\n<h1 id=\"蓝桥的其他文章与我个人敲的代码\"><a href=\"#蓝桥的其他文章与我个人敲的代码\" class=\"headerlink\" title=\"蓝桥的其他文章与我个人敲的代码\"></a>蓝桥的其他文章与我个人敲的代码</h1><p><a href=\"https://blog.csdn.net/weixin_42078116/article/details/87983401\">蓝桥杯嵌入式STM32 零碎笔记</a></p>\n<p><a href=\"https://blog.csdn.net/weixin_42078116/article/details/90905914\">蓝桥杯嵌入式 错题本</a></p>\n<p>省赛及国赛的赛题的实现代码可以在我的下载里面找到</p>\n",
            "tags": [
                "ct117e-ex",
                "蓝桥杯"
            ]
        }
    ]
}