<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>Oikiou&#39;s Blog â€¢ Posts by &#34;https&#34; tag</title>
        <link>https://www.oikiou.top</link>
        <description>Blog</description>
        <language>zh-CN</language>
        <pubDate>Thu, 12 Jan 2023 12:08:08 +0800</pubDate>
        <lastBuildDate>Thu, 12 Jan 2023 12:08:08 +0800</lastBuildDate>
        <category>autosar</category>
        <category>aes</category>
        <category>embedded</category>
        <category>cc2530</category>
        <category>zigbee</category>
        <category>hp</category>
        <category>chrome</category>
        <category>sscanf</category>
        <category>c/c++</category>
        <category>flash</category>
        <category>hex</category>
        <category>license</category>
        <category>ssl</category>
        <category>https</category>
        <category>jpeg</category>
        <category>webp</category>
        <category>jpeg2000</category>
        <category>image</category>
        <category>md5</category>
        <category>major</category>
        <category>markdown</category>
        <category>note</category>
        <category>osi</category>
        <category>RustDesk</category>
        <category>iap</category>
        <category>bootloader</category>
        <category>stm32</category>
        <category>tags</category>
        <category>label</category>
        <category>category</category>
        <category>usart</category>
        <category>rts</category>
        <category>cts</category>
        <category>dtr</category>
        <category>dsr</category>
        <category>typora</category>
        <category>ws2812</category>
        <category>spi</category>
        <category>dma</category>
        <category>windows</category>
        <category>makefile</category>
        <category>xip</category>
        <category>nor</category>
        <category>nand</category>
        <category>android</category>
        <category>mtp</category>
        <category>pc</category>
        <category>driver</category>
        <category>ip</category>
        <category>location</category>
        <category>api</category>
        <category>zip</category>
        <category>gzip</category>
        <category>bzip</category>
        <category>tar</category>
        <category>zsh</category>
        <category>shell</category>
        <category>linux</category>
        <category>character encoding</category>
        <category>gb2312</category>
        <category>utf-8</category>
        <category>words</category>
        <category>cortexm3</category>
        <category>kms</category>
        <category>office</category>
        <category>volume</category>
        <category>DS_Store</category>
        <category>rtf</category>
        <category>åç¼€</category>
        <category>æœºæ™ºäº‘</category>
        <category>è“æ¡¥æ¯</category>
        <category>å›½èµ›</category>
        <category>ct117e</category>
        <category>ct117e-ex</category>
        <category>apk</category>
        <category>java</category>
        <category>è¶…å£°æ³¢</category>
        <category>github</category>
        <category>hosts</category>
        <category>audio</category>
        <category>video</category>
        <category>cad</category>
        <category>cat_drive</category>
        <category>switch</category>
        <category>nintendo</category>
        <category>game</category>
        <category>hardware</category>
        <category>lenovo</category>
        <category>disk</category>
        <category>pve</category>
        <category>virtual</category>
        <category>software</category>
        <category>æ‘„å½±</category>
        <category>synology</category>
        <category>cmake</category>
        <category>dslogic</category>
        <category>é€»è¾‘åˆ†æä»ª</category>
        <category>pyhton</category>
        <category>decoder</category>
        <category>docker</category>
        <category>dockerfile</category>
        <category>namespace</category>
        <category>cgroup</category>
        <category>dockerhub</category>
        <category>frp</category>
        <category>hyperv</category>
        <category>git</category>
        <category>j-link</category>
        <category>rtt</category>
        <category>serial</category>
        <category>debug</category>
        <category>jlink</category>
        <category>j-tag</category>
        <category>ps</category>
        <category>powershell</category>
        <category>obsidian</category>
        <category>spacedesk</category>
        <category>æŠ•å±</category>
        <category>vscode</category>
        <category>ide</category>
        <category>sourceinsigh</category>
        <category>si</category>
        <category>commenttranslate</category>
        <category>wsl</category>
        <category>rdpwrap</category>
        <category>rdp</category>
        <category>speedtest</category>
        <category>tools</category>
        <category>wordpress</category>
        <category>web</category>
        <category>mysql</category>
        <category>nginx</category>
        <category>tmux</category>
        <category>unit</category>
        <category>m</category>
        <category>cm</category>
        <category>mm</category>
        <category>s</category>
        <category>us</category>
        <category>v2ray</category>
        <category>hexo</category>
        <category>jekyll</category>
        <category>fluid</category>
        <category>cusdis</category>
        <category>twikoo</category>
        <category>blog</category>
        <category>gravatar</category>
        <category>cravatar</category>
        <category>usb</category>
        <category>c++</category>
        <category>c</category>
        <category>ms-dos</category>
        <category>cmd</category>
        <category>micropython</category>
        <category>python</category>
        <category>pid</category>
        <category>qt</category>
        <category>pyqt</category>
        <category>css</category>
        <category>html</category>
        <category>js</category>
        <category>æ•°æ®ç»“æ„</category>
        <category>å †æ ˆ</category>
        <category>é˜Ÿåˆ—</category>
        <category>é“¾è¡¨</category>
        <category>æ ‘</category>
        <category>äºŒå‰æ ‘</category>
        <category>æ­£åˆ™è¡¨è¾¾å¼</category>
        <category>cortex-a7</category>
        <category>cortex-m3</category>
        <category>rtx</category>
        <category>rtos</category>
        <category>keil</category>
        <category>rt-thread</category>
        <category>ucos</category>
        <category>raspberry</category>
        <category>wiringpi</category>
        <category>bluetooth</category>
        <category>è“ç‰™</category>
        <category>pwm</category>
        <category>ap</category>
        <category>wifi</category>
        <category>modbus</category>
        <category>linuxapp</category>
        <category>curl</category>
        <category>libcurl</category>
        <category>zlib</category>
        <category>minizip</category>
        <category>alpha_mini</category>
        <category>æ­£ç‚¹åŸå­</category>
        <item>
            <guid isPermalink="true">https://www.oikiou.top/2023/e7fefe87/</guid>
            <title>Let&#39;s Encrypt SSL è¯ä¹¦ç”³è¯·</title>
            <link>https://www.oikiou.top/2023/e7fefe87/</link>
            <category>ssl</category>
            <category>https</category>
            <pubDate>Thu, 12 Jan 2023 12:08:08 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;Letâ€™s-Encrypt-SSL-è¯ä¹¦ç”³è¯·&#34;&gt;&lt;a href=&#34;#Letâ€™s-Encrypt-SSL-è¯ä¹¦ç”³è¯·&#34; class=&#34;headerlink&#34; title=&#34;Letâ€™s Encrypt SSL è¯ä¹¦ç”³è¯·&#34;&gt;&lt;/a&gt;Letâ€™s Encrypt SSL è¯ä¹¦ç”³è¯·&lt;/h1&gt;&lt;h1 id=&#34;ä¸ºä»€ä¹ˆç”³è¯·ï¼Ÿ&#34;&gt;&lt;a href=&#34;#ä¸ºä»€ä¹ˆç”³è¯·ï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;ä¸ºä»€ä¹ˆç”³è¯·ï¼Ÿ&#34;&gt;&lt;/a&gt;ä¸ºä»€ä¹ˆç”³è¯·ï¼Ÿ&lt;/h1&gt;&lt;blockquote&gt;
&lt;h2 id=&#34;HTTPï¼šæœªå®æ–½æ•°æ®åŠ å¯†&#34;&gt;&lt;a href=&#34;#HTTPï¼šæœªå®æ–½æ•°æ®åŠ å¯†&#34; class=&#34;headerlink&#34; title=&#34;HTTPï¼šæœªå®æ–½æ•°æ®åŠ å¯†&#34;&gt;&lt;/a&gt;HTTPï¼šæœªå®æ–½æ•°æ®åŠ å¯†&lt;/h2&gt;&lt;p&gt;  æ¯ä¸ªä»¥ HTTP å¼€å¤´çš„ URL é“¾æ¥éƒ½ä½¿ç”¨ä¸€ç§åŸºæœ¬ç±»å‹çš„â€œè¶…æ–‡æœ¬ä¼ è¾“åè®®â€ã€‚ç”± Tim Berners-Lee äº 1990 å¹´ä»£åˆåˆ›å»ºï¼Œå½“æ—¶äº’è”ç½‘ä»å¤„äºèµ·æ­¥é˜¶æ®µï¼Œè¯¥ç½‘ç»œåè®®æ ‡å‡†å…è®¸ Web æµè§ˆå™¨å’ŒæœåŠ¡å™¨é€šè¿‡æ•°æ®äº¤æ¢è¿›è¡Œé€šä¿¡ã€‚&lt;/p&gt;
&lt;p&gt;  HTTP ä¹Ÿè¢«ç§°ä¸ºâ€œæ— çŠ¶æ€ç³»ç»Ÿâ€ï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥æŒ‰éœ€è¿æ¥ã€‚æ‚¨å•å‡»ä¸€ä¸ªé“¾æ¥ï¼Œè¯·æ±‚è¿æ¥ï¼Œæ‚¨çš„ Web æµè§ˆå™¨å°†æ­¤è¯·æ±‚å‘é€åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨é€šè¿‡æ‰“å¼€é¡µé¢è¿›è¡Œå“åº”ã€‚è¿æ¥è¶Šå¿«ï¼Œæ•°æ®å‘ˆç°ç»™æ‚¨çš„é€Ÿåº¦å°±è¶Šå¿«ã€‚&lt;/p&gt;
&lt;p&gt;  ä½œä¸ºä¸€ç§â€œåº”ç”¨å±‚åè®®â€ï¼ŒHTTP ä»ç„¶ä¸“æ³¨äºå‘ˆç°ä¿¡æ¯ï¼Œä½†ä¸å¤ªå…³å¿ƒè¿™äº›ä¿¡æ¯ä»ä¸€ä¸ªåœ°æ–¹ä¼ æ’­åˆ°å¦ä¸€ä¸ªåœ°æ–¹çš„æ–¹å¼ã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¿™æ„å‘³ç€ HTTP å¯èƒ½ä¼š&lt;a href=&#34;https://www.globalsign.com/en/blog/what-is-a-man-in-the-middle-attack&#34;&gt;è¢«æ‹¦æˆªå¹¶å¯èƒ½è¢«æ›´æ”¹&lt;/a&gt;ï¼Œä»è€Œä½¿ä¿¡æ¯å’Œä¿¡æ¯æ¥æ”¶è€…ï¼ˆå³æ‚¨ï¼‰éƒ½å®¹æ˜“å—åˆ°æ”»å‡»ã€‚&lt;/p&gt;
&lt;h2 id=&#34;HTTPSï¼šåŠ å¯†è¿æ¥&#34;&gt;&lt;a href=&#34;#HTTPSï¼šåŠ å¯†è¿æ¥&#34; class=&#34;headerlink&#34; title=&#34;HTTPSï¼šåŠ å¯†è¿æ¥&#34;&gt;&lt;/a&gt;HTTPSï¼šåŠ å¯†è¿æ¥&lt;/h2&gt;&lt;p&gt;  HTTPS ä¸æ˜¯ HTTP çš„å¯¹ç«‹é¢ï¼Œè€Œæ˜¯å®ƒçš„è¡¨å¼Ÿã€‚ä¸¤è€…æœ¬è´¨ä¸Šæ˜¯ç›¸åŒçš„ï¼Œå› ä¸ºå®ƒä»¬éƒ½æŒ‡çš„æ˜¯ç›¸åŒçš„â€œè¶…æ–‡æœ¬ä¼ è¾“åè®®â€ï¼Œè¯¥åè®®ä½¿è¯·æ±‚çš„ Web æ•°æ®èƒ½å¤Ÿæ˜¾ç¤ºåœ¨æ‚¨çš„å±å¹•ä¸Šã€‚ä½†æ˜¯ï¼ŒHTTPS ä»ç„¶ç•¥æœ‰ä¸åŒï¼Œæ›´å…ˆè¿›ï¼Œä¹Ÿæ›´å®‰å…¨ã€‚&lt;/p&gt;
&lt;p&gt;  ç®€å•çš„è¯´ï¼ŒHTTPSåè®®æ˜¯HTTPçš„æ‰©å±•ã€‚ç¼©å†™ä¸­çš„â€œSâ€æ¥è‡ª Secure ä¸€è¯ï¼Œå®ƒç”±ä¼ è¾“å±‚å®‰å…¨æ€§ (TLS) [&lt;a href=&#34;https://www.globalsign.com/en/ssl-information-center/what-is-ssl/&#34;&gt;å®‰å…¨å¥—æ¥å­—å±‚ (SSL)&lt;/a&gt;çš„åç»§è€…] æä¾›æ”¯æŒï¼Œè¿™æ˜¯ä¸€ç§åœ¨ Web æœåŠ¡å™¨å’ŒæœåŠ¡å™¨ä¹‹é—´å»ºç«‹åŠ å¯†è¿æ¥çš„æ ‡å‡†å®‰å…¨æŠ€æœ¯ã€‚æµè§ˆå™¨ã€‚&lt;/p&gt;
&lt;p&gt;  å¦‚æœæ²¡æœ‰ HTTPSï¼Œæ‚¨è¾“å…¥ç½‘ç«™çš„ä»»ä½•æ•°æ®ï¼ˆä¾‹å¦‚æ‚¨çš„ç”¨æˆ·å&amp;#x2F;å¯†ç ã€ä¿¡ç”¨å¡æˆ–é“¶è¡Œè¯¦ç»†ä¿¡æ¯ã€ä»»ä½•å…¶ä»–è¡¨å•æäº¤æ•°æ®ç­‰ï¼‰éƒ½å°†ä»¥æ˜æ–‡å½¢å¼å‘é€ï¼Œå› æ­¤å®¹æ˜“è¢«æ‹¦æˆªæˆ–çªƒå¬ã€‚å› æ­¤ï¼Œåœ¨è¾“å…¥ä»»ä½•ä¿¡æ¯ä¹‹å‰ï¼Œæ‚¨åº”è¯¥å§‹ç»ˆæ£€æŸ¥ç«™ç‚¹æ˜¯å¦ä½¿ç”¨ HTTPSã€‚&lt;/p&gt;
&lt;p&gt;  é™¤äº†åŠ å¯†æœåŠ¡å™¨å’Œæ‚¨çš„æµè§ˆå™¨ä¹‹é—´ä¼ è¾“çš„æ•°æ®å¤–ï¼ŒTLS è¿˜éªŒè¯æ‚¨æ­£åœ¨è¿æ¥çš„æœåŠ¡å™¨å¹¶ä¿æŠ¤ä¼ è¾“çš„æ•°æ®ä¸è¢«ç¯¡æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;  è¿™æœ‰åŠ©äºæˆ‘è¿™æ ·æ€è€ƒâ€”â€”HTTPS ä¸­çš„ HTTP ç›¸å½“äºä¸€ä¸ªç›®çš„åœ°ï¼Œè€Œ SSL ç›¸å½“äºä¸€ä¸ªæ—…ç¨‹ã€‚ç¬¬ä¸€ä¸ªè´Ÿè´£å°†æ•°æ®æ˜¾ç¤ºåˆ°å±å¹•ä¸Šï¼Œç¬¬äºŒä¸ªè´Ÿè´£ç®¡ç†æ•°æ®åˆ°è¾¾é‚£é‡Œçš„æ–¹å¼ã€‚é€šè¿‡è”åˆåŠ›é‡ï¼Œä»–ä»¬ä»¥å®‰å…¨çš„æ–¹å¼ç§»åŠ¨æ•°æ®ã€‚  &lt;/p&gt;
&lt;p&gt;  &lt;a href=&#34;https://www.globalsign.com/en/blog/the-difference-between-http-and-https&#34;&gt;Whatâ€™s the difference between HTTP and HTTPS?&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;HTTPS æœ‰åŠ©äºç¡®ä¿ç½‘ç»œå®‰å…¨ã€‚æ¯«æ— ç–‘é—®ï¼Œå®ƒæ˜¯æ¯” HTTP æ›´å¥½çš„ç½‘ç»œåè®®è§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;å°†ç½‘ç«™å¼€å¯HTTPSçš„æœåŠ¡æ˜¯éœ€è¦SSLçš„è¯ä¹¦çš„ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¦‚ä½•åœ¨Letâ€™s Encryptä¸Šç”³è¯·å…è´¹çš„SSLè¯ä¹¦ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;  Letâ€™s Encrypt æ˜¯å…è´¹ã€å¼€æ”¾å’Œè‡ªåŠ¨åŒ–çš„è¯ä¹¦é¢å‘æœºæ„ã€‚ç”±éç›ˆåˆ©ç»„ç»‡&lt;a href=&#34;https://www.abetterinternet.org/&#34;&gt;äº’è”ç½‘å®‰å…¨ç ”ç©¶å°ç»„ï¼ˆISRGï¼‰&lt;/a&gt;è¿è¥ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;ç”³è¯·çš„å‰ææ¡ä»¶&#34;&gt;&lt;a href=&#34;#ç”³è¯·çš„å‰ææ¡ä»¶&#34; class=&#34;headerlink&#34; title=&#34;ç”³è¯·çš„å‰ææ¡ä»¶&#34;&gt;&lt;/a&gt;ç”³è¯·çš„å‰ææ¡ä»¶&lt;/h1&gt;&lt;p&gt;æˆ‘ä»¬ç”³è¯·SSLè¯ä¹¦çš„å‰ææ¡ä»¶æœ‰ä¸‹é¢è¿™å‡ ä¸ª&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ‹¥æœ‰åŸŸåï¼Œèƒ½å¤Ÿè‡ªä¸»é…ç½®DNSã€‚æˆ–è€…æä¾›WebæœåŠ¡å™¨åšéªŒè¯ï¼Œåœ¨ç½‘ç«™ç›®å½•ä¸‹æ”¾ä¸€ä¸ªæ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;è·å–è¯ä¹¦çš„ç¯å¢ƒè¦èƒ½è®¿é—®DNSæœåŠ¡å™¨ï¼Œå› ä¸ºä¼šéœ€è¦åšDNSè§£ææ ¡éªŒã€‚&lt;/li&gt;
&lt;li&gt;éœ€è¦æœ‰è¿œç¨‹ä¸»æœºçš„æƒé™ï¼Œä¼šéœ€è¦æ›´æ–°å’Œå®‰è£…ç»„ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;å…¬ç½‘IPï¼Œä¿ç•™åœ°å€æ— æ³•ç”³è¯·SSLã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ç”³è¯·æ­¥éª¤&#34;&gt;&lt;a href=&#34;#ç”³è¯·æ­¥éª¤&#34; class=&#34;headerlink&#34; title=&#34;ç”³è¯·æ­¥éª¤&#34;&gt;&lt;/a&gt;ç”³è¯·æ­¥éª¤&lt;/h1&gt;&lt;p&gt;Letâ€™s Encrypt çš„è¯ä¹¦ç”³è¯·é™¤å»æ‰‹åŠ¨ç”³è¯·å¸¸è§çš„ä¸»è¦æœ‰ä¸‹é¢è¿™å‡ ç§&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;acme.sh&lt;/code&gt;çš„æ–¹å¼&lt;em&gt;ï¼ˆæˆ‘å½“æ—¶é€‰å–äº†è¿™ä¸ªæ–¹å¼ï¼‰&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;docker é•œåƒè·å–&lt;/li&gt;
&lt;li&gt;&lt;code&gt;certbot&lt;/code&gt;æ–¹å¼è·å–è¯ä¹¦&lt;em&gt;ï¼ˆå®˜ç½‘å»ºè®®ä½¿ç”¨è¿™ç§æ–¹å¼è·å–è¯ä¹¦ï¼Œå¯ä»¥åœ¨ä¸ä¸‹çº¿çš„çŠ¶æ€ä¸‹è‡ªåŠ¨æ‰§è¡Œè¯ä¹¦é¢å‘å’Œå®‰è£…ï¼‰&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;acme-shè„šæœ¬&#34;&gt;&lt;a href=&#34;#acme-shè„šæœ¬&#34; class=&#34;headerlink&#34; title=&#34;acme.shè„šæœ¬&#34;&gt;&lt;/a&gt;&lt;code&gt;acme.sh&lt;/code&gt;è„šæœ¬&lt;/h2&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/acmesh-official/acme.sh&#34;&gt;Githubé“¾æ¥ï¼šAn ACME Shell script: acme.sh&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Githubçš„READMEå…¶å®ä»‹ç»çš„å…¶å®å¾ˆå…¨é¢ï¼Œè¿™é‡Œcopyä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;  &lt;strong&gt;acme.sh&lt;/strong&gt; å®ç°äº† &lt;code&gt;acme&lt;/code&gt; åè®®, å¯ä»¥ä» letsencrypt ç”Ÿæˆå…è´¹çš„è¯ä¹¦.&lt;/p&gt;
&lt;p&gt;  ä¸»è¦æ­¥éª¤:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®‰è£… &lt;strong&gt;acme.sh&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ç”Ÿæˆè¯ä¹¦&lt;/li&gt;
&lt;li&gt;copy è¯ä¹¦åˆ° nginx&amp;#x2F;apache æˆ–è€…å…¶ä»–æœåŠ¡&lt;/li&gt;
&lt;li&gt;æ›´æ–°è¯ä¹¦&lt;/li&gt;
&lt;li&gt;æ›´æ–° &lt;strong&gt;acme.sh&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å‡ºé”™æ€ä¹ˆåŠ, å¦‚ä½•è°ƒè¯•&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;  ä¸‹é¢è¯¦ç»†ä»‹ç».&lt;/p&gt;
&lt;h1 id=&#34;1-å®‰è£…-acme-sh&#34;&gt;&lt;a href=&#34;#1-å®‰è£…-acme-sh&#34; class=&#34;headerlink&#34; title=&#34;1. å®‰è£… acme.sh&#34;&gt;&lt;/a&gt;1. å®‰è£… &lt;strong&gt;acme.sh&lt;/strong&gt;&lt;/h1&gt;&lt;p&gt;  å®‰è£…å¾ˆç®€å•, ä¸€ä¸ªå‘½ä»¤:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;  è¿™é‡Œè¾“å…¥ä½ çš„é‚®ç®±ï¼Œè¿™ä¸ªé‚®ç®±æœ‰ä»€ä¹ˆç”¨å€’æ˜¯ä¸å¤ªæ¸…æ¥š&lt;/p&gt;
&lt;/blockquote&gt;
  &lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;curl https://get.acme.sh | sh -s email=my@example.com&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;  æ™®é€šç”¨æˆ·å’Œ root ç”¨æˆ·éƒ½å¯ä»¥å®‰è£…ä½¿ç”¨. å®‰è£…è¿‡ç¨‹è¿›è¡Œäº†ä»¥ä¸‹å‡ æ­¥:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æŠŠ acme.sh å®‰è£…åˆ°ä½ çš„ &lt;strong&gt;home&lt;/strong&gt; ç›®å½•ä¸‹:&lt;/li&gt;
&lt;/ol&gt;
  &lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;~/.acme.sh/&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;  å¹¶åˆ›å»º ä¸€ä¸ª shell çš„ alias, ä¾‹å¦‚ .bashrcï¼Œæ–¹ä¾¿ä½ çš„ä½¿ç”¨: &lt;code&gt;alias acme.sh=~/.acme.sh/acme.sh&lt;/code&gt;&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;è‡ªåŠ¨ä¸ºä½ åˆ›å»º cronjob, æ¯å¤© 0:00 ç‚¹è‡ªåŠ¨æ£€æµ‹æ‰€æœ‰çš„è¯ä¹¦, å¦‚æœå¿«è¿‡æœŸäº†, éœ€è¦æ›´æ–°, åˆ™ä¼šè‡ªåŠ¨æ›´æ–°è¯ä¹¦.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;  æ›´é«˜çº§çš„å®‰è£…é€‰é¡¹è¯·å‚è€ƒ: &lt;a href=&#34;https://github.com/Neilpang/acme.sh/wiki/How-to-install&#34;&gt;https://github.com/Neilpang/acme.sh/wiki/How-to-install&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;  &lt;strong&gt;å®‰è£…è¿‡ç¨‹ä¸ä¼šæ±¡æŸ“å·²æœ‰çš„ç³»ç»Ÿä»»ä½•åŠŸèƒ½å’Œæ–‡ä»¶&lt;/strong&gt;, æ‰€æœ‰çš„ä¿®æ”¹éƒ½é™åˆ¶åœ¨å®‰è£…ç›®å½•ä¸­: &lt;code&gt;~/.acme.sh/&lt;/code&gt;&lt;/p&gt;
&lt;h1 id=&#34;2-ç”Ÿæˆè¯ä¹¦&#34;&gt;&lt;a href=&#34;#2-ç”Ÿæˆè¯ä¹¦&#34; class=&#34;headerlink&#34; title=&#34;2. ç”Ÿæˆè¯ä¹¦&#34;&gt;&lt;/a&gt;2. ç”Ÿæˆè¯ä¹¦&lt;/h1&gt;&lt;p&gt;  &lt;strong&gt;acme.sh&lt;/strong&gt; å®ç°äº† &lt;strong&gt;acme&lt;/strong&gt; åè®®æ”¯æŒçš„æ‰€æœ‰éªŒè¯åè®®. ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼éªŒè¯: http å’Œ dns éªŒè¯.&lt;/p&gt;
&lt;h3 id=&#34;1-http-æ–¹å¼éœ€è¦åœ¨ä½ çš„ç½‘ç«™æ ¹ç›®å½•ä¸‹æ”¾ç½®ä¸€ä¸ªæ–‡ä»¶-æ¥éªŒè¯ä½ çš„åŸŸåæ‰€æœ‰æƒ-å®ŒæˆéªŒè¯-ç„¶åå°±å¯ä»¥ç”Ÿæˆè¯ä¹¦äº†&#34;&gt;&lt;a href=&#34;#1-http-æ–¹å¼éœ€è¦åœ¨ä½ çš„ç½‘ç«™æ ¹ç›®å½•ä¸‹æ”¾ç½®ä¸€ä¸ªæ–‡ä»¶-æ¥éªŒè¯ä½ çš„åŸŸåæ‰€æœ‰æƒ-å®ŒæˆéªŒè¯-ç„¶åå°±å¯ä»¥ç”Ÿæˆè¯ä¹¦äº†&#34; class=&#34;headerlink&#34; title=&#34;1. http æ–¹å¼éœ€è¦åœ¨ä½ çš„ç½‘ç«™æ ¹ç›®å½•ä¸‹æ”¾ç½®ä¸€ä¸ªæ–‡ä»¶, æ¥éªŒè¯ä½ çš„åŸŸåæ‰€æœ‰æƒ,å®ŒæˆéªŒè¯. ç„¶åå°±å¯ä»¥ç”Ÿæˆè¯ä¹¦äº†.&#34;&gt;&lt;/a&gt;1. http æ–¹å¼éœ€è¦åœ¨ä½ çš„ç½‘ç«™æ ¹ç›®å½•ä¸‹æ”¾ç½®ä¸€ä¸ªæ–‡ä»¶, æ¥éªŒè¯ä½ çš„åŸŸåæ‰€æœ‰æƒ,å®ŒæˆéªŒè¯. ç„¶åå°±å¯ä»¥ç”Ÿæˆè¯ä¹¦äº†.&lt;/h3&gt;  &lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;acme.sh --issue -d mydomain.com -d www.mydomain.com --webroot /home/wwwroot/mydomain.com/&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;  åªéœ€è¦æŒ‡å®šåŸŸå, å¹¶æŒ‡å®šåŸŸåæ‰€åœ¨çš„ç½‘ç«™æ ¹ç›®å½•. &lt;strong&gt;acme.sh&lt;/strong&gt; ä¼šå…¨è‡ªåŠ¨çš„ç”ŸæˆéªŒè¯æ–‡ä»¶, å¹¶æ”¾åˆ°ç½‘ç«™çš„æ ¹ç›®å½•, ç„¶åè‡ªåŠ¨å®ŒæˆéªŒè¯. æœ€åä¼šèªæ˜çš„åˆ é™¤éªŒè¯æ–‡ä»¶. æ•´ä¸ªè¿‡ç¨‹æ²¡æœ‰ä»»ä½•å‰¯ä½œç”¨.&lt;/p&gt;
&lt;p&gt;  å¦‚æœä½ ç”¨çš„ &lt;strong&gt;apache&lt;/strong&gt;æœåŠ¡å™¨, &lt;strong&gt;acme.sh&lt;/strong&gt; è¿˜å¯ä»¥æ™ºèƒ½çš„ä» &lt;strong&gt;apache&lt;/strong&gt;çš„é…ç½®ä¸­è‡ªåŠ¨å®ŒæˆéªŒè¯, ä½ ä¸éœ€è¦æŒ‡å®šç½‘ç«™æ ¹ç›®å½•:&lt;/p&gt;
  &lt;figure class=&#34;highlight stylus&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs stylus&#34;&gt;acme&lt;span class=&#34;hljs-selector-class&#34;&gt;.sh&lt;/span&gt; &lt;span class=&#34;hljs-attr&#34;&gt;--issue&lt;/span&gt; -d mydomain&lt;span class=&#34;hljs-selector-class&#34;&gt;.com&lt;/span&gt; &lt;span class=&#34;hljs-attr&#34;&gt;--apache&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;  å¦‚æœä½ ç”¨çš„ &lt;strong&gt;nginx&lt;/strong&gt;æœåŠ¡å™¨, æˆ–è€…åä»£, &lt;strong&gt;acme.sh&lt;/strong&gt; è¿˜å¯ä»¥æ™ºèƒ½çš„ä» &lt;strong&gt;nginx&lt;/strong&gt;çš„é…ç½®ä¸­è‡ªåŠ¨å®ŒæˆéªŒè¯, ä½ ä¸éœ€è¦æŒ‡å®šç½‘ç«™æ ¹ç›®å½•:&lt;/p&gt;
  &lt;figure class=&#34;highlight stylus&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs stylus&#34;&gt;acme&lt;span class=&#34;hljs-selector-class&#34;&gt;.sh&lt;/span&gt; &lt;span class=&#34;hljs-attr&#34;&gt;--issue&lt;/span&gt; -d mydomain&lt;span class=&#34;hljs-selector-class&#34;&gt;.com&lt;/span&gt; &lt;span class=&#34;hljs-attr&#34;&gt;--nginx&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;  &lt;strong&gt;æ³¨æ„, æ— è®ºæ˜¯ apache è¿˜æ˜¯ nginx æ¨¡å¼, acme.shåœ¨å®ŒæˆéªŒè¯ä¹‹å, ä¼šæ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€, éƒ½ä¸ä¼šç§è‡ªæ›´æ”¹ä½ æœ¬èº«çš„é…ç½®. å¥½å¤„æ˜¯ä½ ä¸ç”¨æ‹…å¿ƒé…ç½®è¢«æå, ä¹Ÿæœ‰ä¸€ä¸ªç¼ºç‚¹, ä½ éœ€è¦è‡ªå·±é…ç½® ssl çš„é…ç½®, å¦åˆ™åªèƒ½æˆåŠŸç”Ÿæˆè¯ä¹¦, ä½ çš„ç½‘ç«™è¿˜æ˜¯æ— æ³•è®¿é—®https. ä½†æ˜¯ä¸ºäº†å®‰å…¨, ä½ è¿˜æ˜¯è‡ªå·±æ‰‹åŠ¨æ”¹é…ç½®å§.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;  å¦‚æœä½ è¿˜æ²¡æœ‰è¿è¡Œä»»ä½• web æœåŠ¡, &lt;strong&gt;80&lt;/strong&gt; ç«¯å£æ˜¯ç©ºé—²çš„, é‚£ä¹ˆ &lt;strong&gt;acme.sh&lt;/strong&gt; è¿˜èƒ½å‡è£…è‡ªå·±æ˜¯ä¸€ä¸ªwebserver, ä¸´æ—¶å¬åœ¨&lt;strong&gt;80&lt;/strong&gt; ç«¯å£, å®ŒæˆéªŒè¯:&lt;/p&gt;
  &lt;figure class=&#34;highlight stylus&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs stylus&#34;&gt;acme&lt;span class=&#34;hljs-selector-class&#34;&gt;.sh&lt;/span&gt; &lt;span class=&#34;hljs-attr&#34;&gt;--issue&lt;/span&gt; -d mydomain&lt;span class=&#34;hljs-selector-class&#34;&gt;.com&lt;/span&gt; &lt;span class=&#34;hljs-attr&#34;&gt;--standalone&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;  æ›´é«˜çº§çš„ç”¨æ³•è¯·å‚è€ƒ: &lt;a href=&#34;https://github.com/Neilpang/acme.sh/wiki/How-to-issue-a-cert&#34;&gt;https://github.com/Neilpang/acme.sh/wiki/How-to-issue-a-cert&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-æ‰‹åŠ¨-dns-æ–¹å¼-æ‰‹åŠ¨åœ¨åŸŸåä¸Šæ·»åŠ ä¸€æ¡-txt-è§£æè®°å½•-éªŒè¯åŸŸåæ‰€æœ‰æƒ&#34;&gt;&lt;a href=&#34;#2-æ‰‹åŠ¨-dns-æ–¹å¼-æ‰‹åŠ¨åœ¨åŸŸåä¸Šæ·»åŠ ä¸€æ¡-txt-è§£æè®°å½•-éªŒè¯åŸŸåæ‰€æœ‰æƒ&#34; class=&#34;headerlink&#34; title=&#34;2. æ‰‹åŠ¨ dns æ–¹å¼, æ‰‹åŠ¨åœ¨åŸŸåä¸Šæ·»åŠ ä¸€æ¡ txt è§£æè®°å½•, éªŒè¯åŸŸåæ‰€æœ‰æƒ.&#34;&gt;&lt;/a&gt;2. æ‰‹åŠ¨ dns æ–¹å¼, æ‰‹åŠ¨åœ¨åŸŸåä¸Šæ·»åŠ ä¸€æ¡ txt è§£æè®°å½•, éªŒè¯åŸŸåæ‰€æœ‰æƒ.&lt;/h3&gt;&lt;p&gt;  è¿™ç§æ–¹å¼çš„å¥½å¤„æ˜¯, ä½ ä¸éœ€è¦ä»»ä½•æœåŠ¡å™¨, ä¸éœ€è¦ä»»ä½•å…¬ç½‘ ip, åªéœ€è¦ dns çš„è§£æè®°å½•å³å¯å®ŒæˆéªŒè¯. åå¤„æ˜¯ï¼Œå¦‚æœä¸åŒæ—¶é…ç½® Automatic DNS APIï¼Œä½¿ç”¨è¿™ç§æ–¹å¼ acme.sh å°†æ— æ³•è‡ªåŠ¨æ›´æ–°è¯ä¹¦ï¼Œæ¯æ¬¡éƒ½éœ€è¦æ‰‹åŠ¨å†æ¬¡é‡æ–°è§£æéªŒè¯åŸŸåæ‰€æœ‰æƒã€‚&lt;/p&gt;
  &lt;figure class=&#34;highlight stylus&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs stylus&#34;&gt;acme&lt;span class=&#34;hljs-selector-class&#34;&gt;.sh&lt;/span&gt; &lt;span class=&#34;hljs-attr&#34;&gt;--issue&lt;/span&gt; &lt;span class=&#34;hljs-attr&#34;&gt;--dns&lt;/span&gt; -d mydomain&lt;span class=&#34;hljs-selector-class&#34;&gt;.com&lt;/span&gt; \&lt;br&gt; &lt;span class=&#34;hljs-attr&#34;&gt;--yes-I-know-dns-manual-mode-enough-go-ahead-please&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;  ç„¶å, &lt;strong&gt;acme.sh&lt;/strong&gt; ä¼šç”Ÿæˆç›¸åº”çš„è§£æè®°å½•æ˜¾ç¤ºå‡ºæ¥, ä½ åªéœ€è¦åœ¨ä½ çš„åŸŸåç®¡ç†é¢æ¿ä¸­æ·»åŠ è¿™æ¡ txt è®°å½•å³å¯.&lt;/p&gt;
&lt;p&gt;  ç­‰å¾…è§£æå®Œæˆä¹‹å, é‡æ–°ç”Ÿæˆè¯ä¹¦:&lt;/p&gt;
  &lt;figure class=&#34;highlight stylus&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs stylus&#34;&gt;acme&lt;span class=&#34;hljs-selector-class&#34;&gt;.sh&lt;/span&gt; &lt;span class=&#34;hljs-attr&#34;&gt;--renew&lt;/span&gt; -d mydomain&lt;span class=&#34;hljs-selector-class&#34;&gt;.com&lt;/span&gt; \&lt;br&gt;  &lt;span class=&#34;hljs-attr&#34;&gt;--yes-I-know-dns-manual-mode-enough-go-ahead-please&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;  æ³¨æ„ç¬¬äºŒæ¬¡è¿™é‡Œç”¨çš„æ˜¯ &lt;code&gt;--renew&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;  dns æ–¹å¼çš„çœŸæ­£å¼ºå¤§ä¹‹å¤„åœ¨äºå¯ä»¥ä½¿ç”¨åŸŸåè§£æå•†æä¾›çš„ api è‡ªåŠ¨æ·»åŠ  txt è®°å½•å®ŒæˆéªŒè¯.&lt;/p&gt;
&lt;p&gt;  &lt;strong&gt;acme.sh&lt;/strong&gt; ç›®å‰æ”¯æŒ cloudflare, dnspod, cloudxns, godaddy ä»¥åŠ ovh ç­‰æ•°åç§è§£æå•†çš„è‡ªåŠ¨é›†æˆ.&lt;/p&gt;
&lt;p&gt;  ä»¥ dnspod ä¸ºä¾‹, ä½ éœ€è¦å…ˆç™»å½•åˆ° dnspod è´¦å·, ç”Ÿæˆä½ çš„ api id å’Œ api key, éƒ½æ˜¯å…è´¹çš„. ç„¶å:&lt;/p&gt;
  &lt;figure class=&#34;highlight routeros&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs routeros&#34;&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;hljs-attribute&#34;&gt;DP_Id&lt;/span&gt;=&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;1234&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;hljs-attribute&#34;&gt;DP_Key&lt;/span&gt;=&lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;sADDsdasdgdsf&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;br&gt;acme.sh --issue --dns dns_dp -d aa.com -d www.aa.com&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;  è¯ä¹¦å°±ä¼šè‡ªåŠ¨ç”Ÿæˆäº†. è¿™é‡Œç»™å‡ºçš„ api id å’Œ api key ä¼šè¢«è‡ªåŠ¨è®°å½•ä¸‹æ¥, å°†æ¥ä½ åœ¨ä½¿ç”¨ dnspod api çš„æ—¶å€™, å°±ä¸éœ€è¦å†æ¬¡æŒ‡å®šäº†. ç›´æ¥ç”Ÿæˆå°±å¥½äº†:&lt;/p&gt;
  &lt;figure class=&#34;highlight stylus&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs stylus&#34;&gt;acme&lt;span class=&#34;hljs-selector-class&#34;&gt;.sh&lt;/span&gt; &lt;span class=&#34;hljs-attr&#34;&gt;--issue&lt;/span&gt; -d mydomain2&lt;span class=&#34;hljs-selector-class&#34;&gt;.com&lt;/span&gt; &lt;span class=&#34;hljs-attr&#34;&gt;--dns&lt;/span&gt;  dns_dp&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;  æ›´è¯¦ç»†çš„ api ç”¨æ³•: &lt;a href=&#34;https://github.com/Neilpang/acme.sh/blob/master/dnsapi/README.md&#34;&gt;https://github.com/Neilpang/acme.sh/blob/master/dnsapi/README.md&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-å…¶ä»–çš„æ¿€æ´»æ–¹å¼&#34;&gt;&lt;a href=&#34;#3-å…¶ä»–çš„æ¿€æ´»æ–¹å¼&#34; class=&#34;headerlink&#34; title=&#34;3. å…¶ä»–çš„æ¿€æ´»æ–¹å¼&#34;&gt;&lt;/a&gt;3. å…¶ä»–çš„æ¿€æ´»æ–¹å¼&lt;/h3&gt;&lt;p&gt;  &lt;a href=&#34;https://github.com/acmesh-official/acme.sh/wiki/How-to-issue-a-cert&#34;&gt;https://github.com/acmesh-official/acme.sh/wiki/How-to-issue-a-cert&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&#34;3-copy-å®‰è£…-è¯ä¹¦&#34;&gt;&lt;a href=&#34;#3-copy-å®‰è£…-è¯ä¹¦&#34; class=&#34;headerlink&#34; title=&#34;3. copy&amp;#x2F;å®‰è£… è¯ä¹¦&#34;&gt;&lt;/a&gt;3. copy&amp;#x2F;å®‰è£… è¯ä¹¦&lt;/h1&gt;&lt;p&gt;  å‰é¢è¯ä¹¦ç”Ÿæˆä»¥å, æ¥ä¸‹æ¥éœ€è¦æŠŠè¯ä¹¦ copy åˆ°çœŸæ­£éœ€è¦ç”¨å®ƒçš„åœ°æ–¹.&lt;/p&gt;
&lt;p&gt;  æ³¨æ„, é»˜è®¤ç”Ÿæˆçš„è¯ä¹¦éƒ½æ”¾åœ¨å®‰è£…ç›®å½•ä¸‹: &lt;code&gt;~/.acme.sh/&lt;/code&gt;, &lt;strong&gt;è¯·ä¸è¦ç›´æ¥ä½¿ç”¨æ­¤ç›®å½•ä¸‹çš„æ–‡ä»¶,&lt;/strong&gt; ä¾‹å¦‚: ä¸è¦ç›´æ¥è®© nginx&amp;#x2F;apache çš„é…ç½®æ–‡ä»¶ä½¿ç”¨è¿™ä¸‹é¢çš„æ–‡ä»¶. è¿™é‡Œé¢çš„æ–‡ä»¶éƒ½æ˜¯å†…éƒ¨ä½¿ç”¨, è€Œä¸”ç›®å½•ç»“æ„å¯èƒ½ä¼šå˜åŒ–.&lt;/p&gt;
&lt;p&gt;  æ­£ç¡®çš„ä½¿ç”¨æ–¹æ³•æ˜¯ä½¿ç”¨ &lt;code&gt;--install-cert&lt;/code&gt; å‘½ä»¤,å¹¶æŒ‡å®šç›®æ ‡ä½ç½®, ç„¶åè¯ä¹¦æ–‡ä»¶ä¼šè¢«copyåˆ°ç›¸åº”çš„ä½ç½®, ä¾‹å¦‚:&lt;/p&gt;
&lt;h2 id=&#34;Apache-example&#34;&gt;&lt;a href=&#34;#Apache-example&#34; class=&#34;headerlink&#34; title=&#34;Apache example:&#34;&gt;&lt;/a&gt;Apache example:&lt;/h2&gt;  &lt;figure class=&#34;highlight gradle&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs gradle&#34;&gt;acme.sh --install-cert -d example.com \&lt;br&gt;--cert-&lt;span class=&#34;hljs-keyword&#34;&gt;file&lt;/span&gt;      &lt;span class=&#34;hljs-regexp&#34;&gt;/path/&lt;/span&gt;to&lt;span class=&#34;hljs-regexp&#34;&gt;/certfile/i&lt;/span&gt;n&lt;span class=&#34;hljs-regexp&#34;&gt;/apache/&lt;/span&gt;cert.pem  \&lt;br&gt;--key-&lt;span class=&#34;hljs-keyword&#34;&gt;file&lt;/span&gt;       &lt;span class=&#34;hljs-regexp&#34;&gt;/path/&lt;/span&gt;to&lt;span class=&#34;hljs-regexp&#34;&gt;/keyfile/i&lt;/span&gt;n&lt;span class=&#34;hljs-regexp&#34;&gt;/apache/&lt;/span&gt;key.pem  \&lt;br&gt;--fullchain-&lt;span class=&#34;hljs-keyword&#34;&gt;file&lt;/span&gt; &lt;span class=&#34;hljs-regexp&#34;&gt;/path/&lt;/span&gt;to&lt;span class=&#34;hljs-regexp&#34;&gt;/fullchain/&lt;/span&gt;certfile&lt;span class=&#34;hljs-regexp&#34;&gt;/apache/&lt;/span&gt;fullchain.pem \&lt;br&gt;--reloadcmd     &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;service apache2 force-reload&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;Nginx-example&#34;&gt;&lt;a href=&#34;#Nginx-example&#34; class=&#34;headerlink&#34; title=&#34;Nginx example:&#34;&gt;&lt;/a&gt;Nginx example:&lt;/h2&gt;  &lt;figure class=&#34;highlight stylus&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs stylus&#34;&gt;acme&lt;span class=&#34;hljs-selector-class&#34;&gt;.sh&lt;/span&gt; &lt;span class=&#34;hljs-attr&#34;&gt;--install-cert&lt;/span&gt; -d example&lt;span class=&#34;hljs-selector-class&#34;&gt;.com&lt;/span&gt; \&lt;br&gt;&lt;span class=&#34;hljs-attr&#34;&gt;--key-file&lt;/span&gt;       /path/to/keyfile/&lt;span class=&#34;hljs-keyword&#34;&gt;in&lt;/span&gt;/nginx/key&lt;span class=&#34;hljs-selector-class&#34;&gt;.pem&lt;/span&gt;  \&lt;br&gt;&lt;span class=&#34;hljs-attr&#34;&gt;--fullchain-file&lt;/span&gt; /path/to/fullchain/nginx/cert&lt;span class=&#34;hljs-selector-class&#34;&gt;.pem&lt;/span&gt; \&lt;br&gt;&lt;span class=&#34;hljs-attr&#34;&gt;--reloadcmd&lt;/span&gt;     &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;service nginx force-reload&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;  (ä¸€ä¸ªå°æé†’, è¿™é‡Œç”¨çš„æ˜¯ &lt;code&gt;service nginx force-reload&lt;/code&gt;, ä¸æ˜¯ &lt;code&gt;service nginx reload&lt;/code&gt;, æ®æµ‹è¯•, &lt;code&gt;reload&lt;/code&gt; å¹¶ä¸ä¼šé‡æ–°åŠ è½½è¯ä¹¦, æ‰€ä»¥ç”¨çš„ &lt;code&gt;force-reload&lt;/code&gt;)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;  æˆ‘å½“æ—¶ä½¿ç”¨è¿™ä¸ªå‘½ä»¤çš„æ—¶å€™å‘ç°ç”¨ &lt;code&gt;service nginx force-reload&lt;/code&gt;  æŠ¥æ²¡æœ‰æƒé™ï¼Œç„¶åæ˜¯å°†å½“å‰ç”¨æˆ·&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;  Nginx çš„é…ç½® &lt;code&gt;ssl_certificate&lt;/code&gt; ä½¿ç”¨ &lt;code&gt;/etc/nginx/ssl/fullchain.cer&lt;/code&gt; ï¼Œè€Œé &lt;code&gt;/etc/nginx/ssl/&amp;lt;domain&amp;gt;.cer&lt;/code&gt; ï¼Œå¦åˆ™ &lt;a href=&#34;https://www.ssllabs.com/ssltest/&#34;&gt;SSL Labs&lt;/a&gt; çš„æµ‹è¯•ä¼šæŠ¥ &lt;code&gt;Chain issues Incomplete&lt;/code&gt; é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;  &lt;code&gt;--install-cert&lt;/code&gt;å‘½ä»¤å¯ä»¥æºå¸¦å¾ˆå¤šå‚æ•°, æ¥æŒ‡å®šç›®æ ‡æ–‡ä»¶. å¹¶ä¸”å¯ä»¥æŒ‡å®š reloadcmd, å½“è¯ä¹¦æ›´æ–°ä»¥å, reloadcmdä¼šè¢«è‡ªåŠ¨è°ƒç”¨,è®©æœåŠ¡å™¨ç”Ÿæ•ˆ.&lt;/p&gt;
&lt;p&gt;  è¯¦ç»†å‚æ•°è¯·å‚è€ƒ: &lt;a href=&#34;https://github.com/Neilpang/acme.sh#3-install-the-issued-cert-to-apachenginx-etc&#34;&gt;https://github.com/Neilpang/acme.sh#3-install-the-issued-cert-to-apachenginx-etc&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;  å€¼å¾—æ³¨æ„çš„æ˜¯, è¿™é‡ŒæŒ‡å®šçš„æ‰€æœ‰å‚æ•°éƒ½ä¼šè¢«è‡ªåŠ¨è®°å½•ä¸‹æ¥, å¹¶åœ¨å°†æ¥è¯ä¹¦è‡ªåŠ¨æ›´æ–°ä»¥å, è¢«å†æ¬¡è‡ªåŠ¨è°ƒç”¨.&lt;/p&gt;
&lt;h1 id=&#34;4-æŸ¥çœ‹å·²å®‰è£…è¯ä¹¦ä¿¡æ¯&#34;&gt;&lt;a href=&#34;#4-æŸ¥çœ‹å·²å®‰è£…è¯ä¹¦ä¿¡æ¯&#34; class=&#34;headerlink&#34; title=&#34;4. æŸ¥çœ‹å·²å®‰è£…è¯ä¹¦ä¿¡æ¯&#34;&gt;&lt;/a&gt;4. æŸ¥çœ‹å·²å®‰è£…è¯ä¹¦ä¿¡æ¯&lt;/h1&gt;  &lt;figure class=&#34;highlight routeros&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs routeros&#34;&gt;acme.sh --&lt;span class=&#34;hljs-built_in&#34;&gt;info&lt;/span&gt; -d example.com&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# ä¼šè¾“å‡ºå¦‚ä¸‹å†…å®¹ï¼š&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;DOMAIN_CONF&lt;/span&gt;=/root/.acme.sh/example.com/example.com.conf&lt;br&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;Le_Domain&lt;/span&gt;=example.com&lt;br&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;Le_Alt&lt;/span&gt;=&lt;span class=&#34;hljs-literal&#34;&gt;no&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;Le_Webroot&lt;/span&gt;=dns_ali&lt;br&gt;Le_PreHook=&lt;br&gt;Le_PostHook=&lt;br&gt;Le_RenewHook=&lt;br&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;Le_API&lt;/span&gt;=https://acme-v02.api.letsencrypt.org/directory&lt;br&gt;Le_Keylength=&lt;br&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;Le_OrderFinalize&lt;/span&gt;=https://acme-v02.api.letsencrypt.org/acme/finalize/23xxxx150/781xxxx4310&lt;br&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;Le_LinkOrder&lt;/span&gt;=https://acme-v02.api.letsencrypt.org/acme/order/233xxx150/781xxxx4310&lt;br&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;Le_LinkCert&lt;/span&gt;=https://acme-v02.api.letsencrypt.org/acme/cert/04cbd28xxxxxx349ecaea8d07&lt;br&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;Le_CertCreateTime&lt;/span&gt;=1649358725&lt;br&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;Le_CertCreateTimeStr&lt;/span&gt;=Thu Apr  7 19:12:05 UTC 2022&lt;br&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;Le_NextRenewTimeStr&lt;/span&gt;=Mon Jun  6 19:12:05 UTC 2022&lt;br&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;Le_NextRenewTime&lt;/span&gt;=1654456325&lt;br&gt;Le_RealCertPath=&lt;br&gt;Le_RealCACertPath=&lt;br&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;Le_RealKeyPath&lt;/span&gt;=/etc/acme/example.com/privkey.pem&lt;br&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;Le_ReloadCmd&lt;/span&gt;=service nginx force-reload&lt;br&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;Le_RealFullChainPath&lt;/span&gt;=/etc/acme/example.com/chain.pem&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&#34;5-æ›´æ–°è¯ä¹¦&#34;&gt;&lt;a href=&#34;#5-æ›´æ–°è¯ä¹¦&#34; class=&#34;headerlink&#34; title=&#34;5. æ›´æ–°è¯ä¹¦&#34;&gt;&lt;/a&gt;5. æ›´æ–°è¯ä¹¦&lt;/h1&gt;&lt;p&gt;  ç›®å‰è¯ä¹¦åœ¨ 60 å¤©ä»¥åä¼šè‡ªåŠ¨æ›´æ–°, ä½ æ— éœ€ä»»ä½•æ“ä½œ. ä»Šåæœ‰å¯èƒ½ä¼šç¼©çŸ­è¿™ä¸ªæ—¶é—´, ä¸è¿‡éƒ½æ˜¯è‡ªåŠ¨çš„, ä½ ä¸ç”¨å…³å¿ƒ.&lt;/p&gt;
&lt;p&gt;  è¯·ç¡®ä¿ cronjob æ­£ç¡®å®‰è£…, çœ‹èµ·æ¥æ˜¯ç±»ä¼¼è¿™æ ·çš„:&lt;/p&gt;
  &lt;figure class=&#34;highlight jboss-cli&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs jboss-cli&#34;&gt;crontab  -l&lt;br&gt;&lt;br&gt;56 * * * * &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;/root/.acme.sh&amp;quot;&lt;/span&gt;&lt;span class=&#34;hljs-string&#34;&gt;/acme.sh&lt;/span&gt; &lt;span class=&#34;hljs-params&#34;&gt;--cron&lt;/span&gt; &lt;span class=&#34;hljs-params&#34;&gt;--home&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;/root/.acme.sh&amp;quot;&lt;/span&gt; &amp;gt; &lt;span class=&#34;hljs-string&#34;&gt;/dev/null&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&#34;6-å…³äºä¿®æ”¹ReloadCmd&#34;&gt;&lt;a href=&#34;#6-å…³äºä¿®æ”¹ReloadCmd&#34; class=&#34;headerlink&#34; title=&#34;6. å…³äºä¿®æ”¹ReloadCmd&#34;&gt;&lt;/a&gt;6. å…³äºä¿®æ”¹ReloadCmd&lt;/h1&gt;&lt;p&gt;  ç›®å‰ä¿®æ”¹&lt;code&gt;ReloadCmd&lt;/code&gt;æ²¡æœ‰ä¸“é—¨çš„å‘½ä»¤ï¼Œå¯ä»¥é€šè¿‡é‡æ–°å®‰è£…è¯ä¹¦æ¥å®ç°ä¿®æ”¹&lt;code&gt;reloadCmd&lt;/code&gt;çš„ç›®çš„ã€‚ æ­¤å¤–ï¼Œå®‰è£…è¯ä¹¦åï¼Œç›¸å…³ä¿¡æ¯æ˜¯ä¿å­˜åœ¨&lt;code&gt;~/.acme.sh/example.com/example.conf&lt;/code&gt;æ–‡ä»¶ä¸‹çš„ï¼Œå†…å®¹å°±æ˜¯&lt;code&gt;acme.sh --info -d example.com&lt;/code&gt;è¾“å‡ºçš„ä¿¡æ¯ï¼Œä¸è¿‡&lt;code&gt;ReloadCmd&lt;/code&gt;åœ¨æ–‡ä»¶ä¸­ä½¿ç”¨äº†Base64ç¼–ç ã€‚ç†è®ºä¸Šå¯ä»¥é€šè¿‡ç›´æ¥ä¿®æ”¹è¯¥æ–‡ä»¶æ¥ä¿®æ”¹&lt;code&gt;ReloadCmd&lt;/code&gt;ï¼Œä¸”ä¿®æ”¹æ—¶ï¼Œæ— éœ€Base64ç¼–ç ï¼Œç›´æ¥å†™å‘½ä»¤åŸæ–‡&lt;code&gt;acme.sh&lt;/code&gt;ä¹Ÿå¯ä»¥è¯†åˆ«ã€‚ ä¸è¿‡ï¼Œ&lt;code&gt;example.conf&lt;/code&gt;æ–‡ä»¶çš„ä½ç½®å’Œå†…å®¹æ ¼å¼ä»¥åå¯èƒ½ä¼šæ”¹å˜ï¼&lt;code&gt;example.conf&lt;/code&gt;ä¸€ç›´éƒ½æ˜¯å†…éƒ¨ä½¿ç”¨, åé¢æœ‰å¯èƒ½ä¼šæ”¹ä¸ºç”¨ sqlite æˆ–è€…mysql æ ¼å¼å­˜å‚¨. æ‰€ä»¥ä¸€èˆ¬ä¸å»ºè®®è‡ªå·±ä¿®æ”¹ã€‚&lt;/p&gt;
&lt;h1 id=&#34;7-æ›´æ–°-acme-sh&#34;&gt;&lt;a href=&#34;#7-æ›´æ–°-acme-sh&#34; class=&#34;headerlink&#34; title=&#34;7. æ›´æ–° acme.sh&#34;&gt;&lt;/a&gt;7. æ›´æ–° acme.sh&lt;/h1&gt;&lt;p&gt;  ç›®å‰ç”±äº acme åè®®å’Œ letsencrypt CA éƒ½åœ¨é¢‘ç¹çš„æ›´æ–°, å› æ­¤ acme.sh ä¹Ÿç»å¸¸æ›´æ–°ä»¥ä¿æŒåŒæ­¥.&lt;/p&gt;
&lt;p&gt;  å‡çº§ acme.sh åˆ°æœ€æ–°ç‰ˆ :&lt;/p&gt;
  &lt;figure class=&#34;highlight stylus&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs stylus&#34;&gt;acme&lt;span class=&#34;hljs-selector-class&#34;&gt;.sh&lt;/span&gt; &lt;span class=&#34;hljs-attr&#34;&gt;--upgrade&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;  å¦‚æœä½ ä¸æƒ³æ‰‹åŠ¨å‡çº§, å¯ä»¥å¼€å¯è‡ªåŠ¨å‡çº§:&lt;/p&gt;
  &lt;figure class=&#34;highlight stylus&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs stylus&#34;&gt;acme&lt;span class=&#34;hljs-selector-class&#34;&gt;.sh&lt;/span&gt; &lt;span class=&#34;hljs-attr&#34;&gt;--upgrade&lt;/span&gt; &lt;span class=&#34;hljs-attr&#34;&gt;--auto-upgrade&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;  ä¹‹å, acme.sh å°±ä¼šè‡ªåŠ¨ä¿æŒæ›´æ–°äº†.&lt;/p&gt;
&lt;p&gt;  ä½ ä¹Ÿå¯ä»¥éšæ—¶å…³é—­è‡ªåŠ¨æ›´æ–°:&lt;/p&gt;
  &lt;figure class=&#34;highlight stylus&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs stylus&#34;&gt;acme&lt;span class=&#34;hljs-selector-class&#34;&gt;.sh&lt;/span&gt; &lt;span class=&#34;hljs-attr&#34;&gt;--upgrade&lt;/span&gt; &lt;span class=&#34;hljs-attr&#34;&gt;--auto-upgrade&lt;/span&gt;  &lt;span class=&#34;hljs-number&#34;&gt;0&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&#34;8-å‡ºé”™æ€ä¹ˆåŠï¼š&#34;&gt;&lt;a href=&#34;#8-å‡ºé”™æ€ä¹ˆåŠï¼š&#34; class=&#34;headerlink&#34; title=&#34;8. å‡ºé”™æ€ä¹ˆåŠï¼š&#34;&gt;&lt;/a&gt;8. å‡ºé”™æ€ä¹ˆåŠï¼š&lt;/h1&gt;&lt;p&gt;  å¦‚æœå‡ºé”™, è¯·æ·»åŠ  debug logï¼š&lt;/p&gt;
  &lt;figure class=&#34;highlight jboss-cli&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs jboss-cli&#34;&gt;acme.sh &lt;span class=&#34;hljs-params&#34;&gt;--issue&lt;/span&gt;  &lt;span class=&#34;hljs-string&#34;&gt;.....&lt;/span&gt;  &lt;span class=&#34;hljs-params&#34;&gt;--debug&lt;/span&gt; &lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;  æˆ–è€…ï¼š&lt;/p&gt;
  &lt;figure class=&#34;highlight jboss-cli&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs jboss-cli&#34;&gt;acme.sh &lt;span class=&#34;hljs-params&#34;&gt;--issue&lt;/span&gt;  &lt;span class=&#34;hljs-string&#34;&gt;.....&lt;/span&gt;  &lt;span class=&#34;hljs-params&#34;&gt;--debug&lt;/span&gt;  2&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;  è¯·å‚è€ƒï¼š &lt;a href=&#34;https://github.com/Neilpang/acme.sh/wiki/How-to-debug-acme.sh&#34;&gt;https://github.com/Neilpang/acme.sh/wiki/How-to-debug-acme.sh&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;  æœ€å, æœ¬æ–‡å¹¶éå®Œå…¨çš„ä½¿ç”¨è¯´æ˜, è¿˜æœ‰å¾ˆå¤šé«˜çº§çš„åŠŸèƒ½, æ›´é«˜çº§çš„ç”¨æ³•è¯·å‚çœ‹å…¶ä»– wiki é¡µé¢.&lt;/p&gt;
&lt;p&gt;  &lt;a href=&#34;https://github.com/Neilpang/acme.sh/wiki&#34;&gt;https://github.com/Neilpang/acme.sh/wiki&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;Docker&#34;&gt;&lt;a href=&#34;#Docker&#34; class=&#34;headerlink&#34; title=&#34;Docker&#34;&gt;&lt;/a&gt;Docker&lt;/h2&gt;&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;docker run --rm  -itd  \&lt;br&gt;  -v &amp;quot;$(pwd)/out&amp;quot;:/acme.sh  \&lt;br&gt;  -e Ali_Key=&amp;quot;xxxxxx&amp;quot; \&lt;br&gt;  -e Ali_Secret=&amp;quot;xxxx&amp;quot; \&lt;br&gt;  neilpang/acme.sh  --issue --dns dns_ali -d domain.cn -d *.domain.cn&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;è¯¦ç»†ç”¨æ³•ï¼Œå¯ä»¥å‚è€ƒï¼š&lt;a href=&#34;https://github.com/Neilpang/acme.sh/wiki/Run-acme.sh-in-docker&#34;&gt;ä¼ é€é—¨&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;h1 id=&#34;acme-sh-ğŸ’•-docker&#34;&gt;&lt;a href=&#34;#acme-sh-ğŸ’•-docker&#34; class=&#34;headerlink&#34; title=&#34;acme.sh ğŸ’• docker&#34;&gt;&lt;/a&gt;acme.sh ğŸ’• docker&lt;/h1&gt;&lt;p&gt;  ä½œä¸º docker çš„å¿ å®ç²‰ä¸ä¹‹ä¸€ï¼Œæˆ‘çŸ¥é“æˆ‘ä»¬è®¨åŒåœ¨ docker ä¸»æœºä¸Šå®‰è£…ä»»ä½•ä¸œè¥¿ï¼Œå³ä½¿å®ƒåªæ˜¯å¤åˆ¶ä¸€ä¸ª shell è„šæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;  ç”¨äº letsencrypt ssl è¯ä¹¦çš„å¸¦æœ‰ acme.sh çš„è‡ªåŠ¨åŒ– nginx åå‘ä»£ç† docker å›¾åƒï¼š https: &lt;a href=&#34;https://github.com/Neilpang/letsproxy&#34;&gt;&amp;#x2F;&amp;#x2F;github.com&amp;#x2F;Neilpang&amp;#x2F;letsproxy&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;  éƒ¨ç½²åˆ° docker å®¹å™¨å¹¶é‡æ–°åŠ è½½å®ƒï¼š&lt;a href=&#34;https://github.com/Neilpang/acme.sh/wiki/deploy-to-docker-containers&#34;&gt;https :&amp;#x2F;&amp;#x2F;github.com&amp;#x2F;Neilpang&amp;#x2F;acme.sh&amp;#x2F;wiki&amp;#x2F;deploy-to-docker-containers&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;  æ‰€ä»¥ï¼Œè¿™é‡Œå‡ºç°äº†â€œdocker ä¸­çš„ acme.shâ€ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åŸºäº&lt;strong&gt;alpine&lt;/strong&gt;ï¼Œåªæœ‰ 5MB å¤§å°ã€‚&lt;/li&gt;
&lt;li&gt;ä½œä¸ºå¯æ‰§è¡Œæ–‡ä»¶è¿è¡Œæˆ–ä½œä¸ºå®ˆæŠ¤è¿›ç¨‹è¿è¡Œ&lt;/li&gt;
&lt;li&gt;æ”¯æŒæ‰€æœ‰å‘½ä»¤è¡Œå‚æ•°ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;1-è¯´â€œHello-Worldâ€&#34;&gt;&lt;a href=&#34;#1-è¯´â€œHello-Worldâ€&#34; class=&#34;headerlink&#34; title=&#34;1.è¯´â€œHello Worldâ€&#34;&gt;&lt;/a&gt;1.è¯´â€œHello Worldâ€&lt;/h1&gt;  &lt;figure class=&#34;highlight dockerfile&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs dockerfile&#34;&gt;docker &lt;span class=&#34;hljs-keyword&#34;&gt;run&lt;/span&gt;&lt;span class=&#34;language-bash&#34;&gt; --&lt;span class=&#34;hljs-built_in&#34;&gt;rm&lt;/span&gt; neilpang/acme.sh&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&#34;2-ç”¨ä½œå¯æ‰§è¡Œæ–‡ä»¶ï¼š&#34;&gt;&lt;a href=&#34;#2-ç”¨ä½œå¯æ‰§è¡Œæ–‡ä»¶ï¼š&#34; class=&#34;headerlink&#34; title=&#34;2.ç”¨ä½œå¯æ‰§è¡Œæ–‡ä»¶ï¼š&#34;&gt;&lt;/a&gt;2.ç”¨ä½œå¯æ‰§è¡Œæ–‡ä»¶ï¼š&lt;/h1&gt;  &lt;figure class=&#34;highlight stylus&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs stylus&#34;&gt;docker run &lt;span class=&#34;hljs-attr&#34;&gt;--rm&lt;/span&gt;  -it  \&lt;br&gt;  -v &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;$(pwd)/out&amp;quot;&lt;/span&gt;:/acme&lt;span class=&#34;hljs-selector-class&#34;&gt;.sh&lt;/span&gt;  \&lt;br&gt;  &lt;span class=&#34;hljs-attr&#34;&gt;--net&lt;/span&gt;=host \&lt;br&gt;  neilpang/acme&lt;span class=&#34;hljs-selector-class&#34;&gt;.sh&lt;/span&gt;  &lt;span class=&#34;hljs-attr&#34;&gt;--issue&lt;/span&gt; -d example&lt;span class=&#34;hljs-selector-class&#34;&gt;.com&lt;/span&gt;  &lt;span class=&#34;hljs-attr&#34;&gt;--standalone&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;  æ‚¨å¯ä»¥åœ¨æ­¤å¤„ä½¿ç”¨&lt;strong&gt;acme.sh&lt;/strong&gt;æ”¯æŒçš„&lt;strong&gt;ä»»ä½•å‘½ä»¤&lt;/strong&gt;ï¼Œå…¶ä»–ç¤ºä¾‹ï¼š&lt;/p&gt;
  &lt;figure class=&#34;highlight stylus&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs stylus&#34;&gt;&lt;span class=&#34;hljs-selector-id&#34;&gt;#revoke&lt;/span&gt; &lt;span class=&#34;hljs-selector-tag&#34;&gt;a&lt;/span&gt; cert&lt;br&gt;docker run &lt;span class=&#34;hljs-attr&#34;&gt;--rm&lt;/span&gt;  -it  \&lt;br&gt;  -v &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;$(pwd)/out&amp;quot;&lt;/span&gt;:/acme&lt;span class=&#34;hljs-selector-class&#34;&gt;.sh&lt;/span&gt;  \&lt;br&gt;  &lt;span class=&#34;hljs-attr&#34;&gt;--net&lt;/span&gt;=host \&lt;br&gt;  neilpang/acme&lt;span class=&#34;hljs-selector-class&#34;&gt;.sh&lt;/span&gt;  &lt;span class=&#34;hljs-attr&#34;&gt;--revoke&lt;/span&gt; -d example&lt;span class=&#34;hljs-selector-class&#34;&gt;.com&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-selector-id&#34;&gt;#use&lt;/span&gt; dns mode&lt;br&gt;docker run &lt;span class=&#34;hljs-attr&#34;&gt;--rm&lt;/span&gt;  -it  \&lt;br&gt;  -v &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;$(pwd)/out&amp;quot;&lt;/span&gt;:/acme&lt;span class=&#34;hljs-selector-class&#34;&gt;.sh&lt;/span&gt;  \&lt;br&gt;  neilpang/acme&lt;span class=&#34;hljs-selector-class&#34;&gt;.sh&lt;/span&gt;  &lt;span class=&#34;hljs-attr&#34;&gt;--issue&lt;/span&gt; &lt;span class=&#34;hljs-attr&#34;&gt;--dns&lt;/span&gt; -d example&lt;span class=&#34;hljs-selector-class&#34;&gt;.com&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-selector-id&#34;&gt;#run&lt;/span&gt; cron job&lt;br&gt;docker run &lt;span class=&#34;hljs-attr&#34;&gt;--rm&lt;/span&gt;  -it  \&lt;br&gt;  -v &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;$(pwd)/out&amp;quot;&lt;/span&gt;:/acme&lt;span class=&#34;hljs-selector-class&#34;&gt;.sh&lt;/span&gt;  \&lt;br&gt;  &lt;span class=&#34;hljs-attr&#34;&gt;--net&lt;/span&gt;=host \&lt;br&gt;  neilpang/acme&lt;span class=&#34;hljs-selector-class&#34;&gt;.sh&lt;/span&gt;  &lt;span class=&#34;hljs-attr&#34;&gt;--cron&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;  æ— è®ºå¦‚ä½•ï¼Œæ‚¨å¯ä»¥åƒè°ƒç”¨çœŸæ­£çš„ shell è„šæœ¬ä¸€æ ·è°ƒç”¨&lt;strong&gt;neilpang&amp;#x2F;acme.shã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h1 id=&#34;3-å°†-acme-sh-ä½œä¸º-docker-å®ˆæŠ¤è¿›ç¨‹è¿è¡Œã€‚&#34;&gt;&lt;a href=&#34;#3-å°†-acme-sh-ä½œä¸º-docker-å®ˆæŠ¤è¿›ç¨‹è¿è¡Œã€‚&#34; class=&#34;headerlink&#34; title=&#34;3. å°† acme.sh ä½œä¸º docker å®ˆæŠ¤è¿›ç¨‹è¿è¡Œã€‚&#34;&gt;&lt;/a&gt;3. å°† acme.sh ä½œä¸º docker å®ˆæŠ¤è¿›ç¨‹è¿è¡Œã€‚&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;å°† acme.sh ä½œä¸º docker å®ˆæŠ¤è¿›ç¨‹è¿è¡Œï¼Œä»¥ä¾¿å®ƒå¯ä»¥è‡ªåŠ¨å¤„ç†æ›´æ–° cronjobã€‚&lt;/li&gt;
&lt;/ol&gt;
  &lt;figure class=&#34;highlight routeros&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs routeros&#34;&gt;docker &lt;span class=&#34;hljs-built_in&#34;&gt;run&lt;/span&gt; --rm  -itd  \&lt;br&gt;  -v &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;&lt;span class=&#34;hljs-variable&#34;&gt;$(pwd)&lt;/span&gt;/out&amp;quot;&lt;/span&gt;:/acme.sh  \&lt;br&gt;  &lt;span class=&#34;hljs-attribute&#34;&gt;--net&lt;/span&gt;=host \&lt;br&gt;  &lt;span class=&#34;hljs-attribute&#34;&gt;--name&lt;/span&gt;=acme.sh \&lt;br&gt;  neilpang/acme.sh daemon&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ç„¶åä½ å°±å¯ä»¥ä½¿ç”¨&lt;code&gt;docker exec&lt;/code&gt;æ¥æ‰§è¡Œä»»ä½•acme.sh å‘½ä»¤äº†ã€‚&lt;/li&gt;
&lt;/ol&gt;
  &lt;figure class=&#34;highlight stylus&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs stylus&#34;&gt;docker  exec  acme&lt;span class=&#34;hljs-selector-class&#34;&gt;.sh&lt;/span&gt; &lt;span class=&#34;hljs-attr&#34;&gt;--help&lt;/span&gt;&lt;br&gt;docker  exec  acme&lt;span class=&#34;hljs-selector-class&#34;&gt;.sh&lt;/span&gt; &lt;span class=&#34;hljs-attr&#34;&gt;--issue&lt;/span&gt; -d example&lt;span class=&#34;hljs-selector-class&#34;&gt;.com&lt;/span&gt;  &lt;span class=&#34;hljs-attr&#34;&gt;--standalone&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;  æ˜¯çš„ï¼Œå†æ¬¡å¼ºè°ƒï¼Œæ‚¨å¯ä»¥åœ¨æ­¤å¤„ä½¿ç”¨&lt;strong&gt;acme.sh&lt;/strong&gt;æ”¯æŒçš„&lt;strong&gt;ä»»ä½•å‘½ä»¤&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;Certbot&#34;&gt;&lt;a href=&#34;#Certbot&#34; class=&#34;headerlink&#34; title=&#34;Certbot&#34;&gt;&lt;/a&gt;Certbot&lt;/h2&gt;&lt;p&gt;&lt;a href=&#34;https://certbot.eff.org/&#34;&gt;https://certbot.eff.org/&lt;/a&gt;&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://www.oikiou.top/2022/82aca4fc/</guid>
            <title>SSLè¯ä¹¦çš„ç”³è¯·å’Œè‡ªåŠ¨ç»­æœŸ</title>
            <link>https://www.oikiou.top/2022/82aca4fc/</link>
            <category>ssl</category>
            <category>https</category>
            <pubDate>Thu, 21 Jul 2022 22:57:15 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;SSLè¯ä¹¦çš„ç”³è¯·å’Œè‡ªåŠ¨ç»­æœŸ&#34;&gt;&lt;a href=&#34;#SSLè¯ä¹¦çš„ç”³è¯·å’Œè‡ªåŠ¨ç»­æœŸ&#34; class=&#34;headerlink&#34; title=&#34;SSLè¯ä¹¦çš„ç”³è¯·å’Œè‡ªåŠ¨ç»­æœŸ&#34;&gt;&lt;/a&gt;SSLè¯ä¹¦çš„ç”³è¯·å’Œè‡ªåŠ¨ç»­æœŸ&lt;/h1&gt;&lt;p&gt;Letâ€™s Encrypt è¯ä¹¦ç»­æœŸ&lt;/p&gt;
&lt;h1 id=&#34;å‚è€ƒ&#34;&gt;&lt;a href=&#34;#å‚è€ƒ&#34; class=&#34;headerlink&#34; title=&#34;å‚è€ƒ&#34;&gt;&lt;/a&gt;å‚è€ƒ&lt;/h1&gt;&lt;p&gt;&lt;a href=&#34;https://www.jianshu.com/p/a2d0209fa3f5&#34;&gt;https://www.jianshu.com/p/a2d0209fa3f5&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.cnblogs.com/esofar/p/9291685.html&#34;&gt;å¿«é€Ÿç­¾å‘ Letâ€™s Encrypt è¯ä¹¦æŒ‡å—&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://certbot.eff.org/&#34;&gt;https://certbot.eff.org/&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&#34;acme-sh-ç”³è¯·&#34;&gt;&lt;a href=&#34;#acme-sh-ç”³è¯·&#34; class=&#34;headerlink&#34; title=&#34;acme.sh ç”³è¯·&#34;&gt;&lt;/a&gt;acme.sh ç”³è¯·&lt;/h1&gt;&lt;p&gt;ç”¨ acme.shç”³è¯·æ¥è‡ªåŠ¨ç»­æœŸsslè¯ä¹¦&lt;br&gt; acmeè¯´æ˜ï¼š&lt;a href=&#34;https://links.jianshu.com/go?to=https://github.com/Neilpang/acme.sh/wiki/%E8%AF%B4%E6%98%8E&#34;&gt;https://github.com/Neilpang/acme.sh/wiki/è¯´æ˜&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;é€šè¿‡åœ¨ç½‘ç«™æ ¹ç›®å½•å­˜æ”¾æ–‡ä»¶æ¥éªŒè¯åŸŸå&#34;&gt;&lt;a href=&#34;#é€šè¿‡åœ¨ç½‘ç«™æ ¹ç›®å½•å­˜æ”¾æ–‡ä»¶æ¥éªŒè¯åŸŸå&#34; class=&#34;headerlink&#34; title=&#34;é€šè¿‡åœ¨ç½‘ç«™æ ¹ç›®å½•å­˜æ”¾æ–‡ä»¶æ¥éªŒè¯åŸŸå&#34;&gt;&lt;/a&gt;é€šè¿‡åœ¨ç½‘ç«™æ ¹ç›®å½•å­˜æ”¾æ–‡ä»¶æ¥éªŒè¯åŸŸå&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;ä¸‹è½½acme&lt;code&gt;curl https://get.acme.sh | sh&lt;/code&gt;  å®‰è£…å®Œæˆåå¿…é¡»å…³é—­å½“å‰ç»ˆç«¯ï¼Œé‡æ–°å¼€å¯ä¸€ä¸ªä»¥ä½¿acme.shå‘½ä»¤ç”Ÿæ•ˆ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ‰§è¡Œç”Ÿæˆå’Œè‡ªåŠ¨æ›´æ–°å‘½ä»¤ï¼š&lt;code&gt;acme.sh --issue -d mydomain.com -d www.mydomain.com --webroot /var/www/mydomain.com/&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;h2 id=&#34;é€šè¿‡åœ¨ç½‘ç«™æ ¹ç›®å½•å­˜æ”¾æ–‡ä»¶æ¥éªŒè¯åŸŸå-1&#34;&gt;&lt;a href=&#34;#é€šè¿‡åœ¨ç½‘ç«™æ ¹ç›®å½•å­˜æ”¾æ–‡ä»¶æ¥éªŒè¯åŸŸå-1&#34; class=&#34;headerlink&#34; title=&#34;é€šè¿‡åœ¨ç½‘ç«™æ ¹ç›®å½•å­˜æ”¾æ–‡ä»¶æ¥éªŒè¯åŸŸå&#34;&gt;&lt;/a&gt;é€šè¿‡åœ¨ç½‘ç«™æ ¹ç›®å½•å­˜æ”¾æ–‡ä»¶æ¥éªŒè¯åŸŸå&lt;/h2&gt;  &lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;acme.sh --issue -d mydomain.com -d www.mydomain.com --webroot /home/wwwroot/mydomain.com/&lt;br&gt;&lt;span class=&#34;hljs-meta prompt_&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-meta prompt_&#34;&gt;# &lt;/span&gt;&lt;span class=&#34;language-bash&#34;&gt;å¦‚æœä½ ç”¨çš„ nginxæœåŠ¡å™¨, æˆ–è€…åä»£, acme.sh è¿˜å¯ä»¥æ™ºèƒ½çš„ä» nginxçš„é…ç½®ä¸­è‡ªåŠ¨å®ŒæˆéªŒè¯, ä½ ä¸éœ€è¦æŒ‡å®šç½‘ç«™æ ¹ç›®å½•:&lt;/span&gt;&lt;br&gt;acme.sh --issue -d mydomain.com --nginx&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;é€šè¿‡DNSè§£ææ·»åŠ TXTè§£æè®°å½•éªŒè¯&#34;&gt;&lt;a href=&#34;#é€šè¿‡DNSè§£ææ·»åŠ TXTè§£æè®°å½•éªŒè¯&#34; class=&#34;headerlink&#34; title=&#34;é€šè¿‡DNSè§£ææ·»åŠ TXTè§£æè®°å½•éªŒè¯&#34;&gt;&lt;/a&gt;é€šè¿‡DNSè§£ææ·»åŠ TXTè§£æè®°å½•éªŒè¯&lt;/h2&gt;  &lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs shell&#34;&gt;acme.sh --issue --dns -d mydomain.com \&lt;br&gt; --yes-I-know-dns-manual-mode-enough-go-ahead-please&lt;br&gt;&lt;span class=&#34;hljs-meta prompt_&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-meta prompt_&#34;&gt;# &lt;/span&gt;&lt;span class=&#34;language-bash&#34;&gt;ç„¶å, acme.sh ä¼šç”Ÿæˆç›¸åº”çš„è§£æè®°å½•æ˜¾ç¤ºå‡ºæ¥, ä½ åªéœ€è¦åœ¨ä½ çš„åŸŸåç®¡ç†é¢æ¿ä¸­æ·»åŠ è¿™æ¡ txt è®°å½•å³å¯.ç­‰å¾…è§£æå®Œæˆä¹‹å, é‡æ–°ç”Ÿæˆè¯ä¹¦:&lt;/span&gt;&lt;br&gt;&lt;br&gt;acme.sh --renew -d mydomain.com \&lt;br&gt;  --yes-I-know-dns-manual-mode-enough-go-ahead-please&lt;br&gt;&lt;span class=&#34;hljs-meta prompt_&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-meta prompt_&#34;&gt;# &lt;/span&gt;&lt;span class=&#34;language-bash&#34;&gt;æ³¨æ„ç¬¬äºŒæ¬¡è¿™é‡Œç”¨çš„æ˜¯ --renew&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å®‰è£…è¯ä¹¦ &lt;code&gt;cd /etc/nginx; mkdir ssl&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight xml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs xml&#34;&gt;acme.sh  --installcert  -d  &lt;span class=&#34;hljs-tag&#34;&gt;&amp;lt;&lt;span class=&#34;hljs-name&#34;&gt;domain&lt;/span&gt;&amp;gt;&lt;/span&gt;.com   \&lt;br&gt;        --key-file   /etc/nginx/ssl/&lt;span class=&#34;hljs-tag&#34;&gt;&amp;lt;&lt;span class=&#34;hljs-name&#34;&gt;domain&lt;/span&gt;&amp;gt;&lt;/span&gt;.key \&lt;br&gt;        --fullchain-file /etc/nginx/ssl/fullchain.cer \&lt;br&gt;        --reloadcmd  &amp;quot;service nginx force-reload&amp;quot;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;é…ç½®nginxä½¿ç”¨ssl&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs bash&#34;&gt;server &amp;#123;&lt;br&gt;    listen 80 default_server;&lt;br&gt;    listen 443 http2 ssl;&lt;br&gt;    listen [::]:80 default_server;&lt;br&gt;&lt;br&gt;    ssl_certificate /etc/nginx/ssl/fullchain.cer;&lt;br&gt;    ssl_certificate_key /etc/nginx/ssl/domain.key;&lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;#httpè½¬https&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-keyword&#34;&gt;if&lt;/span&gt; (&lt;span class=&#34;hljs-variable&#34;&gt;$scheme&lt;/span&gt; = http ) &amp;#123;&lt;span class=&#34;hljs-built_in&#34;&gt;return&lt;/span&gt; 301 https://$host&lt;span class=&#34;hljs-variable&#34;&gt;$request_uri&lt;/span&gt;;&amp;#125;&lt;br&gt;    root /var/www/html;&lt;br&gt;&lt;br&gt;    index index.html index.htm index.nginx-debian.html;&lt;br&gt;    server_name _;&lt;br&gt;&lt;br&gt;    ssl_certificate /etc/nginx/ssl/fullchain.cer;&lt;br&gt;    ssl_certificate_key /etc/nginx/ssl/domain.key;&lt;br&gt;&lt;br&gt;    location /test &amp;#123;&lt;br&gt;          proxy_pass       http://127.0.0.1:3000;&lt;br&gt;          proxy_http_version 1.1;&lt;br&gt;          proxy_set_header Upgrade &lt;span class=&#34;hljs-variable&#34;&gt;$http_upgrade&lt;/span&gt;;&lt;br&gt;          proxy_set_header Connection &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;upgrade&amp;quot;&lt;/span&gt;;&lt;br&gt;    &amp;#125;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;å‰ç«¯çš„Upgradeè¯·æ±‚å‘é€ç»™åç«¯æœåŠ¡å™¨ï¼ŒUpgradeå’ŒConnectionçš„å¤´ä¿¡æ¯å¿…é¡»è¢«æ˜¾å¼çš„è®¾ç½®ã€‚ä¸€æ—¦æˆ‘ä»¬å®Œæˆä»¥ä¸Šè®¾ç½®ï¼ŒNGINXå°±å¯ä»¥å¤„ç†WebSocketè¿æ¥äº†ã€‚æŸ¥çœ‹é…ç½®åœ¨å“ªé‡Œ&lt;code&gt;ps -ef|grep nginx&lt;/code&gt;&lt;br&gt; å¤šä¸ªåŸŸåçš„è¯ï¼Œé…å¤šä¸ªnginx.confé…ç½®ã€‚&lt;/p&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;æŸ¥çœ‹æ˜¯å¦æœ‰æ¯æ—¥ä»»åŠ¡&lt;br&gt; &lt;code&gt;crontab -l #æŸ¥çœ‹ä½ çš„ä»»åŠ¡&lt;/code&gt;&lt;br&gt; æ‰‹åŠ¨æ›´æ–°è¯ä¹¦&lt;code&gt;acme.sh --renew -d domain.com&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;certbot&#34;&gt;&lt;a href=&#34;#certbot&#34; class=&#34;headerlink&#34; title=&#34;certbot&#34;&gt;&lt;/a&gt;certbot&lt;/h1&gt;&lt;p&gt;&lt;a href=&#34;https://certbot.eff.org/&#34;&gt;æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Ubuntu + nginx &lt;a href=&#34;https://certbot.eff.org/instructions?ws=nginx&amp;os=ubuntufocal&#34;&gt;https://certbot.eff.org/instructions?ws=nginx&amp;amp;os=ubuntufocal&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç”¨certbotæ¥è‡ªåŠ¨ç»­æœŸsslè¯ä¹¦&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;éœ€è¦æ³¨æ„çš„æ˜¯å®‰è£…è¯ä¹¦çš„æ—¶å€™æœ€å¥½æŠŠnginxå…³æ‰å…ˆ&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://www.oikiou.top/2022/aa858de8/</guid>
            <title>Wordpress</title>
            <link>https://www.oikiou.top/2022/aa858de8/</link>
            <category>ssl</category>
            <category>https</category>
            <category>wordpress</category>
            <category>web</category>
            <category>mysql</category>
            <category>nginx</category>
            <pubDate>Mon, 21 Feb 2022 22:57:15 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;Wordpress&#34;&gt;&lt;a href=&#34;#Wordpress&#34; class=&#34;headerlink&#34; title=&#34;Wordpress&#34;&gt;&lt;/a&gt;Wordpress&lt;/h1&gt;&lt;h2 id=&#34;LNMPå®‰è£…&#34;&gt;&lt;a href=&#34;#LNMPå®‰è£…&#34; class=&#34;headerlink&#34; title=&#34;LNMPå®‰è£…&#34;&gt;&lt;/a&gt;LNMPå®‰è£…&lt;/h2&gt;&lt;p&gt;&lt;a href=&#34;https://lnmp.org/&#34;&gt;https://lnmp.org/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;LNMPä¸€é”®å®‰è£…åŒ…æ˜¯ä»€ä¹ˆ?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;LNMPä¸€é”®å®‰è£…åŒ…æ˜¯ä¸€ä¸ªç”¨Linux Shellç¼–å†™çš„å¯ä»¥ä¸ºCentOS&amp;#x2F;RHEL&amp;#x2F;Fedora&amp;#x2F;Aliyun&amp;#x2F;Amazonã€Debian&amp;#x2F;Ubuntu&amp;#x2F;Raspbian&amp;#x2F;Deepin&amp;#x2F;Mint Linux VPSæˆ–ç‹¬ç«‹ä¸»æœºå®‰è£…LNMP(Nginx&amp;#x2F;MySQL&amp;#x2F;PHP)ã€LNMPA(Nginx&amp;#x2F;MySQL&amp;#x2F;PHP&amp;#x2F;Apache)ã€LAMP(Apache&amp;#x2F;MySQL&amp;#x2F;PHP)ç”Ÿäº§ç¯å¢ƒçš„Shellç¨‹åºã€‚&lt;/p&gt;
&lt;h3 id=&#34;MySQL&#34;&gt;&lt;a href=&#34;#MySQL&#34; class=&#34;headerlink&#34; title=&#34;MySQL&#34;&gt;&lt;/a&gt;MySQL&lt;/h3&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs bash&#34;&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# ç™»å½•&lt;/span&gt;&lt;br&gt;mysql -u root -p&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# å¦‚æœæŠ¥æ‰¾ä¸åˆ°å‘½ä»¤ cdåˆ°å¯¹åº”ç›®å½•å»ç™»å½•&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;cd&lt;/span&gt; /usr/local/mariadb10/bin/&lt;br&gt;./mysql -u root -p&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# åˆ‡æ¢åˆ°mysqlæ•°æ®åº“&lt;/span&gt;&lt;br&gt;use mysql&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œåˆ›å»º MariaDB æ•°æ®åº“ã€‚ä¾‹å¦‚ â€œwordpressâ€ã€‚&lt;/span&gt;&lt;br&gt;CREATE DATABASE IF NOT EXISTS wordpress;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œåˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·ã€‚ä¾‹å¦‚ â€œuserâ€ï¼Œç™»å½•å¯†ç ä¸º 123456ã€‚&lt;/span&gt;&lt;br&gt;CREATE USER &lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;user&amp;#x27;&lt;/span&gt;@&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;localhost&amp;#x27;&lt;/span&gt; IDENTIFIED BY &lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;123456&amp;#x27;&lt;/span&gt;;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œèµ‹äºˆç”¨æˆ·å¯¹ â€œwordpressâ€ æ•°æ®åº“çš„å…¨éƒ¨æƒé™ã€‚&lt;/span&gt;&lt;br&gt;GRANT ALL PRIVILEGES ON wordpress.* TO &lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;user&amp;#x27;&lt;/span&gt;@&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;localhost&amp;#x27;&lt;/span&gt; IDENTIFIED BY &lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;123456&amp;#x27;&lt;/span&gt;;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œè®¾ç½® root å¸æˆ·å¯†ç &lt;/span&gt;&lt;br&gt;ALTER USER root@localhost IDENTIFIED VIA mysql_native_password USING PASSWORD(&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;è¾“å…¥æ‚¨çš„å¯†ç &amp;#x27;&lt;/span&gt;);&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä½¿æ‰€æœ‰é…ç½®ç”Ÿæ•ˆã€‚&lt;/span&gt;&lt;br&gt;FLUSH PRIVILEGES;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# é€€å‡º&lt;/span&gt;&lt;br&gt;\q&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;Wordpress-1&#34;&gt;&lt;a href=&#34;#Wordpress-1&#34; class=&#34;headerlink&#34; title=&#34;Wordpress&#34;&gt;&lt;/a&gt;Wordpress&lt;/h2&gt;&lt;h4 id=&#34;ä¿®æ”¹-WordPress-é…ç½®æ–‡ä»¶&#34;&gt;&lt;a href=&#34;#ä¿®æ”¹-WordPress-é…ç½®æ–‡ä»¶&#34; class=&#34;headerlink&#34; title=&#34;ä¿®æ”¹ WordPress é…ç½®æ–‡ä»¶&#34;&gt;&lt;/a&gt;ä¿®æ”¹ WordPress é…ç½®æ–‡ä»¶&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œè¿›å…¥ WordPress å®‰è£…ç›®å½•ï¼Œå°†&lt;code&gt;wp-config-sample.php&lt;/code&gt;æ–‡ä»¶å¤åˆ¶åˆ°&lt;code&gt;wp-config.php&lt;/code&gt;æ–‡ä»¶ä¸­ï¼Œå¹¶å°†åŸå…ˆçš„ç¤ºä¾‹é…ç½®æ–‡ä»¶ä¿ç•™ä½œä¸ºå¤‡ä»½ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs bash&#34;&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;cd&lt;/span&gt; /home/wwwroot/wordpress&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&#34;highlight vim&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs vim&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;cp&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;wp&lt;/span&gt;-config-sample.php &lt;span class=&#34;hljs-keyword&#34;&gt;wp&lt;/span&gt;-config.php&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œæ‰“å¼€å¹¶ç¼–è¾‘æ–°åˆ›å»ºçš„é…ç½®æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight vim&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs vim&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;vim&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;wp&lt;/span&gt;-config.php&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æŒ‰ &lt;strong&gt;i&lt;/strong&gt; åˆ‡æ¢è‡³ç¼–è¾‘æ¨¡å¼ï¼Œæ‰¾åˆ°æ–‡ä»¶ä¸­ MySQL çš„éƒ¨åˆ†ï¼Œå¹¶å°†ç›¸å…³é…ç½®ä¿¡æ¯ä¿®æ”¹ä¸º &lt;a href=&#34;https://cloud.tencent.com/document/product/213/8044#database&#34;&gt;é…ç½® WordPress æ•°æ®åº“&lt;/a&gt; ä¸­çš„å†…å®¹ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight lasso&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs lasso&#34;&gt;&lt;span class=&#34;hljs-comment&#34;&gt;// ** MySQL settings - You can get this info from your web host ** //&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;/** The name of the database for WordPress */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-class&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;define&lt;/span&gt;&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;DB_NAME&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;wordpress&amp;#x27;&lt;/span&gt;);&lt;br&gt;    &lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;/** MySQL database username */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-class&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;define&lt;/span&gt;&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;DB_USER&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;user&amp;#x27;&lt;/span&gt;);&lt;br&gt;    &lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;/** MySQL database password */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-class&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;define&lt;/span&gt;&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;DB_PASSWORD&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;123456&amp;#x27;&lt;/span&gt;);&lt;br&gt;    &lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;/** MySQL hostname */&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-class&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;define&lt;/span&gt;&lt;/span&gt;(&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;DB_HOST&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;localhost&amp;#x27;&lt;/span&gt;);&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ä¿®æ”¹å®Œæˆåï¼ŒæŒ‰ &lt;strong&gt;Esc&lt;/strong&gt;ï¼Œè¾“å…¥ &lt;strong&gt;:wq&lt;/strong&gt;ï¼Œä¿å­˜æ–‡ä»¶è¿”å›ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å¼€å¯HTTPSæ”¯æŒ&#34;&gt;&lt;a href=&#34;#å¼€å¯HTTPSæ”¯æŒ&#34; class=&#34;headerlink&#34; title=&#34;å¼€å¯HTTPSæ”¯æŒ&#34;&gt;&lt;/a&gt;å¼€å¯HTTPSæ”¯æŒ&lt;/h3&gt;&lt;h1 id=&#34;DNS&#34;&gt;&lt;a href=&#34;#DNS&#34; class=&#34;headerlink&#34; title=&#34;DNS&#34;&gt;&lt;/a&gt;DNS&lt;/h1&gt;&lt;h2 id=&#34;è·å–åŸŸå&#34;&gt;&lt;a href=&#34;#è·å–åŸŸå&#34; class=&#34;headerlink&#34; title=&#34;è·å–åŸŸå&#34;&gt;&lt;/a&gt;è·å–åŸŸå&lt;/h2&gt;&lt;p&gt;è¿™é‡Œæœ‰ä¸€ä¸ªå…è´¹çš„åŸŸå, å…ˆå‡‘åˆç”¨ç€å§&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.freenom.com/&#34;&gt;https://www.freenom.com/&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;  freenom æ³¨å†Œæ–¹æ³•&lt;/p&gt;
&lt;p&gt;  &lt;a href=&#34;https://zhuanlan.zhihu.com/p/115535965&#34;&gt;https://zhuanlan.zhihu.com/p/115535965&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;  Freenomå¸¸è§é—®é¢˜è§£å†³æ–¹æ³•&lt;/p&gt;
&lt;p&gt;  &lt;a href=&#34;http://www.360doc.com/content/21/0124/00/30583588_958609144.shtml&#34;&gt;http://www.360doc.com/content/21/0124/00/30583588_958609144.shtml&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ³¨å†Œçš„æ—¶å€™æœç´¢è¦åŠ ä¸Šåç¼€ä¸ç„¶ä¼šæ˜¾ç¤º  ä¸å¯ç”¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;checkout åˆ°è´­ç‰©è½¦æ”¹æˆ 12æœˆ free&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è°·æ­Œé‚®ç®±ç›´æ¥ç™»å½• ç™»å½•åè¦æ›´æ”¹è‡ªå·±çš„ä¸ªäººä¿¡æ¯é‡Œé¢çš„åœ°å€(æ”¹æˆipæ‰€åœ¨åœ°) ä¸ç„¶æ— æ³•æˆåŠŸæ³¨å†Œ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;èœå•æ  servers -&amp;gt; my domains å°±å¯ä»¥çœ‹åˆ°åœ°å€äº†&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æœ€åå†ä¿®æ”¹ä¸€ä¸‹NSæœåŠ¡å™¨&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Manage Domain -&amp;gt; Management Tools -&amp;gt; nameserver -&amp;gt; Use custom nameservers (enter below)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è¿™é‡Œå¡«å†™cloudflare æˆ–è€… dnspod ç»™å‡ºæ¥çš„ Nameservers å°±å¥½äº†&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç±»ä¼¼äº&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;Type&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Value&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;NS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;katja.ns.cloudflare.com&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;NS&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;kirk.ns.cloudflare.com&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;åŸŸåè§£æ&#34;&gt;&lt;a href=&#34;#åŸŸåè§£æ&#34; class=&#34;headerlink&#34; title=&#34;åŸŸåè§£æ&#34;&gt;&lt;/a&gt;åŸŸåè§£æ&lt;/h2&gt;&lt;p&gt;åŸŸåçš„&lt;a href=&#34;https://www.vpsgo.com/tag/ns%E8%AE%B0%E5%BD%95&#34;&gt;NSè®°å½•&lt;/a&gt;ï¼ˆ&lt;a href=&#34;https://www.vpsgo.com/tag/name-server&#34;&gt;Name Server&lt;/a&gt;ï¼‰æ˜¯æŒ‡å¤„ç†åŸŸåè§£æçš„æœåŠ¡å™¨ï¼Œè¯´ç™½ç‚¹å°±æ˜¯ä½ çš„åŸŸåç”±è°å®¶æ¥è§£æã€‚ä¸€èˆ¬è´­ä¹°äº†åŸŸååï¼Œé»˜è®¤çš„NSè®°å½•å°±æ˜¯æŒ‡å‘åŸŸåæä¾›å•†çš„ï¼ˆä¾‹å¦‚NameSiloçš„é»˜è®¤å°±ç”±å®ƒè‡ªå·±è§£æï¼‰ã€‚ä½ å¯ä»¥ä¿®æ”¹åŸŸåçš„NSè®°å½•ï¼Œè®©å®ƒç”±ä¸åŒçš„è§£ææœåŠ¡å•†æ¥è§£æï¼Œä¾‹å¦‚å¯ä»¥æŒ‡å‘&lt;a href=&#34;https://www.vpsgo.com/tag/cloudflare&#34;&gt;Cloudflare&lt;/a&gt;æˆ–è€…&lt;a href=&#34;https://www.vpsgo.com/tag/dnspod&#34;&gt;DNSPod&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¹‹åDNSï¼ˆDomain Name Systemï¼‰ï¼Œå¸¸ç”¨çš„&lt;a href=&#34;https://www.vpsgo.com/tag/dns%E8%AE%B0%E5%BD%95&#34;&gt;DNSè®°å½•&lt;/a&gt;åŒ…æ‹¬åŸŸåè§£æä¸­Aè®°å½•ã€CNAMEã€MXè®°å½•ã€‚&lt;a href=&#34;https://www.vpsgo.com/tag/%E5%9F%9F%E5%90%8Da%E8%AE%B0%E5%BD%95&#34;&gt;åŸŸåAè®°å½•&lt;/a&gt;åˆç§°ä¸ºIPæŒ‡å‘ï¼Œå°±æ˜¯è¯´ä½ è¿™ä¸ªåŸŸåä»£è¡¨ä»€ä¹ˆIPï¼›åŸŸåCNAMEæ˜¯æŒ‡åˆ«åæŒ‡å‘ï¼Œå°±æ˜¯è¯´æŒ‡å‘å¦ä¸€ä¸ªåŸŸåï¼Œä¾‹å¦‚å¯ä»¥è®¾ç½®test.vpsgo.comæŒ‡å‘&lt;a href=&#34;http://www.vpsgo.com;åŸŸåçš„mxè®°å½•å°±æ˜¯é‚®ä»¶äº¤æ¢è®°å½•,æ˜¯åšé‚®ä»¶æœåŠ¡å™¨éœ€è¦è®¾ç½®çš„.æœ¬æ–‡ä¸»è¦ä»‹ç»åŸŸåaè®°å½•è§£æ./&#34;&gt;www.vpsgo.comï¼›åŸŸåçš„MXè®°å½•å°±æ˜¯é‚®ä»¶äº¤æ¢è®°å½•ï¼Œæ˜¯åšé‚®ä»¶æœåŠ¡å™¨éœ€è¦è®¾ç½®çš„ã€‚æœ¬æ–‡ä¸»è¦ä»‹ç»åŸŸåAè®°å½•è§£æã€‚&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;  cloudflare è§£æ&lt;/p&gt;
&lt;p&gt;  &lt;a href=&#34;https://zhuanlan.zhihu.com/p/56423186&#34;&gt;https://zhuanlan.zhihu.com/p/56423186&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;  &lt;a href=&#34;https://www.vpsgo.com/domain-ns-cloudflare-dnspod.html#NS&#34;&gt;https://www.vpsgo.com/domain-ns-cloudflare-dnspod.html#NS&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;HTTPS-SSL-TLS&#34;&gt;&lt;a href=&#34;#HTTPS-SSL-TLS&#34; class=&#34;headerlink&#34; title=&#34;HTTPS SSL&amp;#x2F;TLS&#34;&gt;&lt;/a&gt;HTTPS SSL&amp;#x2F;TLS&lt;/h1&gt;&lt;h2 id=&#34;å‚è€ƒæ–‡ç« &#34;&gt;&lt;a href=&#34;#å‚è€ƒæ–‡ç« &#34; class=&#34;headerlink&#34; title=&#34;å‚è€ƒæ–‡ç« &#34;&gt;&lt;/a&gt;å‚è€ƒæ–‡ç« &lt;/h2&gt;&lt;h3 id=&#34;acme-sh&#34;&gt;&lt;a href=&#34;#acme-sh&#34; class=&#34;headerlink&#34; title=&#34;acme.sh&#34;&gt;&lt;/a&gt;acme.sh&lt;/h3&gt;&lt;p&gt;&lt;a href=&#34;https://ruby-china.org/topics/31983&#34;&gt;https://ruby-china.org/topics/31983&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://ruby-china.org/topics/28471&#34;&gt;https://ruby-china.org/topics/28471&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://ruby-china.org/topics/25543&#34;&gt;https://ruby-china.org/topics/25543&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://ruby-china.org/topics/31942&#34;&gt;https://ruby-china.org/topics/31942&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;caddy&#34;&gt;&lt;a href=&#34;#caddy&#34; class=&#34;headerlink&#34; title=&#34;caddy&#34;&gt;&lt;/a&gt;caddy&lt;/h3&gt;&lt;p&gt;&lt;a href=&#34;https://caddyserver.com/docs/quick-starts/https&#34;&gt;https://caddyserver.com/docs/quick-starts/https&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ­¥éª¤&#34;&gt;&lt;a href=&#34;#æ­¥éª¤&#34; class=&#34;headerlink&#34; title=&#34;æ­¥éª¤&#34;&gt;&lt;/a&gt;æ­¥éª¤&lt;/h2&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs bash&#34;&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# å®‰è£… acme.sh&lt;/span&gt;&lt;br&gt;curl https://get.acme.sh | sh&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# ç„¶åé‡æ–°è½½å…¥ä¸€ä¸‹ .bashrc&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;source&lt;/span&gt; ~/.bashrc &lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# è‡³æ­¤acmeå®‰è£…å®Œæˆ&lt;/span&gt;&lt;br&gt;acme.sh&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;



&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs bash&#34;&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# æ³¨å†Œè´¦å·&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;sudo&lt;/span&gt; ~/.acme.sh/acme.sh --register-account -m jackliuworkemail@gmail.com  --server zerossl&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# ä¸ºlager.cfåˆ›å»ºå¯†é’¥&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# -k è¡¨ç¤ºå¯†é’¥é•¿åº¦ï¼Œåé¢çš„å€¼å¯ä»¥æ˜¯ ec-256 ã€ec-384ã€2048ã€3072ã€4096ã€8192ï¼Œå¸¦æœ‰ ec è¡¨ç¤ºç”Ÿæˆçš„æ˜¯ ECC è¯ä¹¦ï¼Œæ²¡æœ‰åˆ™æ˜¯ RSA è¯ä¹¦ã€‚åœ¨å®‰å…¨æ€§ä¸Š 256 ä½çš„ ECC è¯ä¹¦ç­‰åŒäº 3072 ä½çš„ RSA è¯ä¹¦ã€‚&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;sudo&lt;/span&gt; ~/.acme.sh/acme.sh --issue -d lager.cf --standalone -k ec-256&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# ç”±äº Let&amp;#x27;s Encrypt çš„è¯ä¹¦æœ‰æ•ˆæœŸåªæœ‰ 3 ä¸ªæœˆï¼Œå› æ­¤éœ€è¦ 90 å¤©è‡³å°‘è¦æ›´æ–°ä¸€æ¬¡è¯ä¹¦ï¼Œacme.sh è„šæœ¬ä¼šæ¯ 60 å¤©è‡ªåŠ¨æ›´æ–°è¯ä¹¦ã€‚ä¹Ÿå¯ä»¥æ‰‹åŠ¨æ›´æ–°ã€‚&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# æŸ¥çœ‹è®¡åˆ’ä»»åŠ¡&lt;/span&gt;&lt;br&gt; crontab -l&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# æ‰‹åŠ¨æ›´æ–° ECC è¯ä¹¦ï¼Œæ‰§è¡Œï¼š&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;sudo&lt;/span&gt; ~/.acme.sh/acme.sh --renew -d lager.cf --force --ecc&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# è¯·æ³¨æ„ï¼šreloadcmdéå¸¸é‡è¦ã€‚è¯ä¹¦å¯ä»¥è‡ªåŠ¨ç»­è®¢ï¼Œä½†æ˜¯ï¼Œå¦‚æœæ²¡æœ‰æ­£ç¡®çš„â€œreloadcmdâ€ï¼Œè¯ä¹¦å¯èƒ½æ— æ³•åˆ·æ–°åˆ°æ‚¨çš„æœåŠ¡å™¨ï¼ˆå¦‚nginxæˆ–apacheï¼‰ï¼Œé‚£ä¹ˆæ‚¨çš„ç½‘ç«™å°†æ— æ³•åœ¨60å¤©å†…æ˜¾ç¤ºç»­è®¢è¯ä¹¦ã€‚&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# æ³¨æ„ï¼šæ— è®ºä»€ä¹ˆæƒ…å†µï¼Œå¯†é’¥(å³ä¸Šé¢çš„lager.cf.key)éƒ½ä¸èƒ½æ³„æ¼ï¼Œå¦‚æœä½ ä¸å¹¸æ³„æ¼äº†å¯†é’¥ï¼Œå¯ä»¥ä½¿ç”¨ acme.sh å°†åŸè¯ä¹¦åŠé”€ï¼Œå†ç”Ÿæˆæ–°çš„è¯ä¹¦ï¼ŒåŠé”€æ–¹æ³•è¯·è‡ªè¡Œå‚è€ƒ acme.sh çš„æ‰‹å†Œ&lt;/span&gt;&lt;br&gt;acme.sh --installcert -d lager.cf \&lt;br&gt;--keypath       /usr/local/nginx/ssl/lager.cf.key \&lt;br&gt;--fullchainpath /usr/local/nginx/ssl/lager.cf.cer \&lt;br&gt;--reloadcmd     &lt;span class=&#34;hljs-string&#34;&gt;&amp;quot;sudo service nginx force-reload&amp;quot;&lt;/span&gt;  --force --ecc&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# ç”Ÿæˆ dhparam.pem æ–‡ä»¶&lt;/span&gt;&lt;br&gt;openssl dhparam -out /usr/local/nginx/ssl/lager.cf.pem 2048&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# é…ç½®nginx å¯ç”¨ https&lt;/span&gt;&lt;br&gt;vim /usr/local/nginx/conf/nginx.conf&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# æ£€æŸ¥é…ç½®&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;sudo&lt;/span&gt; service nginx configtest&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# é‡å¯æœåŠ¡&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-built_in&#34;&gt;sudo&lt;/span&gt; service nginx restart&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;#éªŒè¯ SSL&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;#è®¿é—® ssllabs.com è¾“å…¥ä½ çš„åŸŸåï¼Œæ£€æŸ¥ SSL çš„é…ç½®æ˜¯å¦éƒ½æ­£å¸¸ï¼š&lt;/span&gt;&lt;br&gt;https://ssllabs.com/ssltest/analyze.html?d=ruby-china.org&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;



&lt;h3 id=&#34;ä¸€äº›æ³¨æ„äº‹é¡¹&#34;&gt;&lt;a href=&#34;#ä¸€äº›æ³¨æ„äº‹é¡¹&#34; class=&#34;headerlink&#34; title=&#34;ä¸€äº›æ³¨æ„äº‹é¡¹&#34;&gt;&lt;/a&gt;ä¸€äº›æ³¨æ„äº‹é¡¹&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ssl_dhparam&lt;/code&gt; æœªé…ç½®ï¼Œå°†å¯¼è‡´ ssllabs.com çš„è¯„åˆ†é™åˆ° Bï¼Œå¹¶ç»™ &lt;code&gt;This server supports weak Diffie-Hellman (DH) key exchange parameters. Grade capped to B.&lt;/code&gt; çš„è­¦å‘Šã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ssl_prefer_server_ciphers on&lt;/code&gt; ä¹Ÿæ˜¯ä¸€ä¸ªå¿…è¦çš„é…ç½®ï¼Œå¦åˆ™ä¼š A+ å˜æˆ A-;&lt;/li&gt;
&lt;li&gt;å¦‚æœä½ éœ€è¦å…¼å®¹è€ç³»ç»Ÿæˆ–è€æµè§ˆå™¨çš„è¯ï¼Œä½ éœ€è¦é…ç½® &lt;code&gt;ssl_ciphers&lt;/code&gt;ï¼Œè¯¦è§ &lt;a href=&#34;https://wiki.mozilla.org/Security/Server_Side_TLS&#34;&gt;Mozilla Server_Side_TLS çš„ä»‹ç»&lt;/a&gt;ï¼ŒNginx é‡Œé¢ &lt;code&gt;ssl_ciphers&lt;/code&gt; é»˜è®¤å€¼æ˜¯ &lt;code&gt;HIGH:!aNULL:!MD5;&lt;/code&gt; &lt;a href=&#34;https://nginx.org/en/docs/http/ngx_http_ssl_module.html#ssl_ciphers&#34;&gt;ref&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;acme-sh-1&#34;&gt;&lt;a href=&#34;#acme-sh-1&#34; class=&#34;headerlink&#34; title=&#34;acme.sh&#34;&gt;&lt;/a&gt;acme.sh&lt;/h2&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs bash&#34;&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# æŸ¥çœ‹è¯ä¹¦åˆ—è¡¨&lt;/span&gt;&lt;br&gt;acme.sh --list&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# åˆ é™¤è¯ä¹¦&lt;/span&gt;&lt;br&gt;acme.sh remove Main_Domain (è¯ä¹¦çš„ä¸»åŸŸåï¼Œä¸Šè¿°è¯ä¹¦åˆ—è¡¨ä¸­å¯çœ‹è§)&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# å‡çº§ acme.sh åˆ°æœ€æ–°ç‰ˆ :&lt;/span&gt;&lt;br&gt;acme.sh --upgrade&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# å¦‚æœä½ ä¸æƒ³æ‰‹åŠ¨å‡çº§, å¯ä»¥å¼€å¯è‡ªåŠ¨å‡çº§:&lt;/span&gt;&lt;br&gt;acme.sh --upgrade --auto-upgrade&lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;#ä½ ä¹Ÿå¯ä»¥éšæ—¶å…³é—­è‡ªåŠ¨æ›´æ–°:&lt;/span&gt;&lt;br&gt;acme.sh --upgrade --auto-upgrade 0 &lt;br&gt;&lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# å¦‚æœå‡ºé”™, è¯·æ·»åŠ  debug logï¼š&lt;/span&gt;&lt;br&gt;acme.sh --issue ..... --debug &lt;br&gt;&lt;span class=&#34;hljs-comment&#34;&gt;# æˆ–è€…ï¼š&lt;/span&gt;&lt;br&gt;acme.sh --issue ..... --debug 2&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;







&lt;h2 id=&#34;ngix&#34;&gt;&lt;a href=&#34;#ngix&#34; class=&#34;headerlink&#34; title=&#34;ngix&#34;&gt;&lt;/a&gt;ngix&lt;/h2&gt;&lt;h3 id=&#34;nginx-config-1&#34;&gt;&lt;a href=&#34;#nginx-config-1&#34; class=&#34;headerlink&#34; title=&#34;nginx config 1&#34;&gt;&lt;/a&gt;nginx config 1&lt;/h3&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs bash&#34;&gt;server &amp;#123;&lt;br&gt;    listen 80; &lt;span class=&#34;hljs-comment&#34;&gt;#å¦‚æœç¡¬æ€§è¦æ±‚å…¨éƒ¨èµ°httpsåè®®ï¼Œè¿™ä¸€è¡Œå»é™¤&lt;/span&gt;&lt;br&gt;    listen 443 ssl http2; &lt;span class=&#34;hljs-comment&#34;&gt;#å¦‚æœç¡¬æ€§è¦æ±‚å…¨éƒ¨èµ°httpsåè®®ï¼Œè¿™é‡Œå»é™¤ssl&lt;/span&gt;&lt;br&gt;    server_name chandao.test.com;&lt;br&gt;&lt;br&gt;    ssl_certificate /usr/local/nginx/ssl_cert/test.com/chandao.test.com.cer;&lt;br&gt;    ssl_certificate_key /usr/local/nginx/ssl_cert/test.com/chandao.test.com.key;&lt;br&gt;    ssl_dhparam /usr/local/nginx/ssl/lager.cf.pem;&lt;br&gt;&lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;#sslæ€§èƒ½è°ƒä¼˜&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;#nginx 1.13.0æ”¯æŒäº†TLSv1.3,TLSv1.3ç›¸æ¯”ä¹‹å‰çš„TLSv1.2ã€TLSv1.1ç­‰æ€§èƒ½å¤§å¹…æå‡&lt;/span&gt;&lt;br&gt;    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;&lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;# ssl_ciphers EECDH+CHACHA20:EECDH+AES128:RSA+AES128:EECDH+AES256:RSA+AES256:EECDH+3DES:RSA+3DES:!MD5;&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;# ssl_prefer_server_ciphers on|off ä½œç”¨ï¼šæ˜¯å¦ç”±æœåŠ¡å™¨å†³å®šé‡‡ç”¨å“ªç§åŠ å¯†ç®—æ³•&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;# å¦‚æœsslåè®®æ”¯æŒtlsv1 tls1.1è¿™ç§è€åè®®ï¼Œè®¾ç½®ä¸º on ï¼Œå¹¶é…åˆssl_ciphersä½¿ç”¨&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;# å¦‚æœsslåè®®åªæ”¯æŒtlsv1.2 tlsv1.3æ–°åè®®ï¼Œè®¾ç½®ä¸º off ï¼ˆnginxé»˜è®¤ä¸ºoffï¼‰ï¼Œå› ä¸ºæ–°åè®®ä¸å†é‡‡çº³æ­¤å‚æ•°&lt;/span&gt;&lt;br&gt;    ssl_prefer_server_ciphers on;&lt;br&gt;    ssl_session_timeout 10m;&lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;#ä½¿ç”¨ssl_session_cacheä¼˜åŒ–httpsä¸‹Nginxçš„æ€§èƒ½&lt;/span&gt;&lt;br&gt;    ssl_session_cache &lt;span class=&#34;hljs-built_in&#34;&gt;builtin&lt;/span&gt;:1000 shared:SSL:10m;&lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;#OCSP Stapling å¼€å¯ã€‚OCSPæ˜¯ç”¨äºåœ¨çº¿æŸ¥è¯¢è¯ä¹¦åŠé”€æƒ…å†µçš„æœåŠ¡ï¼Œä½¿ç”¨OCSP Staplingèƒ½å°†è¯ä¹¦æœ‰æ•ˆçŠ¶æ€çš„ä¿¡æ¯ç¼“å­˜åˆ°æœåŠ¡å™¨ï¼Œæé«˜ TLS æ¡æ‰‹é€Ÿåº¦&lt;/span&gt;&lt;br&gt;    ssl_stapling on;&lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;#OCSP Stapling éªŒè¯å¼€å¯&lt;/span&gt;&lt;br&gt;    ssl_stapling_verify on;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;nginx-config-2&#34;&gt;&lt;a href=&#34;#nginx-config-2&#34; class=&#34;headerlink&#34; title=&#34;nginx config 2&#34;&gt;&lt;/a&gt;nginx config 2&lt;/h3&gt;&lt;figure class=&#34;highlight nginx&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs nginx&#34;&gt;&lt;span class=&#34;hljs-section&#34;&gt;http&lt;/span&gt; &amp;#123;&lt;br&gt;  &lt;span class=&#34;hljs-comment&#34;&gt;# æ–°å¢&lt;/span&gt;&lt;br&gt;  &lt;span class=&#34;hljs-attribute&#34;&gt;ssl_protocols&lt;/span&gt; TLSv1 TLSv1.&lt;span class=&#34;hljs-number&#34;&gt;1&lt;/span&gt; TLSv1.&lt;span class=&#34;hljs-number&#34;&gt;2&lt;/span&gt;;&lt;br&gt;  &lt;span class=&#34;hljs-attribute&#34;&gt;ssl_prefer_server_ciphers&lt;/span&gt; &lt;span class=&#34;hljs-literal&#34;&gt;on&lt;/span&gt;;&lt;br&gt;  &lt;span class=&#34;hljs-comment&#34;&gt;# å…¼å®¹å…¶ä»–è€æµè§ˆå™¨çš„ ssl_ciphers è®¾ç½®è¯·è®¿é—® https://wiki.mozilla.org/Security/Server_Side_TLS&lt;/span&gt;&lt;br&gt;&lt;br&gt;  &lt;span class=&#34;hljs-section&#34;&gt;server&lt;/span&gt; &amp;#123;&lt;br&gt;    &lt;span class=&#34;hljs-attribute&#34;&gt;listen&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;80&lt;/span&gt; default_server;&lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;# æ–°å¢&lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-attribute&#34;&gt;listen&lt;/span&gt; &lt;span class=&#34;hljs-number&#34;&gt;443&lt;/span&gt; ssl;&lt;br&gt;    &lt;span class=&#34;hljs-attribute&#34;&gt;ssl_certificate&lt;/span&gt;         /home/ubuntu/www/ssl/www.your-app.com.key.pem;&lt;br&gt;    &lt;span class=&#34;hljs-attribute&#34;&gt;ssl_certificate_key&lt;/span&gt;     /home/ubuntu/www/ssl/www.your-app.com.key;&lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;# ssl_dhparam &lt;/span&gt;&lt;br&gt;    &lt;span class=&#34;hljs-attribute&#34;&gt;ssl_dhparam&lt;/span&gt;             /home/ubuntu/www/ssl/dhparam.pem;&lt;br&gt;&lt;br&gt;    &lt;span class=&#34;hljs-comment&#34;&gt;# å…¶ä»–çœç•¥&lt;/span&gt;&lt;br&gt;  &amp;#125;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;



&lt;p&gt;80 é‡å®šå‘åˆ° 443&lt;/p&gt;
&lt;p&gt;è¿™äº›åŠæ³•è¯•äº†å¥½å¤šæ¬¡éƒ½ä¸å¤ªè¡Œ&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs bash&#34;&gt;server &amp;#123;&lt;br&gt;  listen       80 default_server;&lt;br&gt;  server_name  www.lager.cf;&lt;br&gt;  &lt;span class=&#34;hljs-built_in&#34;&gt;return&lt;/span&gt; 301 https://$server_name&lt;span class=&#34;hljs-variable&#34;&gt;$request_uri&lt;/span&gt;;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;br&gt;&lt;br&gt;server &amp;#123;&lt;br&gt;    listen      80;&lt;br&gt;    server_name    www.awesomes.cn,awesomes.cn;&lt;br&gt;    rewrite ^(.*)$  https://$host&lt;span class=&#34;hljs-variable&#34;&gt;$1&lt;/span&gt; permanent;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;



&lt;h1 id=&#34;v2ray-tls-websocket-æµé‡ä¼ªè£…&#34;&gt;&lt;a href=&#34;#v2ray-tls-websocket-æµé‡ä¼ªè£…&#34; class=&#34;headerlink&#34; title=&#34;v2ray + tls + websocket æµé‡ä¼ªè£…&#34;&gt;&lt;/a&gt;v2ray + tls + websocket æµé‡ä¼ªè£…&lt;/h1&gt;&lt;p&gt;&lt;a href=&#34;https://www.bwgss.org/616.html&#34;&gt;https://www.bwgss.org/616.html&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&#34;é™„å½•&#34;&gt;&lt;a href=&#34;#é™„å½•&#34; class=&#34;headerlink&#34; title=&#34;é™„å½•&#34;&gt;&lt;/a&gt;é™„å½•&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;è¯ä¹¦(Certificate) â€“ *.cer *.crt&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç§é’¥(Private Key) â€“ *.key&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è¯ä¹¦ç­¾åè¯·æ±‚(Certificate signing request) â€“ *.csr&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç¼–ç æ–¹å¼: 1. pem - base64ç¼–ç  2. der - äºŒè¿›åˆ¶ç¼–ç (å°‘è§), cer,key,csr å‡å¯ç”¨è¿™ä¸¤ç§ç¼–ç æ–¹å¼&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è¯ä¹¦åŠé”€åˆ—è¡¨(Certificate Revocation List) â€“ *.crl&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;jksï¼ˆjavakeystoneï¼‰â€” æ˜¯JAVAçš„keytoolsè¯ä¹¦å·¥å…·æ”¯æŒçš„è¯ä¹¦ç§é’¥æ ¼å¼ï¼Œjavakeystone é‡Œé¢å­˜æ”¾ç€keyå’Œä¿¡ä»»çš„CAï¼Œkeyå’ŒCAå¯ä»¥æœ‰å¤šä¸ªã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;/2022/aa858de8/1606053801673.png&#34; alt=&#34;Wordpress&#34;&gt;&lt;/p&gt;
 ]]></description>
        </item>
    </channel>
</rss>
