{
    "version": "https://jsonfeed.org/version/1",
    "title": "Oikiou's Blog • All posts by \"micropython\" tag",
    "description": "Blog",
    "home_page_url": "https://www.oikiou.top",
    "items": [
        {
            "id": "https://www.oikiou.top/2020/bf76c113/",
            "url": "https://www.oikiou.top/2020/bf76c113/",
            "title": "MicroPython",
            "date_published": "2020-08-08T00:08:08.000Z",
            "content_html": "<h1 id=\"MicroPython\"><a href=\"#MicroPython\" class=\"headerlink\" title=\"MicroPython\"></a>MicroPython</h1><p><a href=\"https://www.cirmall.com/articles/301308/p1\">简单、方便、快速开发嵌入式实时系统——MicroPytho</a></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs python\"><span class=\"hljs-keyword\">from</span> pyb <span class=\"hljs-keyword\">import</span> uart<br><br><span class=\"hljs-keyword\">from</span> pyb <span class=\"hljs-keyword\">import</span> I2C <span class=\"hljs-comment\">#工程师将从pyb库导入I2C</span><br><span class=\"hljs-comment\">#这里的PYB库提供了接入到微控制器外围功能，如SPI，I2C以及UART</span><br><span class=\"hljs-comment\">#在使用任何外设之前，工程师必须实例化外设类以创建可用于控制外设的对象。一旦外设类被初始化，工程师可以执行任何其他操作，例如在进入主应用程序循环之前验证设备是否存在，主要应用程序代码将会每秒采样一次传感器。</span><br><br>GlobalTemp = <span class=\"hljs-number\">0.0</span><br><br>GlobalBarometer = <span class=\"hljs-number\">0.0</span><br><br>＃初始化和实例化I2C外设<span class=\"hljs-number\">2</span><br><br>I2C2 = I2C（<span class=\"hljs-number\">2</span>，I2C.MASTER，波特率= <span class=\"hljs-number\">100000</span>）<br><br>＃配置Uart1进行通信<br><br>Uart1 = pyb.UART（<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">115200</span>）<br><br>Uart1.init（<span class=\"hljs-number\">115200</span>，bits = <span class=\"hljs-number\">8</span>，parity = <span class=\"hljs-literal\">None</span>，stop = <span class=\"hljs-number\">1</span>）<br><br><span class=\"hljs-keyword\">while</span> <span class=\"hljs-literal\">True</span>:<br><br>SampleSensor（）<br><br>pyb.delay（<span class=\"hljs-number\">1000</span>）<br><br><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">SensorSample</span>（）：<br><br>＃读取温度数据<br><br>TempSample = I2C2.readfrom_mem（<span class=\"hljs-number\">119</span>，<span class=\"hljs-number\">0xFA</span>，<span class=\"hljs-number\">3</span>）<br><br>＃读取压力数据<br><br>PressureSample = I2C2.readfrom_mem（<span class=\"hljs-number\">119</span>，<span class=\"hljs-number\">0xF7</span>,<span class=\"hljs-number\">3</span>）<br><br>将样本数据转换为字符串<br><br>data =“＃，temperature =”<span class=\"hljs-built_in\">str</span>（TempSample）+“，pressure”+ <span class=\"hljs-built_in\">str</span>（PressureSample）+“，＃，\\ n \\ r”<br><br>＃将数据写入蓝牙<br><br>Uart1.write（data）<br></code></pre></td></tr></table></figure>\n\n\n\n\n\n\n\n\n\n\n\n",
            "tags": [
                "embedded",
                "micropython",
                "python"
            ]
        }
    ]
}