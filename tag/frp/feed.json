{
    "version": "https://jsonfeed.org/version/1",
    "title": "Oikiou's Blog • All posts by \"frp\" tag",
    "description": "Blog",
    "home_page_url": "https://www.oikiou.top",
    "items": [
        {
            "id": "https://www.oikiou.top/2023/c65a4228/",
            "url": "https://www.oikiou.top/2023/c65a4228/",
            "title": "Frp",
            "date_published": "2023-11-03T11:12:15.000Z",
            "content_html": "<h1 id=\"背景介绍\"><a href=\"#背景介绍\" class=\"headerlink\" title=\"背景介绍\"></a>背景介绍</h1><p>frp 是一款高性能的反向代理应用，专注于内网穿透。它支持多种协议，包括 TCP、UDP、HTTP、HTTPS 等，并且具备 P2P 通信功能。使用 frp，您可以安全、便捷地将内网服务暴露到公网，通过拥有公网 IP 的节点进行中转。</p>\n<blockquote>\n<h1 id=\"特性\"><a href=\"#特性\" class=\"headerlink\" title=\"特性\"></a>特性</h1><p>  通过在具有公网 IP 的节点上部署 frp 服务端，您可以轻松地将内网服务穿透到公网，并享受以下专业特性：</p>\n<ul>\n<li>多种协议支持：客户端服务端通信支持 TCP、QUIC、KCP 和 Websocket 等多种协议。</li>\n<li>TCP 连接流式复用：在单个连接上承载多个请求，减少连接建立时间，降低请求延迟。</li>\n<li>代理组间的负载均衡。</li>\n<li>端口复用：多个服务可以通过同一个服务端端口暴露。</li>\n<li>P2P 通信：流量不必经过服务器中转，充分利用带宽资源。</li>\n<li>客户端插件：提供多个原生支持的客户端插件，如静态文件查看、HTTPS&#x2F;HTTP 协议转换、HTTP、SOCKS5 代理等，以便满足各种需求。</li>\n<li>服务端插件系统：高度可扩展的服务端插件系统，便于根据自身需求进行功能扩展。</li>\n<li>用户友好的 UI 页面：提供服务端和客户端的用户界面，使配置和监控变得更加方便。</li>\n</ul>\n<h2 id=\"工作原理\"><a href=\"#工作原理\" class=\"headerlink\" title=\"工作原理\"></a>工作原理</h2><p>  frp 主要由两个组件组成：客户端(frpc) 和 服务端(frps)。通常情况下，服务端部署在具有公网 IP 地址的机器上，而客户端部署在需要穿透的内网服务所在的机器上。</p>\n<p>  由于内网服务缺乏公网 IP 地址，因此无法直接被非局域网内的用户访问。用户通过访问服务端的 frps，frp 负责根据请求的端口或其他信息将请求路由到相应的内网机器，从而实现通信。</p>\n<h2 id=\"代理\"><a href=\"#代理\" class=\"headerlink\" title=\"代理\"></a>代理</h2><p>  在 frp 中，一个代理对应一个需要公开访问的内网服务。一个客户端可以同时配置多个代理，以满足不同的需求。</p>\n<h2 id=\"代理类型\"><a href=\"#代理类型\" class=\"headerlink\" title=\"代理类型\"></a>代理类型</h2><p>  frp 支持多种代理类型，以适应不同的使用场景。以下是一些常见的代理类型：</p>\n<ul>\n<li><strong>TCP</strong>：提供纯粹的 TCP 端口映射，使服务端能够根据不同的端口将请求路由到不同的内网服务。</li>\n<li><strong>UDP</strong>：提供纯粹的 UDP 端口映射，与 TCP 代理类似，但用于 UDP 流量。</li>\n<li><strong>HTTP</strong>：专为 HTTP 应用设计，支持修改 Host Header 和增加鉴权等额外功能。</li>\n<li><strong>HTTPS</strong>：类似于 HTTP 代理，但专门用于处理 HTTPS 流量。</li>\n<li><strong>STCP</strong>：提供安全的 TCP 内网代理，要求在被访问者和访问者的机器上都部署 frpc，不需要在服务端暴露端口。</li>\n<li><strong>SUDP</strong>：提供安全的 UDP 内网代理，与 STCP 类似，需要在被访问者和访问者的机器上都部署 frpc，不需要在服务端暴露端口。</li>\n<li><strong>XTCP</strong>：点对点内网穿透代理，与 STCP 类似，但流量不需要经过服务器中转。</li>\n<li><strong>TCPMUX</strong>：支持服务端 TCP 端口的多路复用，允许通过同一端口访问不同的内网服务。</li>\n</ul>\n</blockquote>\n<h1 id=\"部署\"><a href=\"#部署\" class=\"headerlink\" title=\"部署\"></a>部署</h1><blockquote>\n<h2 id=\"下载\"><a href=\"#下载\" class=\"headerlink\" title=\"下载\"></a>下载</h2><p>  您可以从 GitHub 的 <a href=\"https://github.com/fatedier/frp/releases\">Release</a> 页面中下载最新版本的客户端和服务器二进制文件。所有文件都打包在一个压缩包中，还包含了一份完整的配置参数说明。</p>\n<h2 id=\"部署-1\"><a href=\"#部署-1\" class=\"headerlink\" title=\"部署\"></a>部署</h2><ol>\n<li>解压下载的压缩包。</li>\n<li>将 <code>frpc</code> 复制到内网服务所在的机器上。</li>\n<li>将 <code>frps</code> 复制到拥有公网 IP 地址的机器上，并将它们放在任意目录。</li>\n</ol>\n<h2 id=\"开始使用！\"><a href=\"#开始使用！\" class=\"headerlink\" title=\"开始使用！\"></a>开始使用！</h2><ol>\n<li>编写配置文件，目前支持的文件格式包括 TOML&#x2F;YAML&#x2F;JSON，旧的 INI 格式仍然支持，但已经不再推荐。</li>\n<li>使用以下命令启动服务器：<code>./frps -c ./frps.toml</code>。</li>\n<li>使用以下命令启动客户端：<code>./frpc -c ./frpc.toml</code>。</li>\n<li>如果需要在后台长期运行，建议结合其他工具，如 <code>systemd</code> 和 <code>supervisor</code>。</li>\n</ol>\n</blockquote>\n<h1 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h1><p><a href=\"https://gofrp.org/zh-cn/docs/examples/\">配置示例</a></p>\n<blockquote>\n<p>  具体配置可以参考官方文档，写的挺详细的，不过提示一点，配置文件的配置项有顺序要求，需要注意。</p>\n<p>  例如<code>frpc</code>的配置中<code>auth.token</code> 需要放在全局配置里面，不能放在<code>[[proxies]]</code>等等配置选项后面。</p>\n</blockquote>\n<h2 id=\"配置文件参考\"><a href=\"#配置文件参考\" class=\"headerlink\" title=\"配置文件参考\"></a>配置文件参考</h2><h3 id=\"frps\"><a href=\"#frps\" class=\"headerlink\" title=\"frps\"></a>frps</h3><p><a href=\"https://github.com/fatedier/frp/blob/dev/conf/frps_full_example.toml\">frps</a></p>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs ini\"><span class=\"hljs-comment\"># This configuration file is for reference only. Please do not use this configuration directly to run the program as it may have various issues.</span><br><br><span class=\"hljs-comment\"># A literal address or host name for IPv6 must be enclosed</span><br><span class=\"hljs-comment\"># in square brackets, as in &quot;[::1]:80&quot;, &quot;[ipv6-host]:http&quot; or &quot;[ipv6-host%zone]:80&quot;</span><br><span class=\"hljs-comment\"># For single &quot;bindAddr&quot; field, no need square brackets, like `bindAddr = &quot;::&quot;`.</span><br><span class=\"hljs-attr\">bindAddr</span> = <span class=\"hljs-string\">&quot;0.0.0.0&quot;</span><br><span class=\"hljs-attr\">bindPort</span> = <span class=\"hljs-number\">7000</span><br><br><span class=\"hljs-comment\"># udp port used for kcp protocol, it can be same with &#x27;bindPort&#x27;.</span><br><span class=\"hljs-comment\"># if not set, kcp is disabled in frps.</span><br><span class=\"hljs-attr\">kcpBindPort</span> = <span class=\"hljs-number\">7000</span><br><br><span class=\"hljs-comment\"># udp port used for quic protocol.</span><br><span class=\"hljs-comment\"># if not set, quic is disabled in frps.</span><br><span class=\"hljs-comment\"># quicBindPort = 7002</span><br><br><span class=\"hljs-comment\"># Specify which address proxy will listen for, default value is same with bindAddr</span><br><span class=\"hljs-comment\"># proxyBindAddr = &quot;127.0.0.1&quot;</span><br><br><span class=\"hljs-comment\"># quic protocol options</span><br><span class=\"hljs-comment\"># transport.quic.keepalivePeriod = 10</span><br><span class=\"hljs-comment\"># transport.quic.maxIdleTimeout = 30</span><br><span class=\"hljs-comment\"># transport.quic.maxIncomingStreams = 100000</span><br><br><span class=\"hljs-comment\"># Heartbeat configure, it&#x27;s not recommended to modify the default value</span><br><span class=\"hljs-comment\"># The default value of heartbeatTimeout is 90. Set negative value to disable it.</span><br><span class=\"hljs-comment\"># transport.heartbeatTimeout = 90</span><br><br><span class=\"hljs-comment\"># Pool count in each proxy will keep no more than maxPoolCount.</span><br><span class=\"hljs-attr\">transport.maxPoolCount</span> = <span class=\"hljs-number\">5</span><br><br><span class=\"hljs-comment\"># If tcp stream multiplexing is used, default is true</span><br><span class=\"hljs-comment\"># transport.tcpMux = true</span><br><br><span class=\"hljs-comment\"># Specify keep alive interval for tcp mux.</span><br><span class=\"hljs-comment\"># only valid if tcpMux is true.</span><br><span class=\"hljs-comment\"># transport.tcpMuxKeepaliveInterval = 60</span><br><br><span class=\"hljs-comment\"># tcpKeepalive specifies the interval between keep-alive probes for an active network connection between frpc and frps.</span><br><span class=\"hljs-comment\"># If negative, keep-alive probes are disabled.</span><br><span class=\"hljs-comment\"># transport.tcpKeepalive = 7200</span><br><br><span class=\"hljs-comment\"># transport.tls.force specifies whether to only accept TLS-encrypted connections. By default, the value is false.</span><br><span class=\"hljs-attr\">transport.tls.force</span> = <span class=\"hljs-literal\">false</span><br><br><span class=\"hljs-comment\"># transport.tls.certFile = &quot;server.crt&quot;</span><br><span class=\"hljs-comment\"># transport.tls.keyFile = &quot;server.key&quot;</span><br><span class=\"hljs-comment\"># transport.tls.trustedCaFile = &quot;ca.crt&quot;</span><br><br><span class=\"hljs-comment\"># If you want to support virtual host, you must set the http port for listening (optional)</span><br><span class=\"hljs-comment\"># <span class=\"hljs-doctag\">Note:</span> http port and https port can be same with bindPort</span><br><span class=\"hljs-attr\">vhostHTTPPort</span> = <span class=\"hljs-number\">80</span><br><span class=\"hljs-attr\">vhostHTTPSPort</span> = <span class=\"hljs-number\">443</span><br><br><span class=\"hljs-comment\"># Response header timeout(seconds) for vhost http server, default is 60s</span><br><span class=\"hljs-comment\"># vhostHTTPTimeout = 60</span><br><br><span class=\"hljs-comment\"># tcpmuxHTTPConnectPort specifies the port that the server listens for TCP</span><br><span class=\"hljs-comment\"># HTTP CONNECT requests. If the value is 0, the server will not multiplex TCP</span><br><span class=\"hljs-comment\"># requests on one single port. If it&#x27;s not - it will listen on this value for</span><br><span class=\"hljs-comment\"># HTTP CONNECT requests. By default, this value is 0.</span><br><span class=\"hljs-comment\"># tcpmuxHTTPConnectPort = 1337</span><br><br><span class=\"hljs-comment\"># If tcpmuxPassthrough is true, frps won&#x27;t do any update on traffic.</span><br><span class=\"hljs-comment\"># tcpmuxPassthrough = false</span><br><br><span class=\"hljs-comment\"># Configure the web server to enable the dashboard for frps.</span><br><span class=\"hljs-comment\"># dashboard is available only if webServer.port is set.</span><br><span class=\"hljs-attr\">webServer.addr</span> = <span class=\"hljs-string\">&quot;127.0.0.1&quot;</span><br><span class=\"hljs-attr\">webServer.port</span> = <span class=\"hljs-number\">7500</span><br><span class=\"hljs-attr\">webServer.user</span> = <span class=\"hljs-string\">&quot;admin&quot;</span><br><span class=\"hljs-attr\">webServer.password</span> = <span class=\"hljs-string\">&quot;admin&quot;</span><br><span class=\"hljs-comment\"># webServer.tls.certFile = &quot;server.crt&quot;</span><br><span class=\"hljs-comment\"># webServer.tls.keyFile = &quot;server.key&quot;</span><br><span class=\"hljs-comment\"># dashboard assets directory(only for debug mode)</span><br><span class=\"hljs-comment\"># webServer.assetsDir = &quot;./static&quot;</span><br><br><span class=\"hljs-comment\"># Enable golang pprof handlers in dashboard listener.</span><br><span class=\"hljs-comment\"># Dashboard port must be set first</span><br><span class=\"hljs-attr\">webServer.pprofEnable</span> = <span class=\"hljs-literal\">false</span><br><br><span class=\"hljs-comment\"># enablePrometheus will export prometheus metrics on webServer in /metrics api.</span><br><span class=\"hljs-attr\">enablePrometheus</span> = <span class=\"hljs-literal\">true</span><br><br><span class=\"hljs-comment\"># console or real logFile path like ./frps.log</span><br><span class=\"hljs-attr\">log.to</span> = <span class=\"hljs-string\">&quot;./frps.log&quot;</span><br><span class=\"hljs-comment\"># trace, debug, info, warn, error</span><br><span class=\"hljs-attr\">log.level</span> = <span class=\"hljs-string\">&quot;info&quot;</span><br><span class=\"hljs-attr\">log.maxDays</span> = <span class=\"hljs-number\">3</span><br><span class=\"hljs-comment\"># disable log colors when log.to is console, default is false</span><br><span class=\"hljs-attr\">log.disablePrintColor</span> = <span class=\"hljs-literal\">false</span><br><br><span class=\"hljs-comment\"># DetailedErrorsToClient defines whether to send the specific error (with debug info) to frpc. By default, this value is true.</span><br><span class=\"hljs-attr\">detailedErrorsToClient</span> = <span class=\"hljs-literal\">true</span><br><br><span class=\"hljs-comment\"># auth.method specifies what authentication method to use authenticate frpc with frps.</span><br><span class=\"hljs-comment\"># If &quot;token&quot; is specified - token will be read into login message.</span><br><span class=\"hljs-comment\"># If &quot;oidc&quot; is specified - OIDC (Open ID Connect) token will be issued using OIDC settings. By default, this value is &quot;token&quot;.</span><br><span class=\"hljs-attr\">auth.method</span> = <span class=\"hljs-string\">&quot;token&quot;</span><br><br><span class=\"hljs-comment\"># auth.additionalScopes specifies additional scopes to include authentication information.</span><br><span class=\"hljs-comment\"># Optional values are HeartBeats, NewWorkConns.</span><br><span class=\"hljs-comment\"># auth.additionalScopes = [&quot;HeartBeats&quot;, &quot;NewWorkConns&quot;]</span><br><br><span class=\"hljs-comment\"># auth token</span><br><span class=\"hljs-attr\">auth.token</span> = <span class=\"hljs-string\">&quot;12345678&quot;</span><br><br><span class=\"hljs-comment\"># oidc issuer specifies the issuer to verify OIDC tokens with.</span><br><span class=\"hljs-attr\">auth.oidc.issuer</span> = <span class=\"hljs-string\">&quot;&quot;</span><br><span class=\"hljs-comment\"># oidc audience specifies the audience OIDC tokens should contain when validated.</span><br><span class=\"hljs-attr\">auth.oidc.audience</span> = <span class=\"hljs-string\">&quot;&quot;</span><br><span class=\"hljs-comment\"># oidc skipExpiryCheck specifies whether to skip checking if the OIDC token is expired.</span><br><span class=\"hljs-attr\">auth.oidc.skipExpiryCheck</span> = <span class=\"hljs-literal\">false</span><br><span class=\"hljs-comment\"># oidc skipIssuerCheck specifies whether to skip checking if the OIDC token&#x27;s issuer claim matches the issuer specified in OidcIssuer.</span><br><span class=\"hljs-attr\">auth.oidc.skipIssuerCheck</span> = <span class=\"hljs-literal\">false</span><br><br><span class=\"hljs-comment\"># userConnTimeout specifies the maximum time to wait for a work connection.</span><br><span class=\"hljs-comment\"># userConnTimeout = 10</span><br><br><span class=\"hljs-comment\"># Only allow frpc to bind ports you list. By default, there won&#x27;t be any limit.</span><br><span class=\"hljs-attr\">allowPorts</span> = [<br>  &#123; start = <span class=\"hljs-number\">2000</span>, end = <span class=\"hljs-number\">3000</span> &#125;,<br>  &#123; single = <span class=\"hljs-number\">3001</span> &#125;,<br>  &#123; single = <span class=\"hljs-number\">3003</span> &#125;,<br>  &#123; start = <span class=\"hljs-number\">4000</span>, end = <span class=\"hljs-number\">50000</span> &#125;<br>]<br><br><span class=\"hljs-comment\"># Max ports can be used for each client, default value is 0 means no limit</span><br><span class=\"hljs-attr\">maxPortsPerClient</span> = <span class=\"hljs-number\">0</span><br><br><span class=\"hljs-comment\"># If subDomainHost is not empty, you can set subdomain when type is http or https in frpc&#x27;s configure file</span><br><span class=\"hljs-comment\"># When subdomain is test, the host used by routing is test.frps.com</span><br><span class=\"hljs-attr\">subDomainHost</span> = <span class=\"hljs-string\">&quot;frps.com&quot;</span><br><br><span class=\"hljs-comment\"># custom 404 page for HTTP requests</span><br><span class=\"hljs-comment\"># custom404Page = &quot;/path/to/404.html&quot;</span><br><br><span class=\"hljs-comment\"># specify udp packet size, unit is byte. If not set, the default value is 1500.</span><br><span class=\"hljs-comment\"># This parameter should be same between client and server.</span><br><span class=\"hljs-comment\"># It affects the udp and sudp proxy.</span><br><span class=\"hljs-attr\">udpPacketSize</span> = <span class=\"hljs-number\">1500</span><br><br><span class=\"hljs-comment\"># Retention time for NAT hole punching strategy data.</span><br><span class=\"hljs-attr\">natholeAnalysisDataReserveHours</span> = <span class=\"hljs-number\">168</span><br><br><span class=\"hljs-comment\"># ssh tunnel gateway</span><br><span class=\"hljs-comment\"># If you want to enable this feature, the bindPort parameter is required, while others are optional.</span><br><span class=\"hljs-comment\"># By default, this feature is disabled. It will be enabled if bindPort is greater than 0.</span><br><span class=\"hljs-comment\"># sshTunnelGateway.bindPort = 2200</span><br><span class=\"hljs-comment\"># sshTunnelGateway.privateKeyFile = &quot;/home/frp-user/.ssh/id_rsa&quot;</span><br><span class=\"hljs-comment\"># sshTunnelGateway.autoGenPrivateKeyPath = &quot;&quot;</span><br><span class=\"hljs-comment\"># sshTunnelGateway.authorizedKeysFile = &quot;/home/frp-user/.ssh/authorized_keys&quot;</span><br><br><span class=\"hljs-section\">[[httpPlugins]]</span><br><span class=\"hljs-attr\">name</span> = <span class=\"hljs-string\">&quot;user-manager&quot;</span><br><span class=\"hljs-attr\">addr</span> = <span class=\"hljs-string\">&quot;127.0.0.1:9000&quot;</span><br><span class=\"hljs-attr\">path</span> = <span class=\"hljs-string\">&quot;/handler&quot;</span><br><span class=\"hljs-attr\">ops</span> = [<span class=\"hljs-string\">&quot;Login&quot;</span>]<br><br><span class=\"hljs-section\">[[httpPlugins]]</span><br><span class=\"hljs-attr\">name</span> = <span class=\"hljs-string\">&quot;port-manager&quot;</span><br><span class=\"hljs-attr\">addr</span> = <span class=\"hljs-string\">&quot;127.0.0.1:9001&quot;</span><br><span class=\"hljs-attr\">path</span> = <span class=\"hljs-string\">&quot;/handler&quot;</span><br><span class=\"hljs-attr\">ops</span> = [<span class=\"hljs-string\">&quot;NewProxy&quot;</span>]<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"frpc\"><a href=\"#frpc\" class=\"headerlink\" title=\"frpc\"></a>frpc</h3><p><a href=\"https://github.com/fatedier/frp/blob/dev/conf/frpc_full_example.toml\">frpc</a></p>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs ini\"><span class=\"hljs-comment\"># This configuration file is for reference only. Please do not use this configuration directly to run the program as it may have various issues.</span><br><br><span class=\"hljs-comment\"># A literal address or host name for IPv6 must be enclosed</span><br><span class=\"hljs-comment\"># in square brackets, as in &quot;[::1]:80&quot;, &quot;[ipv6-host]:http&quot; or &quot;[ipv6-host%zone]:80&quot;</span><br><span class=\"hljs-comment\"># For single &quot;bindAddr&quot; field, no need square brackets, like `bindAddr = &quot;::&quot;`.</span><br><span class=\"hljs-attr\">bindAddr</span> = <span class=\"hljs-string\">&quot;0.0.0.0&quot;</span><br><span class=\"hljs-attr\">bindPort</span> = <span class=\"hljs-number\">7000</span><br><br><span class=\"hljs-comment\"># udp port used for kcp protocol, it can be same with &#x27;bindPort&#x27;.</span><br><span class=\"hljs-comment\"># if not set, kcp is disabled in frps.</span><br><span class=\"hljs-attr\">kcpBindPort</span> = <span class=\"hljs-number\">7000</span><br><br><span class=\"hljs-comment\"># udp port used for quic protocol.</span><br><span class=\"hljs-comment\"># if not set, quic is disabled in frps.</span><br><span class=\"hljs-comment\"># quicBindPort = 7002</span><br><br><span class=\"hljs-comment\"># Specify which address proxy will listen for, default value is same with bindAddr</span><br><span class=\"hljs-comment\"># proxyBindAddr = &quot;127.0.0.1&quot;</span><br><br><span class=\"hljs-comment\"># quic protocol options</span><br><span class=\"hljs-comment\"># transport.quic.keepalivePeriod = 10</span><br><span class=\"hljs-comment\"># transport.quic.maxIdleTimeout = 30</span><br><span class=\"hljs-comment\"># transport.quic.maxIncomingStreams = 100000</span><br><br><span class=\"hljs-comment\"># Heartbeat configure, it&#x27;s not recommended to modify the default value</span><br><span class=\"hljs-comment\"># The default value of heartbeatTimeout is 90. Set negative value to disable it.</span><br><span class=\"hljs-comment\"># transport.heartbeatTimeout = 90</span><br><br><span class=\"hljs-comment\"># Pool count in each proxy will keep no more than maxPoolCount.</span><br><span class=\"hljs-attr\">transport.maxPoolCount</span> = <span class=\"hljs-number\">5</span><br><br><span class=\"hljs-comment\"># If tcp stream multiplexing is used, default is true</span><br><span class=\"hljs-comment\"># transport.tcpMux = true</span><br><br><span class=\"hljs-comment\"># Specify keep alive interval for tcp mux.</span><br><span class=\"hljs-comment\"># only valid if tcpMux is true.</span><br><span class=\"hljs-comment\"># transport.tcpMuxKeepaliveInterval = 60</span><br><br><span class=\"hljs-comment\"># tcpKeepalive specifies the interval between keep-alive probes for an active network connection between frpc and frps.</span><br><span class=\"hljs-comment\"># If negative, keep-alive probes are disabled.</span><br><span class=\"hljs-comment\"># transport.tcpKeepalive = 7200</span><br><br><span class=\"hljs-comment\"># transport.tls.force specifies whether to only accept TLS-encrypted connections. By default, the value is false.</span><br><span class=\"hljs-attr\">transport.tls.force</span> = <span class=\"hljs-literal\">false</span><br><br><span class=\"hljs-comment\"># transport.tls.certFile = &quot;server.crt&quot;</span><br><span class=\"hljs-comment\"># transport.tls.keyFile = &quot;server.key&quot;</span><br><span class=\"hljs-comment\"># transport.tls.trustedCaFile = &quot;ca.crt&quot;</span><br><br><span class=\"hljs-comment\"># If you want to support virtual host, you must set the http port for listening (optional)</span><br><span class=\"hljs-comment\"># <span class=\"hljs-doctag\">Note:</span> http port and https port can be same with bindPort</span><br><span class=\"hljs-attr\">vhostHTTPPort</span> = <span class=\"hljs-number\">80</span><br><span class=\"hljs-attr\">vhostHTTPSPort</span> = <span class=\"hljs-number\">443</span><br><br><span class=\"hljs-comment\"># Response header timeout(seconds) for vhost http server, default is 60s</span><br><span class=\"hljs-comment\"># vhostHTTPTimeout = 60</span><br><br><span class=\"hljs-comment\"># tcpmuxHTTPConnectPort specifies the port that the server listens for TCP</span><br><span class=\"hljs-comment\"># HTTP CONNECT requests. If the value is 0, the server will not multiplex TCP</span><br><span class=\"hljs-comment\"># requests on one single port. If it&#x27;s not - it will listen on this value for</span><br><span class=\"hljs-comment\"># HTTP CONNECT requests. By default, this value is 0.</span><br><span class=\"hljs-comment\"># tcpmuxHTTPConnectPort = 1337</span><br><br><span class=\"hljs-comment\"># If tcpmuxPassthrough is true, frps won&#x27;t do any update on traffic.</span><br><span class=\"hljs-comment\"># tcpmuxPassthrough = false</span><br><br><span class=\"hljs-comment\"># Configure the web server to enable the dashboard for frps.</span><br><span class=\"hljs-comment\"># dashboard is available only if webServer.port is set.</span><br><span class=\"hljs-attr\">webServer.addr</span> = <span class=\"hljs-string\">&quot;127.0.0.1&quot;</span><br><span class=\"hljs-attr\">webServer.port</span> = <span class=\"hljs-number\">7500</span><br><span class=\"hljs-attr\">webServer.user</span> = <span class=\"hljs-string\">&quot;admin&quot;</span><br><span class=\"hljs-attr\">webServer.password</span> = <span class=\"hljs-string\">&quot;admin&quot;</span><br><span class=\"hljs-comment\"># webServer.tls.certFile = &quot;server.crt&quot;</span><br><span class=\"hljs-comment\"># webServer.tls.keyFile = &quot;server.key&quot;</span><br><span class=\"hljs-comment\"># dashboard assets directory(only for debug mode)</span><br><span class=\"hljs-comment\"># webServer.assetsDir = &quot;./static&quot;</span><br><br><span class=\"hljs-comment\"># Enable golang pprof handlers in dashboard listener.</span><br><span class=\"hljs-comment\"># Dashboard port must be set first</span><br><span class=\"hljs-attr\">webServer.pprofEnable</span> = <span class=\"hljs-literal\">false</span><br><br><span class=\"hljs-comment\"># enablePrometheus will export prometheus metrics on webServer in /metrics api.</span><br><span class=\"hljs-attr\">enablePrometheus</span> = <span class=\"hljs-literal\">true</span><br><br><span class=\"hljs-comment\"># console or real logFile path like ./frps.log</span><br><span class=\"hljs-attr\">log.to</span> = <span class=\"hljs-string\">&quot;./frps.log&quot;</span><br><span class=\"hljs-comment\"># trace, debug, info, warn, error</span><br><span class=\"hljs-attr\">log.level</span> = <span class=\"hljs-string\">&quot;info&quot;</span><br><span class=\"hljs-attr\">log.maxDays</span> = <span class=\"hljs-number\">3</span><br><span class=\"hljs-comment\"># disable log colors when log.to is console, default is false</span><br><span class=\"hljs-attr\">log.disablePrintColor</span> = <span class=\"hljs-literal\">false</span><br><br><span class=\"hljs-comment\"># DetailedErrorsToClient defines whether to send the specific error (with debug info) to frpc. By default, this value is true.</span><br><span class=\"hljs-attr\">detailedErrorsToClient</span> = <span class=\"hljs-literal\">true</span><br><br><span class=\"hljs-comment\"># auth.method specifies what authentication method to use authenticate frpc with frps.</span><br><span class=\"hljs-comment\"># If &quot;token&quot; is specified - token will be read into login message.</span><br><span class=\"hljs-comment\"># If &quot;oidc&quot; is specified - OIDC (Open ID Connect) token will be issued using OIDC settings. By default, this value is &quot;token&quot;.</span><br><span class=\"hljs-attr\">auth.method</span> = <span class=\"hljs-string\">&quot;token&quot;</span><br><br><span class=\"hljs-comment\"># auth.additionalScopes specifies additional scopes to include authentication information.</span><br><span class=\"hljs-comment\"># Optional values are HeartBeats, NewWorkConns.</span><br><span class=\"hljs-comment\"># auth.additionalScopes = [&quot;HeartBeats&quot;, &quot;NewWorkConns&quot;]</span><br><br><span class=\"hljs-comment\"># auth token</span><br><span class=\"hljs-attr\">auth.token</span> = <span class=\"hljs-string\">&quot;12345678&quot;</span><br><br><span class=\"hljs-comment\"># oidc issuer specifies the issuer to verify OIDC tokens with.</span><br><span class=\"hljs-attr\">auth.oidc.issuer</span> = <span class=\"hljs-string\">&quot;&quot;</span><br><span class=\"hljs-comment\"># oidc audience specifies the audience OIDC tokens should contain when validated.</span><br><span class=\"hljs-attr\">auth.oidc.audience</span> = <span class=\"hljs-string\">&quot;&quot;</span><br><span class=\"hljs-comment\"># oidc skipExpiryCheck specifies whether to skip checking if the OIDC token is expired.</span><br><span class=\"hljs-attr\">auth.oidc.skipExpiryCheck</span> = <span class=\"hljs-literal\">false</span><br><span class=\"hljs-comment\"># oidc skipIssuerCheck specifies whether to skip checking if the OIDC token&#x27;s issuer claim matches the issuer specified in OidcIssuer.</span><br><span class=\"hljs-attr\">auth.oidc.skipIssuerCheck</span> = <span class=\"hljs-literal\">false</span><br><br><span class=\"hljs-comment\"># userConnTimeout specifies the maximum time to wait for a work connection.</span><br><span class=\"hljs-comment\"># userConnTimeout = 10</span><br><br><span class=\"hljs-comment\"># Only allow frpc to bind ports you list. By default, there won&#x27;t be any limit.</span><br><span class=\"hljs-attr\">allowPorts</span> = [<br>  &#123; start = <span class=\"hljs-number\">2000</span>, end = <span class=\"hljs-number\">3000</span> &#125;,<br>  &#123; single = <span class=\"hljs-number\">3001</span> &#125;,<br>  &#123; single = <span class=\"hljs-number\">3003</span> &#125;,<br>  &#123; start = <span class=\"hljs-number\">4000</span>, end = <span class=\"hljs-number\">50000</span> &#125;<br>]<br><br><span class=\"hljs-comment\"># Max ports can be used for each client, default value is 0 means no limit</span><br><span class=\"hljs-attr\">maxPortsPerClient</span> = <span class=\"hljs-number\">0</span><br><br><span class=\"hljs-comment\"># If subDomainHost is not empty, you can set subdomain when type is http or https in frpc&#x27;s configure file</span><br><span class=\"hljs-comment\"># When subdomain is test, the host used by routing is test.frps.com</span><br><span class=\"hljs-attr\">subDomainHost</span> = <span class=\"hljs-string\">&quot;frps.com&quot;</span><br><br><span class=\"hljs-comment\"># custom 404 page for HTTP requests</span><br><span class=\"hljs-comment\"># custom404Page = &quot;/path/to/404.html&quot;</span><br><br><span class=\"hljs-comment\"># specify udp packet size, unit is byte. If not set, the default value is 1500.</span><br><span class=\"hljs-comment\"># This parameter should be same between client and server.</span><br><span class=\"hljs-comment\"># It affects the udp and sudp proxy.</span><br><span class=\"hljs-attr\">udpPacketSize</span> = <span class=\"hljs-number\">1500</span><br><br><span class=\"hljs-comment\"># Retention time for NAT hole punching strategy data.</span><br><span class=\"hljs-attr\">natholeAnalysisDataReserveHours</span> = <span class=\"hljs-number\">168</span><br><br><span class=\"hljs-comment\"># ssh tunnel gateway</span><br><span class=\"hljs-comment\"># If you want to enable this feature, the bindPort parameter is required, while others are optional.</span><br><span class=\"hljs-comment\"># By default, this feature is disabled. It will be enabled if bindPort is greater than 0.</span><br><span class=\"hljs-comment\"># sshTunnelGateway.bindPort = 2200</span><br><span class=\"hljs-comment\"># sshTunnelGateway.privateKeyFile = &quot;/home/frp-user/.ssh/id_rsa&quot;</span><br><span class=\"hljs-comment\"># sshTunnelGateway.autoGenPrivateKeyPath = &quot;&quot;</span><br><span class=\"hljs-comment\"># sshTunnelGateway.authorizedKeysFile = &quot;/home/frp-user/.ssh/authorized_keys&quot;</span><br><br><span class=\"hljs-section\">[[httpPlugins]]</span><br><span class=\"hljs-attr\">name</span> = <span class=\"hljs-string\">&quot;user-manager&quot;</span><br><span class=\"hljs-attr\">addr</span> = <span class=\"hljs-string\">&quot;127.0.0.1:9000&quot;</span><br><span class=\"hljs-attr\">path</span> = <span class=\"hljs-string\">&quot;/handler&quot;</span><br><span class=\"hljs-attr\">ops</span> = [<span class=\"hljs-string\">&quot;Login&quot;</span>]<br><br><span class=\"hljs-section\">[[httpPlugins]]</span><br><span class=\"hljs-attr\">name</span> = <span class=\"hljs-string\">&quot;port-manager&quot;</span><br><span class=\"hljs-attr\">addr</span> = <span class=\"hljs-string\">&quot;127.0.0.1:9001&quot;</span><br><span class=\"hljs-attr\">path</span> = <span class=\"hljs-string\">&quot;/handler&quot;</span><br><span class=\"hljs-attr\">ops</span> = [<span class=\"hljs-string\">&quot;NewProxy&quot;</span>]<br></code></pre></td></tr></table></figure>\n\n\n<h2 id=\"一个当前使用的配置参考\"><a href=\"#一个当前使用的配置参考\" class=\"headerlink\" title=\"一个当前使用的配置参考\"></a>一个当前使用的配置参考</h2><p>Frps</p>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs ini\"><span class=\"hljs-comment\"># Server Addr</span><br><span class=\"hljs-attr\">bindAddr</span> = <span class=\"hljs-string\">&quot;x.x.x.x&quot;</span><br><span class=\"hljs-attr\">bindPort</span> = <span class=\"hljs-number\">32700</span><br><br><span class=\"hljs-attr\">vhostHTTPPort</span> = <span class=\"hljs-number\">32080</span><br><span class=\"hljs-attr\">vhostHTTPSPort</span> = <span class=\"hljs-number\">32443</span><br><br><span class=\"hljs-comment\"># Web Server</span><br><span class=\"hljs-comment\"># 监控网页</span><br><span class=\"hljs-attr\">webServer.addr</span> = <span class=\"hljs-string\">&quot;x.x.x.x&quot;</span><br><span class=\"hljs-attr\">webServer.port</span> = <span class=\"hljs-number\">32777</span><br><span class=\"hljs-attr\">webServer.user</span> = <span class=\"hljs-string\">&quot;user&quot;</span><br><span class=\"hljs-attr\">webServer.password</span> = <span class=\"hljs-string\">&quot;password&quot;</span><br><br><span class=\"hljs-comment\"># auth</span><br><span class=\"hljs-comment\"># 鉴权</span><br><span class=\"hljs-attr\">auth.method</span> = <span class=\"hljs-string\">&quot;token&quot;</span><br><span class=\"hljs-attr\">auth.additionalScopes</span> = [<span class=\"hljs-string\">&quot;NewWorkConns&quot;</span>]<br><span class=\"hljs-attr\">auth.token</span> = <span class=\"hljs-string\">&quot;password&quot;</span><br><br><span class=\"hljs-comment\"># allow port</span><br><span class=\"hljs-comment\"># 配置允许使用的端口范围</span><br><span class=\"hljs-attr\">allowPorts</span> = [<br>  &#123; start = <span class=\"hljs-number\">32005</span>, end = <span class=\"hljs-number\">32032</span> &#125;,<br>  &#123; single = <span class=\"hljs-number\">32064</span> &#125;<br>]<br><br><span class=\"hljs-comment\"># subdomain</span><br><span class=\"hljs-comment\"># 可以通过特定的子域名访问</span><br><span class=\"hljs-attr\">subdomainHost</span> = <span class=\"hljs-string\">&quot;x.xxx.top&quot;</span><br></code></pre></td></tr></table></figure>\n\n<p>Frpc</p>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs ini\"><span class=\"hljs-comment\"># Server Addr</span><br><span class=\"hljs-attr\">serverAddr</span> = <span class=\"hljs-string\">&quot;x.x.x.x&quot;</span><br><span class=\"hljs-attr\">serverPort</span> = <span class=\"hljs-number\">32700</span><br><span class=\"hljs-comment\"># 用户名配置，避免proxies.name的重名</span><br><span class=\"hljs-attr\">user</span> = <span class=\"hljs-string\">&quot;pandora&quot;</span><br><span class=\"hljs-comment\"># 鉴权</span><br><span class=\"hljs-attr\">auth.method</span> = <span class=\"hljs-string\">&quot;token&quot;</span><br><span class=\"hljs-attr\">auth.token</span> = <span class=\"hljs-string\">&quot;password&quot;</span><br><br><span class=\"hljs-comment\"># tcp 代理</span><br><span class=\"hljs-section\">[[proxies]]</span><br><span class=\"hljs-attr\">name</span> = <span class=\"hljs-string\">&quot;name&quot;</span><br><span class=\"hljs-attr\">type</span> = <span class=\"hljs-string\">&quot;tcp&quot;</span><br><span class=\"hljs-attr\">localIP</span> = <span class=\"hljs-string\">&quot;127.0.0.1&quot;</span><br><span class=\"hljs-attr\">localPort</span> = <span class=\"hljs-number\">5000</span><br><span class=\"hljs-attr\">remotePort</span> = <span class=\"hljs-number\">32005</span><br><span class=\"hljs-comment\"># 加密</span><br><span class=\"hljs-attr\">transport.useEncryption</span> = <span class=\"hljs-literal\">true</span><br><span class=\"hljs-attr\">transport.useCompression</span> = <span class=\"hljs-literal\">true</span><br><span class=\"hljs-attr\">healthCheck.type</span> = <span class=\"hljs-string\">&quot;tcp&quot;</span><br><br><span class=\"hljs-comment\"># https 代理</span><br><span class=\"hljs-section\">[[proxies]]</span><br><span class=\"hljs-attr\">name</span> = <span class=\"hljs-string\">&quot;nas_https&quot;</span><br><span class=\"hljs-attr\">type</span> = <span class=\"hljs-string\">&quot;https&quot;</span><br><span class=\"hljs-attr\">localIP</span> = <span class=\"hljs-string\">&quot;127.0.0.1&quot;</span><br><span class=\"hljs-attr\">localPort</span> = <span class=\"hljs-number\">5001</span><br><span class=\"hljs-attr\">transport.useEncryption</span> = <span class=\"hljs-literal\">true</span><br><span class=\"hljs-attr\">transport.useCompression</span> = <span class=\"hljs-literal\">true</span><br><span class=\"hljs-comment\"># 域名配置</span><br><span class=\"hljs-attr\">customDomains</span> = [<span class=\"hljs-string\">&quot;a.x.xxx.top&quot;</span>]<br><br><span class=\"hljs-comment\"># p2p 打洞</span><br><span class=\"hljs-section\">[[proxies]]</span><br><span class=\"hljs-attr\">name</span> = <span class=\"hljs-string\">&quot;p2p_nas&quot;</span><br><span class=\"hljs-attr\">type</span> = <span class=\"hljs-string\">&quot;xtcp&quot;</span><br><span class=\"hljs-comment\"># 只有共享密钥 (secretKey) 与服务器端一致的用户才能访问该服务</span><br><span class=\"hljs-attr\">secretKey</span> = <span class=\"hljs-string\">&quot;password&quot;</span><br><span class=\"hljs-attr\">localIP</span> = <span class=\"hljs-string\">&quot;127.0.0.1&quot;</span><br><span class=\"hljs-attr\">localPort</span> = <span class=\"hljs-number\">22</span><br></code></pre></td></tr></table></figure>\n\n\n\n\n\n",
            "tags": [
                "frp"
            ]
        }
    ]
}