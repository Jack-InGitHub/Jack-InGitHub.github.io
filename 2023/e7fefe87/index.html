<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.webp"><link rel="icon" href="/img/favicon.webp"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="theme-color" content="#2f4154"><meta name="author" content="Oikiou"><meta name="keywords" content=""><meta name="description" content="Letâ€™s Encrypt SSL è¯ä¹¦ç”³è¯·ä¸ºä»€ä¹ˆç”³è¯·ï¼Ÿ HTTPï¼šæœªå®æ–½æ•°æ®åŠ å¯†  æ¯ä¸ªä»¥ HTTP å¼€å¤´çš„ URL é“¾æ¥éƒ½ä½¿ç”¨ä¸€ç§åŸºæœ¬ç±»å‹çš„â€œè¶…æ–‡æœ¬ä¼ è¾“åè®®â€ã€‚ç”± Tim Berners-Lee äº 1990 å¹´ä»£åˆåˆ›å»ºï¼Œå½“æ—¶äº’è”ç½‘ä»å¤„äºèµ·æ­¥é˜¶æ®µï¼Œè¯¥ç½‘ç»œåè®®æ ‡å‡†å…è®¸ Web æµè§ˆå™¨å’ŒæœåŠ¡å™¨é€šè¿‡æ•°æ®äº¤æ¢è¿›è¡Œé€šä¿¡ã€‚   HTTP ä¹Ÿè¢«ç§°ä¸ºâ€œæ— çŠ¶æ€ç³»ç»Ÿâ€ï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥æŒ‰éœ€è¿æ¥ã€‚æ‚¨å•å‡»ä¸€ä¸ªé“¾æ¥ï¼Œè¯·æ±‚"><meta property="og:type" content="article"><meta property="og:title" content="Letâ€™s Encrypt SSL è¯ä¹¦ç”³è¯·"><meta property="og:url" content="https://www.oikiou.top/2023/e7fefe87/index.html"><meta property="og:site_name" content="Oikiou&#39;s Blog"><meta property="og:description" content="Letâ€™s Encrypt SSL è¯ä¹¦ç”³è¯·ä¸ºä»€ä¹ˆç”³è¯·ï¼Ÿ HTTPï¼šæœªå®æ–½æ•°æ®åŠ å¯†  æ¯ä¸ªä»¥ HTTP å¼€å¤´çš„ URL é“¾æ¥éƒ½ä½¿ç”¨ä¸€ç§åŸºæœ¬ç±»å‹çš„â€œè¶…æ–‡æœ¬ä¼ è¾“åè®®â€ã€‚ç”± Tim Berners-Lee äº 1990 å¹´ä»£åˆåˆ›å»ºï¼Œå½“æ—¶äº’è”ç½‘ä»å¤„äºèµ·æ­¥é˜¶æ®µï¼Œè¯¥ç½‘ç»œåè®®æ ‡å‡†å…è®¸ Web æµè§ˆå™¨å’ŒæœåŠ¡å™¨é€šè¿‡æ•°æ®äº¤æ¢è¿›è¡Œé€šä¿¡ã€‚   HTTP ä¹Ÿè¢«ç§°ä¸ºâ€œæ— çŠ¶æ€ç³»ç»Ÿâ€ï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥æŒ‰éœ€è¿æ¥ã€‚æ‚¨å•å‡»ä¸€ä¸ªé“¾æ¥ï¼Œè¯·æ±‚"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2023-01-12T04:08:08.000Z"><meta property="article:modified_time" content="2023-07-06T13:05:44.057Z"><meta property="article:author" content="Oikiou"><meta property="article:tag" content="ssl"><meta property="article:tag" content="https"><meta name="twitter:card" content="summary_large_image"><meta name="referrer" content="no-referrer-when-downgrade"><title>Letâ€™s Encrypt SSL è¯ä¹¦ç”³è¯· - Oikiou&#39;s Blog</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><link rel="stylesheet" href="/css/custom.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var dntVal,CONFIG={hostname:"www.oikiou.top",root:"/",version:"1.9.4",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"bash"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"left",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,follow_dnt:!1,baidu:null,google:"G-TSV6137NWK",gtag:"G-TSV6137NWK",tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/xml/local-search-database.xml"};CONFIG.web_analytics.follow_dnt&&(dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on")))</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><script async>Fluid.ctx.dnt||Fluid.utils.createScript("https://www.google-analytics.com/analytics.js",function(){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-TSV6137NWK","auto"),ga("send","pageview")})</script><script async>Fluid.ctx.dnt||Fluid.utils.createScript("https://www.googletagmanager.com/gtag/js?id=G-TSV6137NWK",function(){function a(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],a("js",new Date),a("config","G-TSV6137NWK")})</script><meta name="generator" content="Hexo 6.3.0"></head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>Oikiou&#39;s Blog</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> <span>é¦–é¡µ</span></a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> <span>å½’æ¡£</span></a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> <span>åˆ†ç±»</span></a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> <span>æ ‡ç­¾</span></a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> <span>å…³äº</span></a></li><li class="nav-item"><a class="nav-link" href="/links/"><i class="iconfont icon-link-fill"></i> <span>å‹é“¾</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(https://bing.img.run/1920x1080.php) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="Letâ€™s Encrypt SSL è¯ä¹¦ç”³è¯·"></span></div><div class="mt-3"><span class="post-meta mr-2"><i class="iconfont icon-author" aria-hidden="true"></i> Oikiou </span><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2023-01-12 12:08" pubdate>2023å¹´1æœˆ12æ—¥ ä¸­åˆ</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 7.9k å­— </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 133 åˆ†é’Ÿ </span><span id="busuanzi_container_page_pv" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="busuanzi_value_page_pv"></span> æ¬¡</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="padding-left:2rem;margin-right:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>ç›®å½•</span></p><div class="toc-body" id="toc-body"></div></div></aside></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 style="display:none">Letâ€™s Encrypt SSL è¯ä¹¦ç”³è¯·</h1><p class="note note-info">æœ¬æ–‡æœ€åæ›´æ–°äºï¼š13 åˆ†é’Ÿå‰</p><div class="markdown-body"><h1 id="Letâ€™s-Encrypt-SSL-è¯ä¹¦ç”³è¯·"><a href="#Letâ€™s-Encrypt-SSL-è¯ä¹¦ç”³è¯·" class="headerlink" title="Letâ€™s Encrypt SSL è¯ä¹¦ç”³è¯·"></a>Letâ€™s Encrypt SSL è¯ä¹¦ç”³è¯·</h1><h1 id="ä¸ºä»€ä¹ˆç”³è¯·ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆç”³è¯·ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆç”³è¯·ï¼Ÿ"></a>ä¸ºä»€ä¹ˆç”³è¯·ï¼Ÿ</h1><blockquote><h2 id="HTTPï¼šæœªå®æ–½æ•°æ®åŠ å¯†"><a href="#HTTPï¼šæœªå®æ–½æ•°æ®åŠ å¯†" class="headerlink" title="HTTPï¼šæœªå®æ–½æ•°æ®åŠ å¯†"></a>HTTPï¼šæœªå®æ–½æ•°æ®åŠ å¯†</h2><p>æ¯ä¸ªä»¥ HTTP å¼€å¤´çš„ URL é“¾æ¥éƒ½ä½¿ç”¨ä¸€ç§åŸºæœ¬ç±»å‹çš„â€œè¶…æ–‡æœ¬ä¼ è¾“åè®®â€ã€‚ç”± Tim Berners-Lee äº 1990 å¹´ä»£åˆåˆ›å»ºï¼Œå½“æ—¶äº’è”ç½‘ä»å¤„äºèµ·æ­¥é˜¶æ®µï¼Œè¯¥ç½‘ç»œåè®®æ ‡å‡†å…è®¸ Web æµè§ˆå™¨å’ŒæœåŠ¡å™¨é€šè¿‡æ•°æ®äº¤æ¢è¿›è¡Œé€šä¿¡ã€‚</p><p>HTTP ä¹Ÿè¢«ç§°ä¸ºâ€œæ— çŠ¶æ€ç³»ç»Ÿâ€ï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥æŒ‰éœ€è¿æ¥ã€‚æ‚¨å•å‡»ä¸€ä¸ªé“¾æ¥ï¼Œè¯·æ±‚è¿æ¥ï¼Œæ‚¨çš„ Web æµè§ˆå™¨å°†æ­¤è¯·æ±‚å‘é€åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨é€šè¿‡æ‰“å¼€é¡µé¢è¿›è¡Œå“åº”ã€‚è¿æ¥è¶Šå¿«ï¼Œæ•°æ®å‘ˆç°ç»™æ‚¨çš„é€Ÿåº¦å°±è¶Šå¿«ã€‚</p><p>ä½œä¸ºä¸€ç§â€œåº”ç”¨å±‚åè®®â€ï¼ŒHTTP ä»ç„¶ä¸“æ³¨äºå‘ˆç°ä¿¡æ¯ï¼Œä½†ä¸å¤ªå…³å¿ƒè¿™äº›ä¿¡æ¯ä»ä¸€ä¸ªåœ°æ–¹ä¼ æ’­åˆ°å¦ä¸€ä¸ªåœ°æ–¹çš„æ–¹å¼ã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¿™æ„å‘³ç€ HTTP å¯èƒ½ä¼š<a target="_blank" rel="noopener" href="https://www.globalsign.com/en/blog/what-is-a-man-in-the-middle-attack">è¢«æ‹¦æˆªå¹¶å¯èƒ½è¢«æ›´æ”¹</a>ï¼Œä»è€Œä½¿ä¿¡æ¯å’Œä¿¡æ¯æ¥æ”¶è€…ï¼ˆå³æ‚¨ï¼‰éƒ½å®¹æ˜“å—åˆ°æ”»å‡»ã€‚</p><h2 id="HTTPSï¼šåŠ å¯†è¿æ¥"><a href="#HTTPSï¼šåŠ å¯†è¿æ¥" class="headerlink" title="HTTPSï¼šåŠ å¯†è¿æ¥"></a>HTTPSï¼šåŠ å¯†è¿æ¥</h2><p>HTTPS ä¸æ˜¯ HTTP çš„å¯¹ç«‹é¢ï¼Œè€Œæ˜¯å®ƒçš„è¡¨å¼Ÿã€‚ä¸¤è€…æœ¬è´¨ä¸Šæ˜¯ç›¸åŒçš„ï¼Œå› ä¸ºå®ƒä»¬éƒ½æŒ‡çš„æ˜¯ç›¸åŒçš„â€œè¶…æ–‡æœ¬ä¼ è¾“åè®®â€ï¼Œè¯¥åè®®ä½¿è¯·æ±‚çš„ Web æ•°æ®èƒ½å¤Ÿæ˜¾ç¤ºåœ¨æ‚¨çš„å±å¹•ä¸Šã€‚ä½†æ˜¯ï¼ŒHTTPS ä»ç„¶ç•¥æœ‰ä¸åŒï¼Œæ›´å…ˆè¿›ï¼Œä¹Ÿæ›´å®‰å…¨ã€‚</p><p>ç®€å•çš„è¯´ï¼ŒHTTPSåè®®æ˜¯HTTPçš„æ‰©å±•ã€‚ç¼©å†™ä¸­çš„â€œSâ€æ¥è‡ª Secure ä¸€è¯ï¼Œå®ƒç”±ä¼ è¾“å±‚å®‰å…¨æ€§ (TLS) [<a target="_blank" rel="noopener" href="https://www.globalsign.com/en/ssl-information-center/what-is-ssl/">å®‰å…¨å¥—æ¥å­—å±‚ (SSL)</a>çš„åç»§è€…] æä¾›æ”¯æŒï¼Œè¿™æ˜¯ä¸€ç§åœ¨ Web æœåŠ¡å™¨å’ŒæœåŠ¡å™¨ä¹‹é—´å»ºç«‹åŠ å¯†è¿æ¥çš„æ ‡å‡†å®‰å…¨æŠ€æœ¯ã€‚æµè§ˆå™¨ã€‚</p><p>å¦‚æœæ²¡æœ‰ HTTPSï¼Œæ‚¨è¾“å…¥ç½‘ç«™çš„ä»»ä½•æ•°æ®ï¼ˆä¾‹å¦‚æ‚¨çš„ç”¨æˆ·å&#x2F;å¯†ç ã€ä¿¡ç”¨å¡æˆ–é“¶è¡Œè¯¦ç»†ä¿¡æ¯ã€ä»»ä½•å…¶ä»–è¡¨å•æäº¤æ•°æ®ç­‰ï¼‰éƒ½å°†ä»¥æ˜æ–‡å½¢å¼å‘é€ï¼Œå› æ­¤å®¹æ˜“è¢«æ‹¦æˆªæˆ–çªƒå¬ã€‚å› æ­¤ï¼Œåœ¨è¾“å…¥ä»»ä½•ä¿¡æ¯ä¹‹å‰ï¼Œæ‚¨åº”è¯¥å§‹ç»ˆæ£€æŸ¥ç«™ç‚¹æ˜¯å¦ä½¿ç”¨ HTTPSã€‚</p><p>é™¤äº†åŠ å¯†æœåŠ¡å™¨å’Œæ‚¨çš„æµè§ˆå™¨ä¹‹é—´ä¼ è¾“çš„æ•°æ®å¤–ï¼ŒTLS è¿˜éªŒè¯æ‚¨æ­£åœ¨è¿æ¥çš„æœåŠ¡å™¨å¹¶ä¿æŠ¤ä¼ è¾“çš„æ•°æ®ä¸è¢«ç¯¡æ”¹ã€‚</p><p>è¿™æœ‰åŠ©äºæˆ‘è¿™æ ·æ€è€ƒâ€”â€”HTTPS ä¸­çš„ HTTP ç›¸å½“äºä¸€ä¸ªç›®çš„åœ°ï¼Œè€Œ SSL ç›¸å½“äºä¸€ä¸ªæ—…ç¨‹ã€‚ç¬¬ä¸€ä¸ªè´Ÿè´£å°†æ•°æ®æ˜¾ç¤ºåˆ°å±å¹•ä¸Šï¼Œç¬¬äºŒä¸ªè´Ÿè´£ç®¡ç†æ•°æ®åˆ°è¾¾é‚£é‡Œçš„æ–¹å¼ã€‚é€šè¿‡è”åˆåŠ›é‡ï¼Œä»–ä»¬ä»¥å®‰å…¨çš„æ–¹å¼ç§»åŠ¨æ•°æ®ã€‚</p><p><a target="_blank" rel="noopener" href="https://www.globalsign.com/en/blog/the-difference-between-http-and-https">Whatâ€™s the difference between HTTP and HTTPS?</a></p></blockquote><p>HTTPS æœ‰åŠ©äºç¡®ä¿ç½‘ç»œå®‰å…¨ã€‚æ¯«æ— ç–‘é—®ï¼Œå®ƒæ˜¯æ¯” HTTP æ›´å¥½çš„ç½‘ç»œåè®®è§£å†³æ–¹æ¡ˆã€‚</p><p>å°†ç½‘ç«™å¼€å¯HTTPSçš„æœåŠ¡æ˜¯éœ€è¦SSLçš„è¯ä¹¦çš„ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¦‚ä½•åœ¨Letâ€™s Encryptä¸Šç”³è¯·å…è´¹çš„SSLè¯ä¹¦ã€‚</p><blockquote><p>Letâ€™s Encrypt æ˜¯å…è´¹ã€å¼€æ”¾å’Œè‡ªåŠ¨åŒ–çš„è¯ä¹¦é¢å‘æœºæ„ã€‚ç”±éç›ˆåˆ©ç»„ç»‡<a target="_blank" rel="noopener" href="https://www.abetterinternet.org/">äº’è”ç½‘å®‰å…¨ç ”ç©¶å°ç»„ï¼ˆISRGï¼‰</a>è¿è¥ã€‚</p></blockquote><h1 id="ç”³è¯·çš„å‰ææ¡ä»¶"><a href="#ç”³è¯·çš„å‰ææ¡ä»¶" class="headerlink" title="ç”³è¯·çš„å‰ææ¡ä»¶"></a>ç”³è¯·çš„å‰ææ¡ä»¶</h1><p>æˆ‘ä»¬ç”³è¯·SSLè¯ä¹¦çš„å‰ææ¡ä»¶æœ‰ä¸‹é¢è¿™å‡ ä¸ª</p><ol><li>æ‹¥æœ‰åŸŸåï¼Œèƒ½å¤Ÿè‡ªä¸»é…ç½®DNSã€‚æˆ–è€…æä¾›WebæœåŠ¡å™¨åšéªŒè¯ï¼Œåœ¨ç½‘ç«™ç›®å½•ä¸‹æ”¾ä¸€ä¸ªæ–‡ä»¶ã€‚</li><li>è·å–è¯ä¹¦çš„ç¯å¢ƒè¦èƒ½è®¿é—®DNSæœåŠ¡å™¨ï¼Œå› ä¸ºä¼šéœ€è¦åšDNSè§£ææ ¡éªŒã€‚</li><li>éœ€è¦æœ‰è¿œç¨‹ä¸»æœºçš„æƒé™ï¼Œä¼šéœ€è¦æ›´æ–°å’Œå®‰è£…ç»„ä»¶ã€‚</li></ol><h1 id="ç”³è¯·æ­¥éª¤"><a href="#ç”³è¯·æ­¥éª¤" class="headerlink" title="ç”³è¯·æ­¥éª¤"></a>ç”³è¯·æ­¥éª¤</h1><p>Letâ€™s Encrypt çš„è¯ä¹¦ç”³è¯·é™¤å»æ‰‹åŠ¨ç”³è¯·å¸¸è§çš„ä¸»è¦æœ‰ä¸‹é¢è¿™å‡ ç§</p><ul><li><code>acme.sh</code>çš„æ–¹å¼<em>ï¼ˆæˆ‘å½“æ—¶é€‰å–äº†è¿™ä¸ªæ–¹å¼ï¼‰</em></li><li>docker é•œåƒè·å–</li><li><code>certbot</code>æ–¹å¼è·å–è¯ä¹¦<em>ï¼ˆå®˜ç½‘å»ºè®®ä½¿ç”¨è¿™ç§æ–¹å¼è·å–è¯ä¹¦ï¼Œå¯ä»¥åœ¨ä¸ä¸‹çº¿çš„çŠ¶æ€ä¸‹è‡ªåŠ¨æ‰§è¡Œè¯ä¹¦é¢å‘å’Œå®‰è£…ï¼‰</em></li></ul><h2 id="acme-shè„šæœ¬"><a href="#acme-shè„šæœ¬" class="headerlink" title="acme.shè„šæœ¬"></a><code>acme.sh</code>è„šæœ¬</h2><p><a target="_blank" rel="noopener" href="https://github.com/acmesh-official/acme.sh">Githubé“¾æ¥ï¼šAn ACME Shell script: acme.sh</a></p><p>Githubçš„READMEå…¶å®ä»‹ç»çš„å…¶å®å¾ˆå…¨é¢ï¼Œè¿™é‡Œcopyä¸€ä¸‹ã€‚</p><blockquote><p><strong>acme.sh</strong> å®ç°äº† <code>acme</code> åè®®, å¯ä»¥ä» letsencrypt ç”Ÿæˆå…è´¹çš„è¯ä¹¦.</p><p>ä¸»è¦æ­¥éª¤:</p><ol><li>å®‰è£… <strong>acme.sh</strong></li><li>ç”Ÿæˆè¯ä¹¦</li><li>copy è¯ä¹¦åˆ° nginx&#x2F;apache æˆ–è€…å…¶ä»–æœåŠ¡</li><li>æ›´æ–°è¯ä¹¦</li><li>æ›´æ–° <strong>acme.sh</strong></li><li>å‡ºé”™æ€ä¹ˆåŠ, å¦‚ä½•è°ƒè¯•</li></ol><p>ä¸‹é¢è¯¦ç»†ä»‹ç».</p><h1 id="1-å®‰è£…-acme-sh"><a href="#1-å®‰è£…-acme-sh" class="headerlink" title="1. å®‰è£… acme.sh"></a>1. å®‰è£… <strong>acme.sh</strong></h1><p>å®‰è£…å¾ˆç®€å•, ä¸€ä¸ªå‘½ä»¤:</p><blockquote><p>è¿™é‡Œè¾“å…¥ä½ çš„é‚®ç®±ï¼Œè¿™ä¸ªé‚®ç®±æœ‰ä»€ä¹ˆç”¨å€’æ˜¯ä¸å¤ªæ¸…æ¥š</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">curl https://get.acme.sh | sh -s email=my@example.com<br></code></pre></td></tr></table></figure><p>æ™®é€šç”¨æˆ·å’Œ root ç”¨æˆ·éƒ½å¯ä»¥å®‰è£…ä½¿ç”¨. å®‰è£…è¿‡ç¨‹è¿›è¡Œäº†ä»¥ä¸‹å‡ æ­¥:</p><ol><li>æŠŠ acme.sh å®‰è£…åˆ°ä½ çš„ <strong>home</strong> ç›®å½•ä¸‹:</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">~/.acme.sh/<br></code></pre></td></tr></table></figure><p>å¹¶åˆ›å»º ä¸€ä¸ª shell çš„ alias, ä¾‹å¦‚ .bashrcï¼Œæ–¹ä¾¿ä½ çš„ä½¿ç”¨: <code>alias acme.sh=~/.acme.sh/acme.sh</code></p><ol start="2"><li>è‡ªåŠ¨ä¸ºä½ åˆ›å»º cronjob, æ¯å¤© 0:00 ç‚¹è‡ªåŠ¨æ£€æµ‹æ‰€æœ‰çš„è¯ä¹¦, å¦‚æœå¿«è¿‡æœŸäº†, éœ€è¦æ›´æ–°, åˆ™ä¼šè‡ªåŠ¨æ›´æ–°è¯ä¹¦.</li></ol><p>æ›´é«˜çº§çš„å®‰è£…é€‰é¡¹è¯·å‚è€ƒ: <a target="_blank" rel="noopener" href="https://github.com/Neilpang/acme.sh/wiki/How-to-install">https://github.com/Neilpang/acme.sh/wiki/How-to-install</a></p><p><strong>å®‰è£…è¿‡ç¨‹ä¸ä¼šæ±¡æŸ“å·²æœ‰çš„ç³»ç»Ÿä»»ä½•åŠŸèƒ½å’Œæ–‡ä»¶</strong>, æ‰€æœ‰çš„ä¿®æ”¹éƒ½é™åˆ¶åœ¨å®‰è£…ç›®å½•ä¸­: <code>~/.acme.sh/</code></p><h1 id="2-ç”Ÿæˆè¯ä¹¦"><a href="#2-ç”Ÿæˆè¯ä¹¦" class="headerlink" title="2. ç”Ÿæˆè¯ä¹¦"></a>2. ç”Ÿæˆè¯ä¹¦</h1><p><strong>acme.sh</strong> å®ç°äº† <strong>acme</strong> åè®®æ”¯æŒçš„æ‰€æœ‰éªŒè¯åè®®. ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼éªŒè¯: http å’Œ dns éªŒè¯.</p><h3 id="1-http-æ–¹å¼éœ€è¦åœ¨ä½ çš„ç½‘ç«™æ ¹ç›®å½•ä¸‹æ”¾ç½®ä¸€ä¸ªæ–‡ä»¶-æ¥éªŒè¯ä½ çš„åŸŸåæ‰€æœ‰æƒ-å®ŒæˆéªŒè¯-ç„¶åå°±å¯ä»¥ç”Ÿæˆè¯ä¹¦äº†"><a href="#1-http-æ–¹å¼éœ€è¦åœ¨ä½ çš„ç½‘ç«™æ ¹ç›®å½•ä¸‹æ”¾ç½®ä¸€ä¸ªæ–‡ä»¶-æ¥éªŒè¯ä½ çš„åŸŸåæ‰€æœ‰æƒ-å®ŒæˆéªŒè¯-ç„¶åå°±å¯ä»¥ç”Ÿæˆè¯ä¹¦äº†" class="headerlink" title="1. http æ–¹å¼éœ€è¦åœ¨ä½ çš„ç½‘ç«™æ ¹ç›®å½•ä¸‹æ”¾ç½®ä¸€ä¸ªæ–‡ä»¶, æ¥éªŒè¯ä½ çš„åŸŸåæ‰€æœ‰æƒ,å®ŒæˆéªŒè¯. ç„¶åå°±å¯ä»¥ç”Ÿæˆè¯ä¹¦äº†."></a>1. http æ–¹å¼éœ€è¦åœ¨ä½ çš„ç½‘ç«™æ ¹ç›®å½•ä¸‹æ”¾ç½®ä¸€ä¸ªæ–‡ä»¶, æ¥éªŒè¯ä½ çš„åŸŸåæ‰€æœ‰æƒ,å®ŒæˆéªŒè¯. ç„¶åå°±å¯ä»¥ç”Ÿæˆè¯ä¹¦äº†.</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">acme.sh --issue -d mydomain.com -d www.mydomain.com --webroot /home/wwwroot/mydomain.com/<br></code></pre></td></tr></table></figure><p>åªéœ€è¦æŒ‡å®šåŸŸå, å¹¶æŒ‡å®šåŸŸåæ‰€åœ¨çš„ç½‘ç«™æ ¹ç›®å½•. <strong>acme.sh</strong> ä¼šå…¨è‡ªåŠ¨çš„ç”ŸæˆéªŒè¯æ–‡ä»¶, å¹¶æ”¾åˆ°ç½‘ç«™çš„æ ¹ç›®å½•, ç„¶åè‡ªåŠ¨å®ŒæˆéªŒè¯. æœ€åä¼šèªæ˜çš„åˆ é™¤éªŒè¯æ–‡ä»¶. æ•´ä¸ªè¿‡ç¨‹æ²¡æœ‰ä»»ä½•å‰¯ä½œç”¨.</p><p>å¦‚æœä½ ç”¨çš„ <strong>apache</strong>æœåŠ¡å™¨, <strong>acme.sh</strong> è¿˜å¯ä»¥æ™ºèƒ½çš„ä» <strong>apache</strong>çš„é…ç½®ä¸­è‡ªåŠ¨å®ŒæˆéªŒè¯, ä½ ä¸éœ€è¦æŒ‡å®šç½‘ç«™æ ¹ç›®å½•:</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">acme<span class="hljs-selector-class">.sh</span> <span class="hljs-attr">--issue</span> -d mydomain<span class="hljs-selector-class">.com</span> <span class="hljs-attr">--apache</span><br></code></pre></td></tr></table></figure><p>å¦‚æœä½ ç”¨çš„ <strong>nginx</strong>æœåŠ¡å™¨, æˆ–è€…åä»£, <strong>acme.sh</strong> è¿˜å¯ä»¥æ™ºèƒ½çš„ä» <strong>nginx</strong>çš„é…ç½®ä¸­è‡ªåŠ¨å®ŒæˆéªŒè¯, ä½ ä¸éœ€è¦æŒ‡å®šç½‘ç«™æ ¹ç›®å½•:</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">acme<span class="hljs-selector-class">.sh</span> <span class="hljs-attr">--issue</span> -d mydomain<span class="hljs-selector-class">.com</span> <span class="hljs-attr">--nginx</span><br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„, æ— è®ºæ˜¯ apache è¿˜æ˜¯ nginx æ¨¡å¼, acme.shåœ¨å®ŒæˆéªŒè¯ä¹‹å, ä¼šæ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€, éƒ½ä¸ä¼šç§è‡ªæ›´æ”¹ä½ æœ¬èº«çš„é…ç½®. å¥½å¤„æ˜¯ä½ ä¸ç”¨æ‹…å¿ƒé…ç½®è¢«æå, ä¹Ÿæœ‰ä¸€ä¸ªç¼ºç‚¹, ä½ éœ€è¦è‡ªå·±é…ç½® ssl çš„é…ç½®, å¦åˆ™åªèƒ½æˆåŠŸç”Ÿæˆè¯ä¹¦, ä½ çš„ç½‘ç«™è¿˜æ˜¯æ— æ³•è®¿é—®https. ä½†æ˜¯ä¸ºäº†å®‰å…¨, ä½ è¿˜æ˜¯è‡ªå·±æ‰‹åŠ¨æ”¹é…ç½®å§.</strong></p><p>å¦‚æœä½ è¿˜æ²¡æœ‰è¿è¡Œä»»ä½• web æœåŠ¡, <strong>80</strong> ç«¯å£æ˜¯ç©ºé—²çš„, é‚£ä¹ˆ <strong>acme.sh</strong> è¿˜èƒ½å‡è£…è‡ªå·±æ˜¯ä¸€ä¸ªwebserver, ä¸´æ—¶å¬åœ¨<strong>80</strong> ç«¯å£, å®ŒæˆéªŒè¯:</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">acme<span class="hljs-selector-class">.sh</span> <span class="hljs-attr">--issue</span> -d mydomain<span class="hljs-selector-class">.com</span> <span class="hljs-attr">--standalone</span><br></code></pre></td></tr></table></figure><p>æ›´é«˜çº§çš„ç”¨æ³•è¯·å‚è€ƒ: <a target="_blank" rel="noopener" href="https://github.com/Neilpang/acme.sh/wiki/How-to-issue-a-cert">https://github.com/Neilpang/acme.sh/wiki/How-to-issue-a-cert</a></p><h3 id="2-æ‰‹åŠ¨-dns-æ–¹å¼-æ‰‹åŠ¨åœ¨åŸŸåä¸Šæ·»åŠ ä¸€æ¡-txt-è§£æè®°å½•-éªŒè¯åŸŸåæ‰€æœ‰æƒ"><a href="#2-æ‰‹åŠ¨-dns-æ–¹å¼-æ‰‹åŠ¨åœ¨åŸŸåä¸Šæ·»åŠ ä¸€æ¡-txt-è§£æè®°å½•-éªŒè¯åŸŸåæ‰€æœ‰æƒ" class="headerlink" title="2. æ‰‹åŠ¨ dns æ–¹å¼, æ‰‹åŠ¨åœ¨åŸŸåä¸Šæ·»åŠ ä¸€æ¡ txt è§£æè®°å½•, éªŒè¯åŸŸåæ‰€æœ‰æƒ."></a>2. æ‰‹åŠ¨ dns æ–¹å¼, æ‰‹åŠ¨åœ¨åŸŸåä¸Šæ·»åŠ ä¸€æ¡ txt è§£æè®°å½•, éªŒè¯åŸŸåæ‰€æœ‰æƒ.</h3><p>è¿™ç§æ–¹å¼çš„å¥½å¤„æ˜¯, ä½ ä¸éœ€è¦ä»»ä½•æœåŠ¡å™¨, ä¸éœ€è¦ä»»ä½•å…¬ç½‘ ip, åªéœ€è¦ dns çš„è§£æè®°å½•å³å¯å®ŒæˆéªŒè¯. åå¤„æ˜¯ï¼Œå¦‚æœä¸åŒæ—¶é…ç½® Automatic DNS APIï¼Œä½¿ç”¨è¿™ç§æ–¹å¼ acme.sh å°†æ— æ³•è‡ªåŠ¨æ›´æ–°è¯ä¹¦ï¼Œæ¯æ¬¡éƒ½éœ€è¦æ‰‹åŠ¨å†æ¬¡é‡æ–°è§£æéªŒè¯åŸŸåæ‰€æœ‰æƒã€‚</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">acme<span class="hljs-selector-class">.sh</span> <span class="hljs-attr">--issue</span> <span class="hljs-attr">--dns</span> -d mydomain<span class="hljs-selector-class">.com</span> \<br> <span class="hljs-attr">--yes-I-know-dns-manual-mode-enough-go-ahead-please</span><br></code></pre></td></tr></table></figure><p>ç„¶å, <strong>acme.sh</strong> ä¼šç”Ÿæˆç›¸åº”çš„è§£æè®°å½•æ˜¾ç¤ºå‡ºæ¥, ä½ åªéœ€è¦åœ¨ä½ çš„åŸŸåç®¡ç†é¢æ¿ä¸­æ·»åŠ è¿™æ¡ txt è®°å½•å³å¯.</p><p>ç­‰å¾…è§£æå®Œæˆä¹‹å, é‡æ–°ç”Ÿæˆè¯ä¹¦:</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">acme<span class="hljs-selector-class">.sh</span> <span class="hljs-attr">--renew</span> -d mydomain<span class="hljs-selector-class">.com</span> \<br>  <span class="hljs-attr">--yes-I-know-dns-manual-mode-enough-go-ahead-please</span><br></code></pre></td></tr></table></figure><p>æ³¨æ„ç¬¬äºŒæ¬¡è¿™é‡Œç”¨çš„æ˜¯ <code>--renew</code></p><p>dns æ–¹å¼çš„çœŸæ­£å¼ºå¤§ä¹‹å¤„åœ¨äºå¯ä»¥ä½¿ç”¨åŸŸåè§£æå•†æä¾›çš„ api è‡ªåŠ¨æ·»åŠ  txt è®°å½•å®ŒæˆéªŒè¯.</p><p><strong>acme.sh</strong> ç›®å‰æ”¯æŒ cloudflare, dnspod, cloudxns, godaddy ä»¥åŠ ovh ç­‰æ•°åç§è§£æå•†çš„è‡ªåŠ¨é›†æˆ.</p><p>ä»¥ dnspod ä¸ºä¾‹, ä½ éœ€è¦å…ˆç™»å½•åˆ° dnspod è´¦å·, ç”Ÿæˆä½ çš„ api id å’Œ api key, éƒ½æ˜¯å…è´¹çš„. ç„¶å:</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in">export</span> <span class="hljs-attribute">DP_Id</span>=<span class="hljs-string">&quot;1234&quot;</span><br><br><span class="hljs-built_in">export</span> <span class="hljs-attribute">DP_Key</span>=<span class="hljs-string">&quot;sADDsdasdgdsf&quot;</span><br><br>acme.sh --issue --dns dns_dp -d aa.com -d www.aa.com<br></code></pre></td></tr></table></figure><p>è¯ä¹¦å°±ä¼šè‡ªåŠ¨ç”Ÿæˆäº†. è¿™é‡Œç»™å‡ºçš„ api id å’Œ api key ä¼šè¢«è‡ªåŠ¨è®°å½•ä¸‹æ¥, å°†æ¥ä½ åœ¨ä½¿ç”¨ dnspod api çš„æ—¶å€™, å°±ä¸éœ€è¦å†æ¬¡æŒ‡å®šäº†. ç›´æ¥ç”Ÿæˆå°±å¥½äº†:</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">acme<span class="hljs-selector-class">.sh</span> <span class="hljs-attr">--issue</span> -d mydomain2<span class="hljs-selector-class">.com</span> <span class="hljs-attr">--dns</span>  dns_dp<br></code></pre></td></tr></table></figure><p>æ›´è¯¦ç»†çš„ api ç”¨æ³•: <a target="_blank" rel="noopener" href="https://github.com/Neilpang/acme.sh/blob/master/dnsapi/README.md">https://github.com/Neilpang/acme.sh/blob/master/dnsapi/README.md</a></p><h1 id="3-copy-x2F-å®‰è£…-è¯ä¹¦"><a href="#3-copy-x2F-å®‰è£…-è¯ä¹¦" class="headerlink" title="3. copy&#x2F;å®‰è£… è¯ä¹¦"></a>3. copy&#x2F;å®‰è£… è¯ä¹¦</h1><p>å‰é¢è¯ä¹¦ç”Ÿæˆä»¥å, æ¥ä¸‹æ¥éœ€è¦æŠŠè¯ä¹¦ copy åˆ°çœŸæ­£éœ€è¦ç”¨å®ƒçš„åœ°æ–¹.</p><p>æ³¨æ„, é»˜è®¤ç”Ÿæˆçš„è¯ä¹¦éƒ½æ”¾åœ¨å®‰è£…ç›®å½•ä¸‹: <code>~/.acme.sh/</code>, <strong>è¯·ä¸è¦ç›´æ¥ä½¿ç”¨æ­¤ç›®å½•ä¸‹çš„æ–‡ä»¶,</strong> ä¾‹å¦‚: ä¸è¦ç›´æ¥è®© nginx&#x2F;apache çš„é…ç½®æ–‡ä»¶ä½¿ç”¨è¿™ä¸‹é¢çš„æ–‡ä»¶. è¿™é‡Œé¢çš„æ–‡ä»¶éƒ½æ˜¯å†…éƒ¨ä½¿ç”¨, è€Œä¸”ç›®å½•ç»“æ„å¯èƒ½ä¼šå˜åŒ–.</p><p>æ­£ç¡®çš„ä½¿ç”¨æ–¹æ³•æ˜¯ä½¿ç”¨ <code>--install-cert</code> å‘½ä»¤,å¹¶æŒ‡å®šç›®æ ‡ä½ç½®, ç„¶åè¯ä¹¦æ–‡ä»¶ä¼šè¢«copyåˆ°ç›¸åº”çš„ä½ç½®, ä¾‹å¦‚:</p><h2 id="Apache-example"><a href="#Apache-example" class="headerlink" title="Apache example:"></a>Apache example:</h2><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs gradle">acme.sh --install-cert -d example.com \<br>--cert-<span class="hljs-keyword">file</span>      <span class="hljs-regexp">/path/</span>to<span class="hljs-regexp">/certfile/i</span>n<span class="hljs-regexp">/apache/</span>cert.pem  \<br>--key-<span class="hljs-keyword">file</span>       <span class="hljs-regexp">/path/</span>to<span class="hljs-regexp">/keyfile/i</span>n<span class="hljs-regexp">/apache/</span>key.pem  \<br>--fullchain-<span class="hljs-keyword">file</span> <span class="hljs-regexp">/path/</span>to<span class="hljs-regexp">/fullchain/</span>certfile<span class="hljs-regexp">/apache/</span>fullchain.pem \<br>--reloadcmd     <span class="hljs-string">&quot;service apache2 force-reload&quot;</span><br></code></pre></td></tr></table></figure><h2 id="Nginx-example"><a href="#Nginx-example" class="headerlink" title="Nginx example:"></a>Nginx example:</h2><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs gradle">acme.sh --install-cert -d example.com \<br>--key-<span class="hljs-keyword">file</span>       <span class="hljs-regexp">/path/</span>to<span class="hljs-regexp">/keyfile/i</span>n<span class="hljs-regexp">/nginx/</span>key.pem  \<br>--fullchain-<span class="hljs-keyword">file</span> <span class="hljs-regexp">/path/</span>to<span class="hljs-regexp">/fullchain/</span>nginx/cert.pem \<br>--reloadcmd     <span class="hljs-string">&quot;service nginx force-reload&quot;</span><br></code></pre></td></tr></table></figure><p>(ä¸€ä¸ªå°æé†’, è¿™é‡Œç”¨çš„æ˜¯ <code>service nginx force-reload</code>, ä¸æ˜¯ <code>service nginx reload</code>, æ®æµ‹è¯•, <code>reload</code> å¹¶ä¸ä¼šé‡æ–°åŠ è½½è¯ä¹¦, æ‰€ä»¥ç”¨çš„ <code>force-reload</code>)</p><blockquote><p>æˆ‘å½“æ—¶ä½¿ç”¨è¿™ä¸ªå‘½ä»¤çš„æ—¶å€™å‘ç°ç”¨ <code>service nginx force-reload</code> æŠ¥æ²¡æœ‰æƒé™ï¼Œç„¶åæ˜¯å°†å½“å‰ç”¨æˆ·</p></blockquote><p>Nginx çš„é…ç½® <code>ssl_certificate</code> ä½¿ç”¨ <code>/etc/nginx/ssl/fullchain.cer</code> ï¼Œè€Œé <code>/etc/nginx/ssl/&lt;domain&gt;.cer</code> ï¼Œå¦åˆ™ <a target="_blank" rel="noopener" href="https://www.ssllabs.com/ssltest/">SSL Labs</a> çš„æµ‹è¯•ä¼šæŠ¥ <code>Chain issues Incomplete</code> é”™è¯¯ã€‚</p><p><code>--install-cert</code>å‘½ä»¤å¯ä»¥æºå¸¦å¾ˆå¤šå‚æ•°, æ¥æŒ‡å®šç›®æ ‡æ–‡ä»¶. å¹¶ä¸”å¯ä»¥æŒ‡å®š reloadcmd, å½“è¯ä¹¦æ›´æ–°ä»¥å, reloadcmdä¼šè¢«è‡ªåŠ¨è°ƒç”¨,è®©æœåŠ¡å™¨ç”Ÿæ•ˆ.</p><p>è¯¦ç»†å‚æ•°è¯·å‚è€ƒ: <a target="_blank" rel="noopener" href="https://github.com/Neilpang/acme.sh#3-install-the-issued-cert-to-apachenginx-etc">https://github.com/Neilpang/acme.sh#3-install-the-issued-cert-to-apachenginx-etc</a></p><p>å€¼å¾—æ³¨æ„çš„æ˜¯, è¿™é‡ŒæŒ‡å®šçš„æ‰€æœ‰å‚æ•°éƒ½ä¼šè¢«è‡ªåŠ¨è®°å½•ä¸‹æ¥, å¹¶åœ¨å°†æ¥è¯ä¹¦è‡ªåŠ¨æ›´æ–°ä»¥å, è¢«å†æ¬¡è‡ªåŠ¨è°ƒç”¨.</p><h1 id="4-æŸ¥çœ‹å·²å®‰è£…è¯ä¹¦ä¿¡æ¯"><a href="#4-æŸ¥çœ‹å·²å®‰è£…è¯ä¹¦ä¿¡æ¯" class="headerlink" title="4. æŸ¥çœ‹å·²å®‰è£…è¯ä¹¦ä¿¡æ¯"></a>4. æŸ¥çœ‹å·²å®‰è£…è¯ä¹¦ä¿¡æ¯</h1><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs routeros">acme.sh --<span class="hljs-built_in">info</span> -d example.com<br><span class="hljs-comment"># ä¼šè¾“å‡ºå¦‚ä¸‹å†…å®¹ï¼š</span><br><span class="hljs-attribute">DOMAIN_CONF</span>=/root/.acme.sh/example.com/example.com.conf<br><span class="hljs-attribute">Le_Domain</span>=example.com<br><span class="hljs-attribute">Le_Alt</span>=<span class="hljs-literal">no</span><br><span class="hljs-attribute">Le_Webroot</span>=dns_ali<br>Le_PreHook=<br>Le_PostHook=<br>Le_RenewHook=<br><span class="hljs-attribute">Le_API</span>=https://acme-v02.api.letsencrypt.org/directory<br>Le_Keylength=<br><span class="hljs-attribute">Le_OrderFinalize</span>=https://acme-v02.api.letsencrypt.org/acme/finalize/23xxxx150/781xxxx4310<br><span class="hljs-attribute">Le_LinkOrder</span>=https://acme-v02.api.letsencrypt.org/acme/order/233xxx150/781xxxx4310<br><span class="hljs-attribute">Le_LinkCert</span>=https://acme-v02.api.letsencrypt.org/acme/cert/04cbd28xxxxxx349ecaea8d07<br><span class="hljs-attribute">Le_CertCreateTime</span>=1649358725<br><span class="hljs-attribute">Le_CertCreateTimeStr</span>=Thu Apr  7 19:12:05 UTC 2022<br><span class="hljs-attribute">Le_NextRenewTimeStr</span>=Mon Jun  6 19:12:05 UTC 2022<br><span class="hljs-attribute">Le_NextRenewTime</span>=1654456325<br>Le_RealCertPath=<br>Le_RealCACertPath=<br><span class="hljs-attribute">Le_RealKeyPath</span>=/etc/acme/example.com/privkey.pem<br><span class="hljs-attribute">Le_ReloadCmd</span>=service nginx force-reload<br><span class="hljs-attribute">Le_RealFullChainPath</span>=/etc/acme/example.com/chain.pem<br></code></pre></td></tr></table></figure><h1 id="5-æ›´æ–°è¯ä¹¦"><a href="#5-æ›´æ–°è¯ä¹¦" class="headerlink" title="5. æ›´æ–°è¯ä¹¦"></a>5. æ›´æ–°è¯ä¹¦</h1><p>ç›®å‰è¯ä¹¦åœ¨ 60 å¤©ä»¥åä¼šè‡ªåŠ¨æ›´æ–°, ä½ æ— éœ€ä»»ä½•æ“ä½œ. ä»Šåæœ‰å¯èƒ½ä¼šç¼©çŸ­è¿™ä¸ªæ—¶é—´, ä¸è¿‡éƒ½æ˜¯è‡ªåŠ¨çš„, ä½ ä¸ç”¨å…³å¿ƒ.</p><p>è¯·ç¡®ä¿ cronjob æ­£ç¡®å®‰è£…, çœ‹èµ·æ¥æ˜¯ç±»ä¼¼è¿™æ ·çš„:</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs gradle">crontab  -l<br><br><span class="hljs-number">56</span> * * * * <span class="hljs-string">&quot;/root/.acme.sh&quot;</span><span class="hljs-regexp">/acme.sh --cron --home &quot;/</span>root<span class="hljs-regexp">/.acme.sh&quot; &gt; /</span>dev/<span class="hljs-keyword">null</span><br></code></pre></td></tr></table></figure><h1 id="6-å…³äºä¿®æ”¹ReloadCmd"><a href="#6-å…³äºä¿®æ”¹ReloadCmd" class="headerlink" title="6. å…³äºä¿®æ”¹ReloadCmd"></a>6. å…³äºä¿®æ”¹ReloadCmd</h1><p>ç›®å‰ä¿®æ”¹<code>ReloadCmd</code>æ²¡æœ‰ä¸“é—¨çš„å‘½ä»¤ï¼Œå¯ä»¥é€šè¿‡é‡æ–°å®‰è£…è¯ä¹¦æ¥å®ç°ä¿®æ”¹<code>reloadCmd</code>çš„ç›®çš„ã€‚ æ­¤å¤–ï¼Œå®‰è£…è¯ä¹¦åï¼Œç›¸å…³ä¿¡æ¯æ˜¯ä¿å­˜åœ¨<code>~/.acme.sh/example.com/example.conf</code>æ–‡ä»¶ä¸‹çš„ï¼Œå†…å®¹å°±æ˜¯<code>acme.sh --info -d example.com</code>è¾“å‡ºçš„ä¿¡æ¯ï¼Œä¸è¿‡<code>ReloadCmd</code>åœ¨æ–‡ä»¶ä¸­ä½¿ç”¨äº†Base64ç¼–ç ã€‚ç†è®ºä¸Šå¯ä»¥é€šè¿‡ç›´æ¥ä¿®æ”¹è¯¥æ–‡ä»¶æ¥ä¿®æ”¹<code>ReloadCmd</code>ï¼Œä¸”ä¿®æ”¹æ—¶ï¼Œæ— éœ€Base64ç¼–ç ï¼Œç›´æ¥å†™å‘½ä»¤åŸæ–‡<code>acme.sh</code>ä¹Ÿå¯ä»¥è¯†åˆ«ã€‚ ä¸è¿‡ï¼Œ<code>example.conf</code>æ–‡ä»¶çš„ä½ç½®å’Œå†…å®¹æ ¼å¼ä»¥åå¯èƒ½ä¼šæ”¹å˜ï¼<code>example.conf</code>ä¸€ç›´éƒ½æ˜¯å†…éƒ¨ä½¿ç”¨, åé¢æœ‰å¯èƒ½ä¼šæ”¹ä¸ºç”¨ sqlite æˆ–è€…mysql æ ¼å¼å­˜å‚¨. æ‰€ä»¥ä¸€èˆ¬ä¸å»ºè®®è‡ªå·±ä¿®æ”¹ã€‚</p><h1 id="7-æ›´æ–°-acme-sh"><a href="#7-æ›´æ–°-acme-sh" class="headerlink" title="7. æ›´æ–° acme.sh"></a>7. æ›´æ–° acme.sh</h1><p>ç›®å‰ç”±äº acme åè®®å’Œ letsencrypt CA éƒ½åœ¨é¢‘ç¹çš„æ›´æ–°, å› æ­¤ acme.sh ä¹Ÿç»å¸¸æ›´æ–°ä»¥ä¿æŒåŒæ­¥.</p><p>å‡çº§ acme.sh åˆ°æœ€æ–°ç‰ˆ :</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">acme<span class="hljs-selector-class">.sh</span> <span class="hljs-attr">--upgrade</span><br></code></pre></td></tr></table></figure><p>å¦‚æœä½ ä¸æƒ³æ‰‹åŠ¨å‡çº§, å¯ä»¥å¼€å¯è‡ªåŠ¨å‡çº§:</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">acme<span class="hljs-selector-class">.sh</span> <span class="hljs-attr">--upgrade</span> <span class="hljs-attr">--auto-upgrade</span><br></code></pre></td></tr></table></figure><p>ä¹‹å, acme.sh å°±ä¼šè‡ªåŠ¨ä¿æŒæ›´æ–°äº†.</p><p>ä½ ä¹Ÿå¯ä»¥éšæ—¶å…³é—­è‡ªåŠ¨æ›´æ–°:</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">acme<span class="hljs-selector-class">.sh</span> <span class="hljs-attr">--upgrade</span> <span class="hljs-attr">--auto-upgrade</span>  <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><h1 id="8-å‡ºé”™æ€ä¹ˆåŠï¼š"><a href="#8-å‡ºé”™æ€ä¹ˆåŠï¼š" class="headerlink" title="8. å‡ºé”™æ€ä¹ˆåŠï¼š"></a>8. å‡ºé”™æ€ä¹ˆåŠï¼š</h1><p>å¦‚æœå‡ºé”™, è¯·æ·»åŠ  debug logï¼š</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">acme.sh <span class="hljs-params">--issue</span>  <span class="hljs-string">.....</span>  <span class="hljs-params">--debug</span> <br></code></pre></td></tr></table></figure><p>æˆ–è€…ï¼š</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">acme.sh <span class="hljs-params">--issue</span>  <span class="hljs-string">.....</span>  <span class="hljs-params">--debug</span>  2<br></code></pre></td></tr></table></figure><p>è¯·å‚è€ƒï¼š <a target="_blank" rel="noopener" href="https://github.com/Neilpang/acme.sh/wiki/How-to-debug-acme.sh">https://github.com/Neilpang/acme.sh/wiki/How-to-debug-acme.sh</a></p><p>æœ€å, æœ¬æ–‡å¹¶éå®Œå…¨çš„ä½¿ç”¨è¯´æ˜, è¿˜æœ‰å¾ˆå¤šé«˜çº§çš„åŠŸèƒ½, æ›´é«˜çº§çš„ç”¨æ³•è¯·å‚çœ‹å…¶ä»– wiki é¡µé¢.</p><p><a target="_blank" rel="noopener" href="https://github.com/Neilpang/acme.sh/wiki">https://github.com/Neilpang/acme.sh/wiki</a></p></blockquote><h2 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker run --rm  -itd  \<br>  -v &quot;$(pwd)/out&quot;:/acme.sh  \<br>  -e Ali_Key=&quot;xxxxxx&quot; \<br>  -e Ali_Secret=&quot;xxxx&quot; \<br>  neilpang/acme.sh  --issue --dns dns_ali -d domain.cn -d *.domain.cn<br></code></pre></td></tr></table></figure><p>è¯¦ç»†ç”¨æ³•ï¼Œå¯ä»¥å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://github.com/Neilpang/acme.sh/wiki/Run-acme.sh-in-docker">ä¼ é€é—¨</a></p><blockquote><h1 id="acme-sh-ğŸ’•-docker"><a href="#acme-sh-ğŸ’•-docker" class="headerlink" title="acme.sh ğŸ’• docker"></a>acme.sh ğŸ’• docker</h1><p>ä½œä¸º docker çš„å¿ å®ç²‰ä¸ä¹‹ä¸€ï¼Œæˆ‘çŸ¥é“æˆ‘ä»¬è®¨åŒåœ¨ docker ä¸»æœºä¸Šå®‰è£…ä»»ä½•ä¸œè¥¿ï¼Œå³ä½¿å®ƒåªæ˜¯å¤åˆ¶ä¸€ä¸ª shell è„šæœ¬ã€‚</p><p>ç”¨äº letsencrypt ssl è¯ä¹¦çš„å¸¦æœ‰ acme.sh çš„è‡ªåŠ¨åŒ– nginx åå‘ä»£ç† docker å›¾åƒï¼š https: <a target="_blank" rel="noopener" href="https://github.com/Neilpang/letsproxy">&#x2F;&#x2F;github.com&#x2F;Neilpang&#x2F;letsproxy</a></p><p>éƒ¨ç½²åˆ° docker å®¹å™¨å¹¶é‡æ–°åŠ è½½å®ƒï¼š<a target="_blank" rel="noopener" href="https://github.com/Neilpang/acme.sh/wiki/deploy-to-docker-containers">https :&#x2F;&#x2F;github.com&#x2F;Neilpang&#x2F;acme.sh&#x2F;wiki&#x2F;deploy-to-docker-containers</a></p><p>æ‰€ä»¥ï¼Œè¿™é‡Œå‡ºç°äº†â€œdocker ä¸­çš„ acme.shâ€ã€‚</p><ol><li>åŸºäº<strong>alpine</strong>ï¼Œåªæœ‰ 5MB å¤§å°ã€‚</li><li>ä½œä¸ºå¯æ‰§è¡Œæ–‡ä»¶è¿è¡Œæˆ–ä½œä¸ºå®ˆæŠ¤è¿›ç¨‹è¿è¡Œ</li><li>æ”¯æŒæ‰€æœ‰å‘½ä»¤è¡Œå‚æ•°ã€‚</li></ol><h1 id="1-è¯´â€œHello-Worldâ€"><a href="#1-è¯´â€œHello-Worldâ€" class="headerlink" title="1.è¯´â€œHello Worldâ€"></a>1.è¯´â€œHello Worldâ€</h1><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dockerfile">docker <span class="hljs-keyword">run</span><span class="language-bash"> --<span class="hljs-built_in">rm</span> neilpang/acme.sh</span><br></code></pre></td></tr></table></figure><h1 id="2-ç”¨ä½œå¯æ‰§è¡Œæ–‡ä»¶ï¼š"><a href="#2-ç”¨ä½œå¯æ‰§è¡Œæ–‡ä»¶ï¼š" class="headerlink" title="2.ç”¨ä½œå¯æ‰§è¡Œæ–‡ä»¶ï¼š"></a>2.ç”¨ä½œå¯æ‰§è¡Œæ–‡ä»¶ï¼š</h1><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs stylus">docker run <span class="hljs-attr">--rm</span>  -it  \<br>  -v <span class="hljs-string">&quot;$(pwd)/out&quot;</span>:/acme<span class="hljs-selector-class">.sh</span>  \<br>  <span class="hljs-attr">--net</span>=host \<br>  neilpang/acme<span class="hljs-selector-class">.sh</span>  <span class="hljs-attr">--issue</span> -d example<span class="hljs-selector-class">.com</span>  <span class="hljs-attr">--standalone</span><br></code></pre></td></tr></table></figure><p>æ‚¨å¯ä»¥åœ¨æ­¤å¤„ä½¿ç”¨<strong>acme.sh</strong>æ”¯æŒçš„<strong>ä»»ä½•å‘½ä»¤</strong>ï¼Œå…¶ä»–ç¤ºä¾‹ï¼š</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-id">#revoke</span> <span class="hljs-selector-tag">a</span> cert<br>docker run <span class="hljs-attr">--rm</span>  -it  \<br>  -v <span class="hljs-string">&quot;$(pwd)/out&quot;</span>:/acme<span class="hljs-selector-class">.sh</span>  \<br>  <span class="hljs-attr">--net</span>=host \<br>  neilpang/acme<span class="hljs-selector-class">.sh</span>  <span class="hljs-attr">--revoke</span> -d example<span class="hljs-selector-class">.com</span><br><span class="hljs-selector-id">#use</span> dns mode<br>docker run <span class="hljs-attr">--rm</span>  -it  \<br>  -v <span class="hljs-string">&quot;$(pwd)/out&quot;</span>:/acme<span class="hljs-selector-class">.sh</span>  \<br>  neilpang/acme<span class="hljs-selector-class">.sh</span>  <span class="hljs-attr">--issue</span> <span class="hljs-attr">--dns</span> -d example<span class="hljs-selector-class">.com</span><br><span class="hljs-selector-id">#run</span> cron job<br>docker run <span class="hljs-attr">--rm</span>  -it  \<br>  -v <span class="hljs-string">&quot;$(pwd)/out&quot;</span>:/acme<span class="hljs-selector-class">.sh</span>  \<br>  <span class="hljs-attr">--net</span>=host \<br>  neilpang/acme<span class="hljs-selector-class">.sh</span>  <span class="hljs-attr">--cron</span><br></code></pre></td></tr></table></figure><p>æ— è®ºå¦‚ä½•ï¼Œæ‚¨å¯ä»¥åƒè°ƒç”¨çœŸæ­£çš„ shell è„šæœ¬ä¸€æ ·è°ƒç”¨<strong>neilpang&#x2F;acme.shã€‚</strong></p><h1 id="3-å°†-acme-sh-ä½œä¸º-docker-å®ˆæŠ¤è¿›ç¨‹è¿è¡Œã€‚"><a href="#3-å°†-acme-sh-ä½œä¸º-docker-å®ˆæŠ¤è¿›ç¨‹è¿è¡Œã€‚" class="headerlink" title="3. å°† acme.sh ä½œä¸º docker å®ˆæŠ¤è¿›ç¨‹è¿è¡Œã€‚"></a>3. å°† acme.sh ä½œä¸º docker å®ˆæŠ¤è¿›ç¨‹è¿è¡Œã€‚</h1><ol><li>å°† acme.sh ä½œä¸º docker å®ˆæŠ¤è¿›ç¨‹è¿è¡Œï¼Œä»¥ä¾¿å®ƒå¯ä»¥è‡ªåŠ¨å¤„ç†æ›´æ–° cronjobã€‚</li></ol><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs routeros">docker <span class="hljs-built_in">run</span> --rm  -itd  \<br>  -v <span class="hljs-string">&quot;<span class="hljs-variable">$(pwd)</span>/out&quot;</span>:/acme.sh  \<br>  <span class="hljs-attribute">--net</span>=host \<br>  <span class="hljs-attribute">--name</span>=acme.sh \<br>  neilpang/acme.sh daemon<br></code></pre></td></tr></table></figure><ol start="2"><li>ç„¶åä½ å°±å¯ä»¥ä½¿ç”¨<code>docker exec</code>æ¥æ‰§è¡Œä»»ä½•acme.sh å‘½ä»¤äº†ã€‚</li></ol><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">docker  exec  acme<span class="hljs-selector-class">.sh</span> <span class="hljs-attr">--help</span><br>docker  exec  acme<span class="hljs-selector-class">.sh</span> <span class="hljs-attr">--issue</span> -d example<span class="hljs-selector-class">.com</span>  <span class="hljs-attr">--standalone</span><br></code></pre></td></tr></table></figure><p>æ˜¯çš„ï¼Œå†æ¬¡å¼ºè°ƒï¼Œæ‚¨å¯ä»¥åœ¨æ­¤å¤„ä½¿ç”¨<strong>acme.sh</strong>æ”¯æŒçš„<strong>ä»»ä½•å‘½ä»¤</strong>ã€‚</p></blockquote><h2 id="Certbot"><a href="#Certbot" class="headerlink" title="Certbot"></a>Certbot</h2><p><a target="_blank" rel="noopener" href="https://certbot.eff.org/">https://certbot.eff.org/</a></p></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/blog/" class="category-chain-item">blog</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/ssl/">#ssl</a> <a href="/tags/https/">#https</a></div></div><div class="license-box my-3"><div class="license-title"><div>Letâ€™s Encrypt SSL è¯ä¹¦ç”³è¯·</div><div>https://www.oikiou.top/2023/e7fefe87/</div></div><div class="license-meta"><div class="license-meta-item"><div>ä½œè€…</div><div>Oikiou</div></div><div class="license-meta-item license-meta-date"><div>å‘å¸ƒäº</div><div>2023å¹´1æœˆ12æ—¥</div></div><div class="license-meta-item"><div>è®¸å¯åè®®</div><div><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="BY - ç½²å"><i class="iconfont icon-by"></i> </span></a><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="NC - éå•†ä¸šæ€§ä½¿ç”¨"><i class="iconfont icon-nc"></i> </span></a><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="SA - ç›¸åŒæ–¹å¼å…±äº«"><i class="iconfont icon-sa"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/2023/79891ac1/" title="Licenseå·®å¼‚å¯¹æ¯”"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">Licenseå·®å¼‚å¯¹æ¯”</span> <span class="visible-mobile">ä¸Šä¸€ç¯‡</span></a></article><article class="post-next col-6"><a href="/2022/a2c49dae/" title="PowerShell"><span class="hidden-mobile">PowerShell</span> <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><div id="twikoo"></div><script type="text/javascript">Fluid.utils.loadComments("#comments",function(){Fluid.utils.createScript("https://lib.baomitu.com/twikoo/1.6.10/twikoo.all.min.js",function(){var o=Object.assign({envId:"https://twikoo.oikiou.top:8884/",region:"ap-shanghai",path:"window.location.pathname"},{el:"#twikoo",path:"window.location.pathname",onCommentLoaded:function(){var o="#twikoo .tk-content img:not(.tk-owo-emotion)";Fluid.plugins.imageCaption(o),Fluid.plugins.fancyBox(o)}});twikoo.init(o)})})</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar category-bar" style="margin-left:-1rem"><div class="category-list"><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="blog" id="heading-126ac9f6149081eb0e97c2e939eaad52" role="tab" data-toggle="collapse" href="#collapse-126ac9f6149081eb0e97c2e939eaad52" aria-expanded="true">blog <span class="list-group-count">(29)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-126ac9f6149081eb0e97c2e939eaad52" role="tabpanel" aria-labelledby="heading-126ac9f6149081eb0e97c2e939eaad52"><div class="category-post-list"><a href="/2018/8d6db935/" title="CC2530" class="list-group-item list-group-item-action"><span class="category-post">CC2530</span> </a><a href="/2019/d334b917/" title="CæŒ‰ç‰¹å®šæ ¼å¼è¯»å–å­—ç¬¦ä¸²çš„æ•°æ® Sscanfçš„ç”¨æ³•" class="list-group-item list-group-item-action"><span class="category-post">CæŒ‰ç‰¹å®šæ ¼å¼è¯»å–å­—ç¬¦ä¸²çš„æ•°æ® Sscanfçš„ç”¨æ³•</span> </a><a href="/2019/b9b15cd2/" title="è“æ¡¥æ¯STM32å›½èµ›ç¬”è®°" class="list-group-item list-group-item-action"><span class="category-post">è“æ¡¥æ¯STM32å›½èµ›ç¬”è®°</span> </a><a href="/2019/ea2a1972/" title="è“æ¡¥æ¯åµŒå…¥å¼ å›½èµ›æ‰©å±•æ¿ CT117E-EX å­¦ä¹ ç¬”è®°" class="list-group-item list-group-item-action"><span class="category-post">è“æ¡¥æ¯åµŒå…¥å¼ å›½èµ›æ‰©å±•æ¿ CT117E-EX å­¦ä¹ ç¬”è®°</span> </a><a href="/2019/62231d0e/" title="è“æ¡¥æ¯åµŒå…¥å¼ é”™é¢˜æœ¬" class="list-group-item list-group-item-action"><span class="category-post">è“æ¡¥æ¯åµŒå…¥å¼ é”™é¢˜æœ¬</span> </a><a href="/2020/1a11e44c/" title="OSI" class="list-group-item list-group-item-action"><span class="category-post">OSI</span> </a><a href="/2020/da7ed36c/" title="MarkDownå­¦ä¹ ç¬”è®°" class="list-group-item list-group-item-action"><span class="category-post">MarkDownå­¦ä¹ ç¬”è®°</span> </a><a href="/2020/3b631eba/" title="USARTç¡¬ä»¶æµæ§åˆ¶" class="list-group-item list-group-item-action"><span class="category-post">USARTç¡¬ä»¶æµæ§åˆ¶</span> </a><a href="/2021/60aa39b4/" title="æœºæ™ºäº‘é€šä¿¡" class="list-group-item list-group-item-action"><span class="category-post">æœºæ™ºäº‘é€šä¿¡</span> </a><a href="/2021/aaef73f3/" title="WS2812é©±åŠ¨ SPI+DMA æ— éœ€é™é¢‘ ä¸€ä¸ªç¯å ç”¨9Byteçš„RAM" class="list-group-item list-group-item-action"><span class="category-post">WS2812é©±åŠ¨ SPI+DMA æ— éœ€é™é¢‘ ä¸€ä¸ªç¯å ç”¨9Byteçš„RAM</span> </a><a href="/2021/2c1a46d6/" title="XIP ç‰‡å†…æ‰§è¡Œ eXecute in Place" class="list-group-item list-group-item-action"><span class="category-post">XIP ç‰‡å†…æ‰§è¡Œ eXecute in Place</span> </a><a href="/2021/d3f98b78/" title="Hex æ–‡ä»¶æ ¼å¼è§£æ" class="list-group-item list-group-item-action"><span class="category-post">Hex æ–‡ä»¶æ ¼å¼è§£æ</span> </a><a href="/2021/db5fa6fe/" title="è§£å†³ Github æ— æ³•æ‰“å¼€" class="list-group-item list-group-item-action"><span class="category-post">è§£å†³ Github æ— æ³•æ‰“å¼€</span> </a><a href="/2021/320cfc33/" title="è§£å†³ Chromeç”±è´µå•ä½ç®¡ç† æƒ æ™® è°·æ­Œæµè§ˆå™¨ HP" class="list-group-item list-group-item-action"><span class="category-post">è§£å†³ Chromeç”±è´µå•ä½ç®¡ç† æƒ æ™® è°·æ­Œæµè§ˆå™¨ HP</span> </a><a href="/2022/714f1d49/" title="Windowsä¸‹ä½¿ç”¨Makefile" class="list-group-item list-group-item-action"><span class="category-post">Windowsä¸‹ä½¿ç”¨Makefile</span> </a><a href="/2022/77d62815/" title="Typoraå¼ºåˆ¶å‡çº§è§£å†³åŠæ³•" class="list-group-item list-group-item-action"><span class="category-post">Typoraå¼ºåˆ¶å‡çº§è§£å†³åŠæ³•</span> </a><a href="/2022/82aca4fc/" title="SSLè¯ä¹¦çš„ç”³è¯·å’Œè‡ªåŠ¨ç»­æœŸ" class="list-group-item list-group-item-action"><span class="category-post">SSLè¯ä¹¦çš„ç”³è¯·å’Œè‡ªåŠ¨ç»­æœŸ</span> </a><a href="/2022/3ef2a47d/" title="æ­å»ºKMS" class="list-group-item list-group-item-action"><span class="category-post">æ­å»ºKMS</span> </a><a href="/2022/438d1de3/" title="å­—ç¬¦é›†å’Œå­—ç¬¦ç¼–ç " class="list-group-item list-group-item-action"><span class="category-post">å­—ç¬¦é›†å’Œå­—ç¬¦ç¼–ç </span> </a><a href="/2022/c65e1067/" title="Tags Label Category" class="list-group-item list-group-item-action"><span class="category-post">Tags Label Category</span> </a><a href="/categories/blog/" class="list-group-item list-group-item-action"><span class="category-post">More...</span></a></div></div></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><span>å¦‚æœä½ æœ‰ä»»ä½•åé¦ˆè¯·è”ç³»oikiou@outlook.com</span></div><div class="statistics"><span id="busuanzi_container_site_pv" style="display:none">æ€»è®¿é—®é‡ <span id="busuanzi_value_site_pv"></span> æ¬¡ </span><span id="busuanzi_container_site_uv" style="display:none">æ€»è®¿å®¢æ•° <span id="busuanzi_value_site_uv"></span> äºº</span></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",function(){NProgress.done()})</script><script src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t){var e=Fluid.plugins.typing,i=t.getElementById("subtitle");i&&e&&e(i.getAttribute("data-typed-text"))}((window,document))</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js",function(){var t,o=jQuery("#toc");0!==o.length&&window.tocbot&&(t=jQuery("#board-ctn").offset().top,window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-t},CONFIG.toc)),0<o.find(".toc-list-item").length&&o.css("visibility","visible"),Fluid.events.registerRefreshCallback(function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;0<t.find(".toc-list-item").length&&t.css("visibility","visible")}}))})</script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",function(){Fluid.plugins.fancyBox()})</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/custom.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div></noscript></body></html>