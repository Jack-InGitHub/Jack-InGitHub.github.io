{
    "version": "https://jsonfeed.org/version/1",
    "title": "Oikiou's Blog",
    "description": "Blog",
    "home_page_url": "https://www.oikiou.top",
    "items": [
        {
            "id": "https://www.oikiou.top/2025/87426b16/",
            "url": "https://www.oikiou.top/2025/87426b16/",
            "title": "ESP32 Develop",
            "date_published": "2025-07-03T12:42:16.256Z",
            "content_html": "<h1 id=\"ESP32\"><a href=\"#ESP32\" class=\"headerlink\" title=\"ESP32\"></a>ESP32</h1><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">idf.py set-target esp32c3<br><br>idf.py menuconfig<br><br>idf.py build<br><br>idf.py -p COM12 flash moniter<br></code></pre></td></tr></table></figure>\n\n\n\n\n\n<h1 id=\"IDF\"><a href=\"#IDF\" class=\"headerlink\" title=\"IDF\"></a>IDF</h1><h2 id=\"组件管理器-The-ESP-Component-Registry\"><a href=\"#组件管理器-The-ESP-Component-Registry\" class=\"headerlink\" title=\"组件管理器 The ESP Component Registry\"></a>组件管理器 The ESP Component Registry</h2><p><a href=\"https://components.espressif.com/\">https://components.espressif.com/</a></p>\n<h3 id=\"create-manifest\"><a href=\"#create-manifest\" class=\"headerlink\" title=\"create-manifest\"></a>create-manifest</h3><ul>\n<li><code>idf.py create-manifest</code> 为 main 组件创建清单文件</li>\n<li><code>idf.py create-manifest --component=my_component</code> 在 <code>components</code> 目录下，为组件 <strong>my_component</strong> 创建清单文件</li>\n<li><code>idf.py create-manifest --path=&quot;../../my_component&quot;</code> 在 <code>my_component</code> 目录下，为组件 <strong>my_component</strong> 创建清单文件</li>\n</ul>\n<p>在向项目的某个组件添加新的清单时，必须先运行 <code>idf.py reconfigure</code>，手动重新配置项目。</p>\n<h3 id=\"add-dependency\"><a href=\"#add-dependency\" class=\"headerlink\" title=\"add-dependency\"></a>add-dependency</h3><p>要为 ESP-IDF 项目中的组件（如 <code>my_component</code>）添加依赖项，可以运行命令 <code>idf.py add-dependency DEPENDENCY</code>。<br><code>DEPENDENCY</code> 参数代表一个由 IDF 组件管理器管理的额外组件，而 <code>my_component</code> 也依赖于这个组件。<code>DEPENDENCY</code> 参数的格式为 <code>namespace/name=1.0.0</code>，namespace&#x2F;name 代表组件名称，&#x3D;1.0.0 是组件的版本范围，详情请参阅 <a href=\"https://docs.espressif.com/projects/idf-component-manager/en/latest/reference/versioning.html\">版本文档</a>。</p>\n<h3 id=\"直接编辑\"><a href=\"#直接编辑\" class=\"headerlink\" title=\"直接编辑\"></a>直接编辑</h3><p>通过在文本编辑器直接编辑，你可以轻松定义清单文件 <code>idf_component.yml</code> 中的依赖项。</p>\n",
            "tags": [
                "embedded",
                "esp32",
                "idf"
            ]
        },
        {
            "id": "https://www.oikiou.top/2025/60641507/",
            "url": "https://www.oikiou.top/2025/60641507/",
            "title": "Docker Compose",
            "date_published": "2025-05-13T05:23:05.000Z",
            "content_html": "<h1 id=\"Docker-Compose\"><a href=\"#Docker-Compose\" class=\"headerlink\" title=\"Docker Compose\"></a>Docker Compose</h1><h1 id=\"Docker-Compose是什么\"><a href=\"#Docker-Compose是什么\" class=\"headerlink\" title=\"Docker Compose是什么\"></a>Docker Compose是什么</h1><p>Docker Compose 是一个用于<strong>定义和运行多容器 Docker 应用</strong>的工具。通过一个 YAML 格式的配置文件（<code>docker-compose.yml</code>），您可以统一管理多个容器的配置（如服务依赖、网络、存储卷等），并通过简单命令一键启动或停止整个应用栈。</p>\n<h4 id=\"核心功能：\"><a href=\"#核心功能：\" class=\"headerlink\" title=\"核心功能：\"></a><strong>核心功能：</strong></h4><ul>\n<li><p><strong>单文件配置</strong>：用 YAML 文件定义所有服务、网络、卷。</p>\n</li>\n<li><p><strong>一键启停</strong>：通过一条命令启动或销毁整个应用环境。</p>\n</li>\n<li><p><strong>服务依赖管理</strong>：自动处理容器启动顺序（如先启动数据库再启动 Web 服务）。</p>\n</li>\n<li><p><strong>环境隔离</strong>：支持开发、测试、生产环境的不同配置。</p>\n</li>\n</ul>\n<blockquote>\n<h1 id=\"注意\"><a href=\"#注意\" class=\"headerlink\" title=\"注意\"></a>注意</h1><p>由于 Docker 官方已将 Compose 集成到 CLI 中，推荐使用 <code>docker compose</code> 替代旧的 <code>docker-compose</code></p>\n</blockquote>\n<hr>\n<h1 id=\"Docker-Compose-配置文件\"><a href=\"#Docker-Compose-配置文件\" class=\"headerlink\" title=\"Docker Compose 配置文件\"></a>Docker Compose 配置文件</h1><h2 id=\"基础结构示例\"><a href=\"#基础结构示例\" class=\"headerlink\" title=\"基础结构示例\"></a>基础结构示例</h2><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs yaml\"><span class=\"hljs-attr\">version:</span> <span class=\"hljs-string\">&quot;3.9&quot;</span>  <span class=\"hljs-comment\"># 指定 Compose 版本（需与 Docker 引擎兼容）</span><br><br><span class=\"hljs-attr\">services:</span>        <span class=\"hljs-comment\"># 定义所有服务容器</span><br>  <span class=\"hljs-attr\">web:</span>           <span class=\"hljs-comment\"># 服务名称（自定义）</span><br>    <span class=\"hljs-attr\">image:</span> <span class=\"hljs-string\">nginx:latest</span>  <span class=\"hljs-comment\"># 使用的镜像vim </span><br>    <span class=\"hljs-attr\">ports:</span><br>      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">&quot;80:80&quot;</span>          <span class=\"hljs-comment\"># 端口映射（宿主机:容器）</span><br>    <span class=\"hljs-attr\">volumes:</span><br>      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">./html:/usr/share/nginx/html</span>  <span class=\"hljs-comment\"># 挂载宿主机目录到容器</span><br>    <span class=\"hljs-attr\">depends_on:</span>          <span class=\"hljs-comment\"># 依赖的服务</span><br>      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">db</span><br><br>  <span class=\"hljs-attr\">db:</span>                    <span class=\"hljs-comment\"># 第二个服务（数据库）</span><br>    <span class=\"hljs-attr\">image:</span> <span class=\"hljs-string\">mysql:8.0</span><br>    <span class=\"hljs-attr\">environment:</span>         <span class=\"hljs-comment\"># 环境变量</span><br>      <span class=\"hljs-attr\">MYSQL_ROOT_PASSWORD:</span> <span class=\"hljs-string\">example</span><br>    <span class=\"hljs-attr\">volumes:</span><br>      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">mysql_data:/var/lib/mysql</span>  <span class=\"hljs-comment\"># 使用命名卷持久化数据</span><br><br><span class=\"hljs-attr\">volumes:</span>                 <span class=\"hljs-comment\"># 定义命名卷</span><br>  <span class=\"hljs-attr\">mysql_data:</span><br></code></pre></td></tr></table></figure>\n\n<h2 id=\"关键配置项说明\"><a href=\"#关键配置项说明\" class=\"headerlink\" title=\"关键配置项说明\"></a>关键配置项说明</h2><table>\n<thead>\n<tr>\n<th>配置项</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>version</code></td>\n<td>指定 Compose 文件格式版本（常用 3.x）。</td>\n</tr>\n<tr>\n<td><code>services</code></td>\n<td>定义所有需要运行的容器服务，每个服务需配置镜像、端口、卷等。</td>\n</tr>\n<tr>\n<td><code>image</code></td>\n<td>指定容器使用的镜像（如 <code>nginx:latest</code>）。</td>\n</tr>\n<tr>\n<td><code>ports</code></td>\n<td>映射宿主机端口到容器端口（格式：<code>&quot;宿主机端口:容器端口&quot;</code>）。</td>\n</tr>\n<tr>\n<td><code>volumes</code></td>\n<td>挂载宿主机目录或命名卷到容器路径（如 <code>./data:/app/data</code>）。</td>\n</tr>\n<tr>\n<td><code>environment</code></td>\n<td>设置容器内的环境变量（支持键值对或列表）。</td>\n</tr>\n<tr>\n<td><code>depends_on</code></td>\n<td>定义服务启动顺序（例如 Web 服务依赖数据库服务先启动）。</td>\n</tr>\n<tr>\n<td><code>networks</code></td>\n<td>自定义容器网络（默认所有服务加入同一网络，可通过服务名互相通信）。</td>\n</tr>\n</tbody></table>\n<hr>\n<h1 id=\"常用命令\"><a href=\"#常用命令\" class=\"headerlink\" title=\"常用命令\"></a>常用命令</h1><h3 id=\"1-启动服务\"><a href=\"#1-启动服务\" class=\"headerlink\" title=\"1. 启动服务\"></a>1. 启动服务</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 前台启动（调试用，Ctrl+C 停止）</span><br>docker-compose up<br><br><span class=\"hljs-comment\"># 后台启动（-d 表示 detached 模式）</span><br>docker-compose up -d<br><br><span class=\"hljs-comment\"># 启动时强制重新构建镜像（如果 Dockerfile 有更新）</span><br>docker-compose up -d --build<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"2-停止并清理\"><a href=\"#2-停止并清理\" class=\"headerlink\" title=\"2. 停止并清理\"></a>2. 停止并清理</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 停止并删除容器、网络（保留卷和数据）</span><br>docker-compose down<br><br><span class=\"hljs-comment\"># 彻底清理（删除容器、网络、镜像、未使用的卷）</span><br>docker-compose down --rmi all --volumes<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"重启\"><a href=\"#重启\" class=\"headerlink\" title=\"重启\"></a>重启</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">docker compose restart<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"3-查看服务状态\"><a href=\"#3-查看服务状态\" class=\"headerlink\" title=\"3. 查看服务状态\"></a>3. 查看服务状态</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 查看运行中的服务</span><br>docker-compose ps<br><br><span class=\"hljs-comment\"># 查看服务日志（-f 持续跟踪日志）</span><br>docker-compose logs -f web<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"4-管理单个服务\"><a href=\"#4-管理单个服务\" class=\"headerlink\" title=\"4. 管理单个服务\"></a>4. 管理单个服务</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 启动/停止/重启指定服务</span><br>docker-compose start web<br>docker-compose stop web<br>docker-compose restart web<br><br><span class=\"hljs-comment\"># 进入容器执行命令（例如启动 Bash）</span><br>docker-compose <span class=\"hljs-built_in\">exec</span> web bash<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"5-扩展服务实例\"><a href=\"#5-扩展服务实例\" class=\"headerlink\" title=\"5. 扩展服务实例\"></a>5. 扩展服务实例</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 启动多个 Web 服务实例（需服务支持水平扩展）</span><br>docker-compose up -d --scale web=3<br></code></pre></td></tr></table></figure>\n\n\n\n<hr>\n<h1 id=\"高级技巧\"><a href=\"#高级技巧\" class=\"headerlink\" title=\"高级技巧\"></a>高级技巧</h1><h3 id=\"1-多环境配置\"><a href=\"#1-多环境配置\" class=\"headerlink\" title=\"1. 多环境配置\"></a>1. 多环境配置</h3><ul>\n<li>使用多个 Compose 文件（如 <code>docker-compose.prod.yml</code>）覆盖默认配置：<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">docker-compose -f docker-compose.yml -f docker-compose.prod.yml up -d<br></code></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"2-变量替换\"><a href=\"#2-变量替换\" class=\"headerlink\" title=\"2. 变量替换\"></a>2. 变量替换</h3><p>在 Compose 文件中使用环境变量：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs yaml\"><span class=\"hljs-attr\">services:</span><br>  <span class=\"hljs-attr\">web:</span><br>    <span class=\"hljs-attr\">image:</span> <span class=\"hljs-string\">nginx:$&#123;NGINX_VERSION:-latest&#125;</span>  <span class=\"hljs-comment\"># 默认使用 latest，可覆盖</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"3-健康检查\"><a href=\"#3-健康检查\" class=\"headerlink\" title=\"3. 健康检查\"></a>3. 健康检查</h3><p>定义服务健康检查策略：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs yaml\"><span class=\"hljs-attr\">services:</span><br>  <span class=\"hljs-attr\">db:</span><br>    <span class=\"hljs-attr\">image:</span> <span class=\"hljs-string\">mysql:8.0</span><br>    <span class=\"hljs-attr\">healthcheck:</span><br>      <span class=\"hljs-attr\">test:</span> [<span class=\"hljs-string\">&quot;CMD&quot;</span>, <span class=\"hljs-string\">&quot;mysqladmin&quot;</span>, <span class=\"hljs-string\">&quot;ping&quot;</span>, <span class=\"hljs-string\">&quot;-h&quot;</span>, <span class=\"hljs-string\">&quot;localhost&quot;</span>]<br>      <span class=\"hljs-attr\">interval:</span> <span class=\"hljs-string\">10s</span><br>      <span class=\"hljs-attr\">timeout:</span> <span class=\"hljs-string\">5s</span><br>      <span class=\"hljs-attr\">retries:</span> <span class=\"hljs-number\">3</span><br></code></pre></td></tr></table></figure>\n\n<hr>\n<h1 id=\"Note\"><a href=\"#Note\" class=\"headerlink\" title=\"Note\"></a>Note</h1><h3 id=\"更新容器\"><a href=\"#更新容器\" class=\"headerlink\" title=\"更新容器\"></a>更新容器</h3><ul>\n<li>修改 <code>docker-compose.yml</code> 后，运行：<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">docker-compose up -d --build<br></code></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"数据持久化失败？\"><a href=\"#数据持久化失败？\" class=\"headerlink\" title=\"数据持久化失败？\"></a>数据持久化失败？</h3><ul>\n<li>确保使用命名卷（如 <code>mysql_data:/var/lib/mysql</code>）或正确挂载宿主机路径。</li>\n</ul>\n<h3 id=\"服务间通信问题？\"><a href=\"#服务间通信问题？\" class=\"headerlink\" title=\"服务间通信问题？\"></a>服务间通信问题？</h3><ul>\n<li>使用服务名（如 <code>db</code>）代替 IP 地址，Compose 会自动解析服务名到容器 IP。</li>\n</ul>\n<hr>\n",
            "tags": [
                "docker",
                "dockerfile",
                "namespace",
                "cgroup",
                "dockerhub"
            ]
        },
        {
            "id": "https://www.oikiou.top/2024/9bf1668d/",
            "url": "https://www.oikiou.top/2024/9bf1668d/",
            "title": "一些优秀的开源项目",
            "date_published": "2024-08-01T10:12:15.000Z",
            "content_html": "<h1 id=\"OS\"><a href=\"#OS\" class=\"headerlink\" title=\"OS\"></a>OS</h1><h1 id=\"Net\"><a href=\"#Net\" class=\"headerlink\" title=\"Net\"></a>Net</h1><h3 id=\"Tinyhttpd（示例代码）\"><a href=\"#Tinyhttpd（示例代码）\" class=\"headerlink\" title=\"Tinyhttpd（示例代码）\"></a>Tinyhttpd（示例代码）</h3><p><strong>tinyhttpd</strong>是一个超轻量型Http Server，使用C语言开发，全部代码只有 502 行（包括注释），附带一个简单的 Client 可以通过阅读这段代码理解一个 Http Server 的本质。</p>\n<blockquote>\n<p>tinyhttpd 是我为学校项目编写的一个相对简单的网络服务器。虽然非常简单，但 tinyhttpd 是线程化的，可以处理基本的 CGI 脚本！这是一个用于演示 http 背后概念的教育工具。</p>\n</blockquote>\n<p><strong>项目地址</strong></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">http://sourceforge.net/projects/tinyhttpd/<br></code></pre></td></tr></table></figure>\n\n\n<h2 id=\"MQTT\"><a href=\"#MQTT\" class=\"headerlink\" title=\"MQTT\"></a>MQTT</h2><h1 id=\"Tools\"><a href=\"#Tools\" class=\"headerlink\" title=\"Tools\"></a>Tools</h1><h2 id=\"CRC\"><a href=\"#CRC\" class=\"headerlink\" title=\"CRC\"></a>CRC</h2><h3 id=\"libcrc\"><a href=\"#libcrc\" class=\"headerlink\" title=\"libcrc\"></a>libcrc</h3><p>Libcrc - C 语言多平台 MIT 许可 CRC 库<br><a href=\"https://github.com/lammertb/libcrc\">https://github.com/lammertb/libcrc</a></p>\n<h2 id=\"cJSON\"><a href=\"#cJSON\" class=\"headerlink\" title=\"cJSON\"></a>cJSON</h2><p>Ultralightweight JSON parser in ANSI C.</p>\n<p><a href=\"https://github.com/DaveGamble/cJSON\">https://github.com/DaveGamble/cJSON</a></p>\n<h2 id=\"单元测试\"><a href=\"#单元测试\" class=\"headerlink\" title=\"单元测试\"></a>单元测试</h2><h3 id=\"Cmockery-单元测试框架\"><a href=\"#Cmockery-单元测试框架\" class=\"headerlink\" title=\"Cmockery 单元测试框架\"></a>Cmockery 单元测试框架</h3><p>Cmockery 是一个轻量级库，用于编写 C 单元测试。google 开发。</p>\n<p><a href=\"https://github.com/google/cmockery\">https://github.com/google/cmockery</a></p>\n<h3 id=\"libev\"><a href=\"#libev\" class=\"headerlink\" title=\"libev\"></a>libev</h3><p>libev是一个全功能和高性能的事件循环库，libev 参考并模仿了libevent和perl模块Event。它用于GNU虚拟专用以太网、rxvt-unicode、auditd、Deliantra MORPG服务器和客户端以及许多其他程序。node.js曾经嵌入了libev，现在更换为了libuv。</p>\n<p>其以高效出名，它可以将 IO 事件、定时器、和信号统一起来，统一放在事件处理这一套框架下处理。</p>\n<p>基于 Reactor 模式，效率较高，并且代码精简（4.15 版本 8000 多行），是学习事件驱动编程的很好的资源。</p>\n<p><a href=\"http://libev.schmorp.de/\">http://libev.schmorp.de/</a><br><a href=\"https://github.com/enki/libev\">https://github.com/enki/libev</a></p>\n<h2 id=\"QR-Code\"><a href=\"#QR-Code\" class=\"headerlink\" title=\"QR Code\"></a>QR Code</h2><h3 id=\"QR-Code-generator-library\"><a href=\"#QR-Code-generator-library\" class=\"headerlink\" title=\"QR Code generator library\"></a>QR Code generator library</h3><p>该项目旨在成为多种语言中最好、最清晰的二维码生成器库。主要目标是灵活的选项和绝对的正确性。次要目标是紧凑的实现大小和良好的文档注释。<br><a href=\"https://github.com/nayuki/QR-Code-generator\">https://github.com/nayuki/QR-Code-generator</a></p>\n",
            "tags": [
                "embedded"
            ]
        },
        {
            "id": "https://www.oikiou.top/2024/2f262a28/",
            "url": "https://www.oikiou.top/2024/2f262a28/",
            "title": "音视频编解码",
            "date_published": "2024-07-21T08:23:05.000Z",
            "content_html": "<h1 id=\"视频显示原理\"><a href=\"#视频显示原理\" class=\"headerlink\" title=\"视频显示原理\"></a>视频显示原理</h1><p>视频是利用人眼视觉暂留的原理，通过播放一系列的图片，使人眼产生运动的感觉。单纯传输视频画面，视频量非常大，对现有的网络和存储来说是不可接受的。为了能够使视频便于传输和存储，人们发现视频有大量重复的信息，如果将重复信息在发送端去掉，在接收端恢复出来，这样就大大减少了视频数据的文件，因此有了各种视频压缩标准。</p>\n<h1 id=\"视频编码\"><a href=\"#视频编码\" class=\"headerlink\" title=\"视频编码\"></a>视频编码</h1><p><a href=\"https://www.cnblogs.com/yongdaimi/p/10676309.html\">参考 I帧、P帧、B帧、GOP、IDR 和PTS, DTS之间的关系</a><br><a href=\"https://blog.csdn.net/BigDream123/article/details/120329879\">视频编码基础：I帧、P帧 和 B 帧</a></p>\n<blockquote>\n<p>拓展知识：视频编码方式<br>H.26x（由ITU[国际电传视讯联盟]主导）<br>MPEG-x （由ISO[国际标准组织机构]下属的MPEG[运动图象专家组]开发）<br>VP-x （Google开发的开源视频编码格式）<br>AV1 （由Alliance for Open Media 开放媒体联盟，开发的一种开源视频编码格式）</p>\n<ul>\n<li><strong>MPEG-4</strong> 与H.264诞生了H.264&#x2F;AVC标准</li>\n<li><strong>H.264&#x2F;AVC</strong> H.264&#x2F;MPEG-4第十部分，或称AVC（Advanced Video Coding，高级视频编码）</li>\n<li><strong>H.265&#x2F;HEVC</strong> （High Efficiency Video Coding，简称HEVC）H.264的继任者，最高分辨率可达到8192×4320，HEVC被认为不仅提升图像质量，同时也能达到<strong>H.264&#x2F;MPEG-4</strong> AVC两倍之压缩率。唯一的潜在缺点是许可系统有点复杂。</li>\n<li><strong>H.266&#x2F;VVC</strong>  Versatile Video Coding H.266 的开发目的是超越 H.265。但仍然存在一些与前身类似的许可和版税问题需要解决。与 H.265 相比，在相同的感知质量下，H.266 能够将比特率降低 30% 至 50%。</li>\n<li><strong>VP9</strong> VP9 作为 VP8 的后继产品，主要竞争对手是 MPEG 的高效视频编码标准 HEVC。</li>\n<li><strong>AV1</strong> 旨在提供更高效的压缩和更好的视频质量。它免版税且开源，效率比 VP9 高 30%。</li>\n</ul>\n<p>对比：</p>\n<ol>\n<li>压缩效率：H.265和AV1相对于H.264、MPEG-2、MPEG-4和VP9具有更高的压缩效率，可以在相同的视频质量下减少更多的码率，从而减少带宽和存储需求。</li>\n<li>支持的分辨率和帧率：H.264、MPEG-2、MPEG-4和VP9支持较低的分辨率和帧率，而H.265和AV1支持更高的分辨率和帧率，例如4K和8K视频。</li>\n<li>编码延迟：H.265和AV1相对于H.264、MPEG-2、MPEG-4和VP9具有更高的编码延迟，这意味着它们需要更长的时间来编码视频，这可能会影响实时视频流应用。</li>\n<li><strong>编码复杂度</strong>：H.265和AV1相对于H.264、MPEG-2、MPEG-4和VP9具有更高的编码复杂度，这意味着需要更强的计算能力来进行编码。</li>\n<li>开放性：AV1是一种开放标准，由多个公司和组织共同开发，可以免费使用，而H.264、H.265、MPEG-2、MPEG-4和VP9则有专利和版权限制。<br>AV1和H.265的压缩比较高，所以编码较为复杂，延迟较高，计算量更高。</li>\n</ol>\n<p><strong>需要注意的是 MKV MP4 AVI 等等这些是音视频容器，和视频编码不是一个概念，视频容器是用来盛放各种视频流、音频流、字幕等等数据的“容器”。不同的容器里面可能包含着相同的视频流。</strong></p>\n</blockquote>\n<p>编码器将多张图像进行编码后生产成一段一段的 GOP ( Group of Pictures ) ， 解码器在播放时则是读取一段一段的 GOP 进行解码后读取画面再渲染显示。<br>GOP ( Group of Pictures) 是一组连续的画面，由一张 I 帧和数张 B &#x2F; P 帧组成，是视频图像编码器和解码器存取的基本单位，它的排列顺序将会一直重复到影像结束。</p>\n<ul>\n<li><strong>I 帧</strong>是内部编码帧（也称为关键帧）是一个完整的图像帧，它独立于其他帧存在。I帧不依赖于其他帧的信息即可独立解码，类似于静态图像，可以视为视频序列中的一个参考点。由于I帧包含了完整的图像信息，其压缩率相对较低，但在解码时最为简单，因为它不涉及对其他帧的依赖。</li>\n<li><strong>P 帧</strong>是前向预测帧（前向参考帧）依赖于前面的I帧或P帧来生成。P帧存储的是与前一帧相比图像的变化量，因此它的压缩效果通常比I帧更好。在解码P帧时，需要先解码它所依赖的I帧或P帧，然后根据这些信息来重建当前帧的画面。P帧的引入有效减少了时间维度上的冗余，提高了视频的压缩效率。</li>\n<li><strong>B 帧</strong>是双向内插帧（双向参考帧）需要参考前后的I帧或P帧来生成。B帧利用前后帧的信息来预测当前帧的内容，从而实现更高的压缩比。由于B帧的解码需要前后帧的信息，它不能独立解码，必须在解码序列中结合I帧和P帧来完成。<br>简单地讲，I 帧是一个完整的画面，而 P 帧和 B 帧记录的是相对于 I 帧的变化。如果没有 I 帧，P 帧和 B 帧就无法解码。</li>\n</ul>\n<p>在H.264压缩标准中I帧、P帧、B帧用于表示传输的视频画面。<br><img src=\"/2024/2f262a28/image-20240721152541316.png\"></p>\n<h2 id=\"GOP-和-IDR\"><a href=\"#GOP-和-IDR\" class=\"headerlink\" title=\"GOP 和 IDR\"></a>GOP 和 IDR</h2><p>在H264中图像以<strong>序列</strong>为单位进行组织，一个序列是一段图像编码后的数据流。<br>一个序列的第一个图像叫做 <strong>IDR 图像</strong>（<strong>立即刷新图像</strong>），IDR 图像都是 I 帧图像。H.264 引入 IDR 图像是为了解码的重同步，当解码器解码到 IDR 图像时，立即将参考帧队列清空，将已解码的数据全部输出或抛弃，重新查找参数集，开始一个新的序列。这样，如果前一个序列出现重大错误，在这里可以获得重新同步的机会。IDR图像之后的图像永远不会使用IDR之前的图像的数据来解码。<br>一个序列就是一段内容差异不太大的图像编码后生成的一串数据流。当运动变化比较少时，一个序列可以很长，因为运动变化少就代表图像画面的内容变动很小，所以就可以编一个I帧，然后一直P帧、B帧了。当运动变化多时，可能一个序列就比较短了，比如就包含一个I帧和3、4个P帧。<br>在视频编码序列中，GOP即Group of picture（<strong>图像组</strong>），指两个I帧之间的距离，Reference（<strong>参考周期</strong>）指两个P帧之间的距离。两个I帧之间形成一组图片，就是GOP（Group Of Picture）。</p>\n<p>【GOP示意图】<br><img src=\"/2024/2f262a28/image-20240721161215632.png\" alt=\"alt\"></p>\n<h2 id=\"I帧\"><a href=\"#I帧\" class=\"headerlink\" title=\"I帧\"></a>I帧</h2><p>I帧:即Intra-coded picture（<strong>帧内编码图像帧</strong>），I帧表示关键帧，你可以理解为这一帧画面的完整保留；解码时只需要本帧数据就可以完成（因为包含完整画面）。又称为内部画面 (intra picture)，I 帧通常是每个 GOP（MPEG 所使用的一种视频压缩技术）的第一个帧，经过适度地压缩，做为随机访问的参考点，可以当成图象。在MPEG编码的过程中，部分视频帧序列压缩成为I帧；部分压缩成P帧；还有部分压缩成B帧。I帧法是帧内压缩法，也称为“关键帧”压缩法。I帧法是基于离散余弦变换DCT（Discrete Cosine Transform）的压缩技术，这种算法与JPEG压缩算法类似。采用I帧压缩可达到1&#x2F;6的压缩比而无明显的压缩痕迹。</p>\n<p>【<strong>I帧特点</strong>】<br>　　1.它是一个全帧压缩编码帧。它将全帧图像信息进行JPEG压缩编码及传输;<br>　　2.解码时仅用I帧的数据就可重构完整图像;<br>　　3.I帧描述了图像背景和运动主体的详情;<br>　　4.I帧不需要参考其他画面而生成;<br>　　5.I帧是P帧和B帧的参考帧(其质量直接影响到同组中以后各帧的质量);<br>　　6.I帧是帧组GOP的基础帧(第一帧),在一组中只有一个I帧;<br>　　7.I帧不需要考虑运动矢量;<br>　　8.I帧所占数据的信息量比较大。</p>\n<p>【<strong>I帧编码流程</strong>】<br>　　(1)进行帧内预测，决定所采用的帧内预测模式。<br>　　(2)像素值减去预测值，得到残差。<br>　　(3)对残差进行变换和量化。<br>　　(4)变长编码和算术编码。<br>　　(5)重构图像并滤波，得到的图像作为其它帧的参考帧。</p>\n<p>例如：在视频会议系统中，终端发送给MCU（或者MCU发送给终端）的图像，并不是每次都把完整的一幅幅图片发送到远端，而只是发送后一幅画面在前一幅画面基础上发生变化的部分。如果在网络状况不好的情况下，终端的接收远端或者发送给远程的画面就会有丢包而出现图像花屏、图像卡顿的现象，在这种情况下如果没有I帧机制来让远端重新发一幅新的完整的图像到本地（或者本地重新发一幅新的完整的图像给远端），终端的输出图像的花屏、卡顿现象会越来越严重，从而造成会议无法正常进行。<br>在视频画面播放过程中，若I帧丢失了，则后面的P帧也就随着解不出来，就会出现视频画面黑屏的现象；若P帧丢失了，则视频画面会出现花屏、马赛克等现象。<br>在视频会议系统中I帧只会在会议限定的带宽内发生，不会超越会议带宽而生效。I帧机制不仅存在于MCU中，电视墙服务器、录播服务器中也存在。就是为了解决在网络状况不好的情况下，出现的丢包而造成的如图像花屏、卡顿，而影响会议会正常进行。</p>\n<h2 id=\"P-帧\"><a href=\"#P-帧\" class=\"headerlink\" title=\"P 帧\"></a>P 帧</h2><p>P帧:即Predictive-coded Picture（<strong>前向预测编码图像帧</strong>）。P帧表示的是这一帧跟之前的一个关键帧（或P帧）的差别，解码时需要用之前缓存的画面叠加上本帧定义的差别，生成最终画面。（也就是差别帧，P帧没有完整画面数据，只有与前一帧的画面差别的数据）</p>\n<p><img src=\"/2024/2f262a28/image-20240721162346288.png\"></p>\n<p>【<strong>P帧的预测与重构</strong>】<br>　　P帧是以I帧为参考帧,在I帧中找出P帧“某点”的预测值和运动矢量,取预测差值和运动矢量一起传送。在接收端根据运动矢量从I帧中找出P帧“某点”的预测值并与差值相加以得到P帧“某点”样值,从而可得到完整的P帧。</p>\n<p>【<strong>P帧特点</strong>】<br>　　1.P帧是I帧后面相隔1~2帧的编码帧;<br>　　2.P帧采用运动补偿的方法传送它与前面的I或P帧的差值及运动矢量(预测误差);<br>　　3.解码时必须将I帧中的预测值与预测误差求和后才能重构完整的P帧图像;<br>　　4.P帧属于前向预测的帧间编码。它只参考前面最靠近它的I帧或P帧;<br>　　5.P帧可以是其后面P帧的参考帧,也可以是其前后的B帧的参考帧;<br>　　6.由于P帧是参考帧,它可能造成解码错误的扩散;<br>　　7.由于是差值传送,P帧的压缩比较高。</p>\n<h2 id=\"B帧\"><a href=\"#B帧\" class=\"headerlink\" title=\"B帧\"></a>B帧</h2><p>B帧:即Bidirectionally predicted picture（<strong>双向预测编码图像帧</strong>)。B帧是双向差别帧，也就是B帧记录的是本帧与前后帧的差别，换言之，<strong>要解码B帧，不仅要取得之前的缓存画面，还要解码之后的画面</strong>，通过前后画面的与本帧数据的叠加取得最终的画面。B帧压缩率高，但是解码时CPU会比较累。<strong>无论是从编码侧还是解码侧看，B帧都是资源密集型</strong></p>\n<p><img src=\"/2024/2f262a28/image-20240721162537729.png\"></p>\n<p>【<strong>B帧的预测与重构</strong>】<br><strong>B帧以前面的I或P帧和后面的P帧为参考帧</strong>,“找出”B帧“某点”的预测值和两个运动矢量,并取预测差值和运动矢量传送。接收端根据运动矢量在两个参考帧中“找出(算出)”预测值并与差值求和,得到B帧“某点”样值,从而可得到完整的B帧。采用运动预测的方式进行帧间双向预测编码</p>\n<p>【<strong>B帧特点</strong>】<br>　　1.B帧是由前面的I或P帧和后面的P帧来进行预测的;<br>　　2.B帧传送的是<strong>它与前面的I帧或P帧和后面的P帧之间的预测误差及运动矢量</strong>;<br>　　3.B帧是双向预测编码帧;<br>　　4.B帧压缩比最高,因为它只反映丙参考帧间运动主体的变化情况,预测比较准确;<br>　　5.B帧不是参考帧,不会造成解码错误的扩散</p>\n<p>【<strong>为什么需要B帧</strong>】</p>\n<p> 从上面的看，我们知道I和P的解码算法比较简单，资源占用也比较少，I只要自己完成就行了，P呢，也只需要解码器把前一个画面缓存一下，遇到P时就使用之前缓存的画面就好了，如果视频流只有I和P，解码器可以不管后面的数据，边读边解码，线性前进，大家很舒服。那么为什么还要引入B帧？</p>\n<p>网络上的电影很多都采用了B帧，因为B帧记录的是前后帧的差别，<strong>比P帧能节约更多的空间</strong>，但这样一来，文件小了，解码器就麻烦了，因为在解码时，不仅要用之前缓存的画面，还要知道下一个I或者P的画面（也就是说要预读预解码），而且，B帧不能简单地丢掉，因为B帧其实也包含了画面信息，如果简单丢掉，并用之前的画面简单重复，就会造成画面卡（其实就是丢帧了），并且由于网络上的电影为了节约空间，往往使用相当多的B帧，B帧用的多，对不支持B帧的播放器就造成更大的困扰，画面也就越卡。</p>\n<p>【<strong>显示和解码顺序示意图</strong>】<br><img src=\"/2024/2f262a28/image-20240721162803162.png\"></p>\n<h2 id=\"PTS-DTS\"><a href=\"#PTS-DTS\" class=\"headerlink\" title=\"PTS DTS\"></a>PTS DTS</h2><p>【<strong>为什么会有PTS和DTS的概念</strong>】</p>\n<p>通过上面的描述可以看出：P帧需要参考前面的I帧或P帧才可以生成一张完整的图片，而B帧则需要参考前面I帧或P帧及其后面的一个P帧才可以生成一张完整的图片。这样就带来了一个问题：在视频流中，先到来的 B 帧无法立即解码，需要等待它依赖的后面的 I、P 帧先解码完成，这样一来播放时间与解码时间不一致了，顺序打乱了，那这些帧该如何播放呢？这时就引入了另外两个概念：DTS 和 PTS。</p>\n<p>【<strong>PTS和DTS</strong>】</p>\n<p>先来了解一下PTS和DTS的基本概念：</p>\n<p><strong>DTS（Decoding Time Stamp）</strong>：即<strong>解码时间戳</strong>，这个时间戳的意义在于告诉播放器该在什么时候解码这一帧的数据。<br><strong>PTS（Presentation Time Stamp）</strong>：即<strong>显示时间戳</strong>，这个时间戳用来告诉播放器该在什么时候显示这一帧的数据。</p>\n<p>虽然 DTS、PTS 是用于指导播放端的行为，但它们是在编码的时候由编码器生成的。</p>\n<p>在视频采集的时候是录制一帧就编码一帧发送一帧的，在编码的时候会生成 PTS，这里需要特别注意的是 frame（帧）的编码方式，在通常的场景中，编解码器编码一个 I 帧，然后向后跳过几个帧，用编码 I 帧作为基准帧对一个未来 P 帧进行编码，然后跳回到 I 帧之后的下一个帧。编码的 I 帧和 P 帧之间的帧被编码为 B 帧。之后，编码器会再次跳过几个帧，使用第一个 P 帧作为基准帧编码另外一个 P 帧，然后再次跳回，用 B 帧填充显示序列中的空隙。这个过程不断继续，每 12 到 15 个 P 帧和 B 帧内插入一个新的 I 帧。P 帧由前一个 I 帧或 P 帧图像来预测，而 B 帧由前后的两个 P 帧或一个 I 帧和一个 P 帧来预测，因而编解码和帧的显示顺序有所不同，如下所示：</p>\n<p><img src=\"/2024/2f262a28/image-20240721163414484.png\"></p>\n<p>假设编码器采集到的帧是这个样子的：<br><code> I B B P B B P </code></p>\n<p>那么它的显示顺序，也就是PTS应该是这样：<br><code> 1 2 3 4 5 6 7  </code></p>\n<p>编码器的编码顺序是：<br><code> 1 4 2 3 7 5 6 </code></p>\n<p>推流顺序也是按照编码顺序去推的，即<br><code> I P B B P B B </code></p>\n<p>那么接收断收到的视频流也就是<br><code> I P B B P B B </code></p>\n<p>这时候去解码，也是按照收到的视频流一帧一帧去解的了，接收一帧解码一帧，因为在编码的时候已经按照 I、B、P 的依赖关系编好了，接收到数据直接解码就好了。那么解码顺序是：</p>\n<figure class=\"highlight text\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs text\">     I P B B P B B<br>DTS：1 2 3 4 5 6 7<br>PTS：1 4 2 3 7 5 6<br></code></pre></td></tr></table></figure>\n\n\n<p>可以看到解码出来对应的 PTS 不是顺序的，为了正确显示视频流，这时候我们就必须按照 PTS 重新调整解码后的 frame(帧)，即</p>\n<figure class=\"highlight text\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs text\">     I B B P B B P<br>DTS：1 3 4 2 6 7 5<br>PTS：1 2 3 4 5 6 7<br></code></pre></td></tr></table></figure>\n\n\n<p>另外，并不是一定要使用B帧。<strong>在实时互动直播系统中，很少使用B帧</strong>。主要的原因是压缩和解码B帧时，由于要双向参考，所以它需要缓冲更多的数据，且使用的CPU也会更高。由于实时性的要求，所以一般不使用它。不过对于播放器来说，遇到带有B帧的H264数据是常有的事儿。在没有B帧的情况下，存放帧的顺序和显示帧的顺序就是一样的，PTS和DTS的值也是一样的。</p>\n",
            "tags": [
                "audio",
                "video"
            ]
        },
        {
            "id": "https://www.oikiou.top/2024/4ce716c0/",
            "url": "https://www.oikiou.top/2024/4ce716c0/",
            "title": "Flash磨损均衡",
            "date_published": "2024-06-04T14:57:15.000Z",
            "content_html": "<h1 id=\"Flash磨损均衡\"><a href=\"#Flash磨损均衡\" class=\"headerlink\" title=\"Flash磨损均衡\"></a>Flash磨损均衡</h1><h1 id=\"flash-原理和部分名称\"><a href=\"#flash-原理和部分名称\" class=\"headerlink\" title=\"flash 原理和部分名称\"></a>flash 原理和部分名称</h1><p><img src=\"/2024/4ce716c0/image-20240604163634862.png\"></p>\n<ul>\n<li><strong>package</strong> 是存储芯片，即带有电连接器的小黑色矩形。</li>\n<li><strong>dies</strong> 每个<code>package</code>包含一个或多个<code>die</code>（例如一个、两个或四个）。<code>die</code> 是可以独立执行命令或报告状态的最小单元。</li>\n<li><strong>planes</strong>每个芯片包含一个或多个<code>planes</code> （通常为一或两个）。每个<code>planes</code>上都可以进行相同的并发操作，但有一些限制。</li>\n<li><strong>blocks</strong> 每个<code>planes</code>包含若干个<code>block</code> ，<code>block</code><strong>是可以擦除的最小单位</strong>。</li>\n<li><strong>pages</strong>每个<code>block</code>包含若干个 <code>page</code>，<code>page</code>是可进行编程（即写入）的最小单位。</li>\n</ul>\n<p><strong>磨损均衡 可实现的 底层原理是（同一个块）一次擦除，多次写入。</strong></p>\n<p>擦除是将任意内容改成0xff，即全1状态。<br>你可以对一个page执行多次写入，但是需要注意的是写入仅能将1改成0，<strong>无法将0改成1</strong>。</p>\n<blockquote>\n<p>EEPROM可以单字节（或者四字节）写，而FLASH只能按整个blocks擦除，另外EEPROM一般有100万次的读写寿命，而FLASH只有10万次；</p>\n</blockquote>\n<h1 id=\"一些简单实现的Demo\"><a href=\"#一些简单实现的Demo\" class=\"headerlink\" title=\"一些简单实现的Demo\"></a>一些简单实现的Demo</h1><p>这些demo只是头脑风暴的一些实现，仅仅是一个思路，具体实现还需要完善很多的细节。</p>\n<p><a href=\"Flash%E7%A3%A8%E6%8D%9F%E5%9D%87%E8%A1%A1.assets/flash%E7%9A%84%E7%A3%A8%E6%8D%9F%E5%9D%87%E8%A1%A1.drawio\">draw.io 源文件</a></p>\n<h2 id=\"数据长度固定\"><a href=\"#数据长度固定\" class=\"headerlink\" title=\"数据长度固定\"></a>数据长度固定</h2><p>数据长度固定，使用bitmap记录数据状态。</p>\n<p><img src=\"/2024/4ce716c0/image-20240604162704326.png\"></p>\n<p><img src=\"/2024/4ce716c0/image-20240604175346112.png\"><br><img src=\"/2024/4ce716c0/image-20240604175403042.png\"></p>\n<h2 id=\"数据长度可变\"><a href=\"#数据长度可变\" class=\"headerlink\" title=\"数据长度可变\"></a>数据长度可变</h2><p><img src=\"/2024/4ce716c0/image-20240604181628435.png\"></p>\n<h1 id=\"一些高性能的磨损均衡算法-SSD-Wear-Leveling\"><a href=\"#一些高性能的磨损均衡算法-SSD-Wear-Leveling\" class=\"headerlink\" title=\"一些高性能的磨损均衡算法 SSD Wear Leveling\"></a>一些高性能的磨损均衡算法 SSD Wear Leveling</h1><p>Flash采取<strong>异地更新</strong>的策略 ,更新的数据会被放到别的物理页上,而不是覆盖原来的数据。包含新版本数据的页被称为<strong>有效页</strong>,新版本数据被称为<strong>有效数据</strong>。包含旧版本数据的页被称为<strong>无效页</strong>，或称为脏页，脏页经过擦除操作后成为空闲页，才可以重新写入数据。因为Flash是<strong>以块为单位执行擦除</strong>的，因此需要将脏页所在块上的所有物理页都擦除，在擦除之前需要检查此块上是否存在有效页，如果存在就必须先转移到其他块上。因为每个Flash块的擦除次数有限，一般是在10 万次到100万次之间，只要有块的擦除次数达到了上限，Flash数据存储的性能将下降。所以必须想办法，使<strong>擦除操作平均作用在每个Flash块上</strong>，这种方法就是磨损均衡(wear-leveling)算法。</p>\n<p>我们在应用Flash时，实际上访问的是Flash的逻辑地址，在逻辑地址和物理地址之间，存在着映射关系。数据更新后只需改变映射表中物理页的地址，并将原版本数据所在的物理页标为无效。对于经常被更新的数据块，我们称之为<strong>“热”数据块</strong>，对长期得不到更新的数据块，称之为<strong>“冷”数据块</strong>。数据块经常更新的话，就会经常被擦除，而长期不更行的数据块，不会出现脏页而被擦除，其擦除次数会明显少于存放着经常被更新数据的块。如何实现“冷热”数据存放位置的交换是磨损均衡处理中需要考虑的问题。</p>\n<p>目前常用的磨损均衡算法大致分为两类，一类是随机性算法，一类是确定性算法。</p>\n<ul>\n<li>对于随机性算法，其原理为：在每次写或擦除操作后，按照某一概率来触发磨损均衡处理。按照均匀分布的概率，<strong>随机选择某个块执行擦除操作</strong>。不论块上放的是“冷”数据还是“热”数据,让每个块得到相等的擦除机会。最后将选中块上的有效数据复制到空块后擦除此块。将数据移动到哪个空闲块上,也是随机选择,因为没有记录块的擦除情况,存在将“冷”数据又移动到一个“冷”块上的情况,结果此块并没有增加擦除次数, 这种情况尤其会发生在有大量“冷”数据的系统里。</li>\n<li>对于确定性算法，又分为周期性和全局性两种，其中<strong>周期性算法</strong>的原理为：将Flash的寿命看做是一个接一个的磨损均衡周期组成的。在一个处理周期中，达到规定的擦除次数的块在这一轮周期中将不会被选中，这样可使各个块都达到相同的擦除次数，再开始下一个擦除周期。通过调整Flash块的规定擦除次数，可以使整个Flash能够达到理想的磨损均衡。<strong>全局性算法</strong>的原理为：不划分处理周期，在一个全局范围内控制块的磨损均衡。当任何两个块的擦除次数之差超过一个给定的阈值时，或者当某块的擦除次数超过了所有块的平均擦除次数时，启动磨损均衡处理，将擦除次数少的块上的数据和擦除次数多的块上的数据进行交换。如果块上存放的是“冷”数据，即数据很少被更新，则该块上的数据不易变脏，很少得到擦除的机会。相反，如果该块上存放的是“热”数据，则该块上的数据经常被更新，经常得到擦除脏数据的机会。根据这个原理来交换“冷热”数据，从而实现磨损均衡。</li>\n</ul>\n<p>对比两类磨损均衡算法，可以看出：随机性算法的效果受随机因素影响较大，在擦除前，并不知道各个块被擦除的情况，同时对逻辑页的随机性请求并不能做到完全等概率，所以虽然随机性算法是等概率地选择处理页，但每个块的擦除次数并不能达到等概率分布，不能达到很好的磨损均衡效果。确定性算法因记录了物理块的擦除次数，故在处理中可根据这些信息来作出调整决策，各块基本达到了相近的擦除次数，磨损均衡的效果明显好于随机性算法。但这是在消耗大量内存开销的基础上实现的。</p>\n<p>根据以上讨论的情况，可以看出，必须结合两类算法的优势，来实现效果较好的磨损均衡处理，才能既保证Flash的读写速度，又能保证Flash的使用寿命，这将是决定固态存储能否全面战胜机械硬盘的关键之战。</p>\n<h1 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h1><p>Understanding Flash: Blocks, Pages and Program &#x2F; Erases<br><a href=\"https://flashdba.com/2014/06/20/understanding-flash-blocks-pages-and-program-erases/\">https://flashdba.com/2014/06/20/understanding-flash-blocks-pages-and-program-erases/</a><br>Flash存储器磨损均衡原理及实现<br><a href=\"https://blog.csdn.net/csdliqi/article/details/80361163\">https://blog.csdn.net/csdliqi/article/details/80361163</a><br>深入解析SSD Wear Leveling磨损均衡技术：如何让你的硬盘更长寿？<br><a href=\"https://blog.csdn.net/zhuzongpeng/article/details/134520307\">https://blog.csdn.net/zhuzongpeng/article/details/134520307</a></p>\n",
            "tags": [
                "flash"
            ]
        },
        {
            "id": "https://www.oikiou.top/2024/5b8b4de/",
            "url": "https://www.oikiou.top/2024/5b8b4de/",
            "title": "RT-Thread 宝藏之Ringblk组件",
            "date_published": "2024-06-04T14:57:15.000Z",
            "content_html": "<h1 id=\"RT-Thread-宝藏之ringblk组件\"><a href=\"#RT-Thread-宝藏之ringblk组件\" class=\"headerlink\" title=\"RT-Thread 宝藏之ringblk组件\"></a>RT-Thread 宝藏之ringblk组件</h1><h1 id=\"序言\"><a href=\"#序言\" class=\"headerlink\" title=\"序言\"></a>序言</h1><p>ringblk是什么？<br>ringblk &#x3D; ring block(环形块缓冲区)，它的缓冲区的单位是一个 <code>block</code> , 每次对数据的操作都是以 <code>block</code> 为单位。</p>\n<blockquote>\n<p>还有一个更加常见的 <code>ringbuf</code>(环形缓冲区，一种数据结构)。<code>ringbuf</code>就是比较常见的先入先出（FIFO，First-In-First-Out）的环形缓冲区。</p>\n<p>下面是两者的一些对比：</p>\n<ol>\n<li><strong>数据存储方式</strong>：<ul>\n<li><code>ringbuf</code>：传统的环形缓冲区，通常由固定大小的单字节组成，数据以连续的方式存储。</li>\n<li><code>ringblk</code>：环形块缓冲区，由多个大小不一的数据块组成，每个块可以包含多个字节。</li>\n</ul>\n</li>\n<li><strong>内存效率</strong>：<ul>\n<li><code>ringbuf</code>：可能需要更多的内存拷贝操作，因为它通常以单字节为单位操作数据。</li>\n<li><code>ringblk</code>：设计用于减少内存拷贝，通过块操作可以提高内存使用效率。</li>\n</ul>\n</li>\n<li><strong>适用场景</strong>：</li>\n</ol>\n<ul>\n<li><code>ringbuf</code>：适用于简单的数据流处理，如字符设备驱动程序。</li>\n<li><code>ringblk</code>：适用于需要高效处理大块数据的场景，如DMA传输、通信帧的接收与发送、网络通信等。</li>\n</ul>\n<ol start=\"4\">\n<li><strong>性能</strong>：  <ul>\n<li><code>ringbuf</code>：在处理小数据或字符流时可能表现良好。</li>\n<li><code>ringblk</code>：由于减少了内存拷贝（零字节拷贝zero-copy），可能在处理大块数据时提供更好的性能。</li>\n</ul>\n</li>\n</ol>\n<p><code>ringblk</code>提供了更高级的特性，特别是在处理大块数据和需要高效率数据传输的场景中。<br>而<code>ringbuf</code>则适用于对简单连续数据流的处理。</p>\n</blockquote>\n<p><a href=\"https://www.rt-thread.org/document/api/group__ring__block__buffer.html\">RT-Thread 环形块状缓冲区 参考资料</a></p>\n",
            "tags": [
                "rtos",
                "rt-thread"
            ]
        },
        {
            "id": "https://www.oikiou.top/2024/f17585eb/",
            "url": "https://www.oikiou.top/2024/f17585eb/",
            "title": "AES",
            "date_published": "2024-03-23T14:57:15.000Z",
            "content_html": "<h1 id=\"AES\"><a href=\"#AES\" class=\"headerlink\" title=\"AES\"></a>AES</h1><p>高级加密标准( AES  <strong>Advanced Encryption Standard</strong>)，原名Rijndael，是美国国家标准与技术研究所(NIST) 在 2017 年制定的电子数据加密规范。</p>\n<p>AES已被美国政府采用。它取代了1977 年发布的数据加密标准(DES) 。<br>AES 描述的算法是对称密钥算法，这意味着相同的密钥用于加密和解密数据。</p>\n<p>一些特性</p>\n<ul>\n<li>对称加密，加密解密使用同样的密钥</li>\n<li>分组加密，将明文分块成若干个数据块，分块加密（块大小固定为128位 16Byte）</li>\n<li>密钥长度可选128位、192位、256位，分别对应于10轮循环、12轮循环、14轮循环</li>\n</ul>\n<h1 id=\"加密过程\"><a href=\"#加密过程\" class=\"headerlink\" title=\"加密过程\"></a>加密过程</h1><p><img src=\"/2024/f17585eb/image-20240323184445497.png\"></p>\n<ul>\n<li>最终轮运算有些不同的是它只执行 1、2、4，不执行3。</li>\n</ul>\n<p><img src=\"/2024/f17585eb/image-20240323201021478.png\"></p>\n<h1 id=\"解密\"><a href=\"#解密\" class=\"headerlink\" title=\"解密\"></a>解密</h1><p>解密为加密的完全逆过程</p>\n<blockquote>\n<p>这个图从下往上看</p>\n</blockquote>\n<p><img src=\"/2024/f17585eb/image-20240323203852410.png\"></p>\n",
            "tags": [
                "aes"
            ]
        },
        {
            "id": "https://www.oikiou.top/2024/b58cbef5/",
            "url": "https://www.oikiou.top/2024/b58cbef5/",
            "title": "Obsidian",
            "date_published": "2024-03-08T02:23:15.000Z",
            "content_html": "<h1 id=\"一些格式问题\"><a href=\"#一些格式问题\" class=\"headerlink\" title=\"一些格式问题\"></a>一些格式问题</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"%%\"></a>%%</h2><p>两个百分号在html中是“一个模板引擎系统，其语法基于jinja。”</p>\n<ul>\n<li>Obsidian 会默认把CRLF的换行符自动转换成LF的<br>   我们需要将单独这个仓库的git配置成<code>autocrlf = false</code>以保证换行符的统一。</li>\n</ul>\n",
            "tags": [
                "markdown",
                "obsidian"
            ]
        },
        {
            "id": "https://www.oikiou.top/2024/ee69e452/",
            "url": "https://www.oikiou.top/2024/ee69e452/",
            "title": "CSS",
            "date_published": "2024-02-26T00:08:08.000Z",
            "content_html": "<h1 id=\"JS-JavaScript\"><a href=\"#JS-JavaScript\" class=\"headerlink\" title=\"JS (JavaScript)\"></a>JS (JavaScript)</h1><h1 id=\"JS-简介\"><a href=\"#JS-简介\" class=\"headerlink\" title=\"JS 简介\"></a>JS 简介</h1><p>JavaScript 是 web 开发人员必须学习的 3 门语言中的一门：</p>\n<ol>\n<li><strong>HTML</strong> 定义了网页的内容</li>\n<li><strong>CSS</strong> 描述了网页的布局</li>\n<li><strong>JavaScript</strong> 控制了网页的行为</li>\n</ol>\n<h2 id=\"JS-特性\"><a href=\"#JS-特性\" class=\"headerlink\" title=\"JS 特性\"></a>JS 特性</h2><ul>\n<li>JavaScript 是脚本语言</li>\n<li>JavaScript 是互联网上最流行的脚本语言，这门语言可用于 HTML 和 web，更可广泛用于服务器、PC、笔记本电脑、平板电脑和智能手机等设备。</li>\n<li>JavaScript 是一种轻量级的编程语言。</li>\n<li>JavaScript 是可插入 HTML 页面的编程代码。</li>\n<li>JavaScript 插入 HTML 页面后，可由所有的现代浏览器执行。</li>\n<li>JavaScript 很容易学习。</li>\n</ul>\n",
            "tags": [
                "html",
                "web",
                "js"
            ]
        },
        {
            "id": "https://www.oikiou.top/2024/ee69e452/",
            "url": "https://www.oikiou.top/2024/ee69e452/",
            "title": "CSS",
            "date_published": "2024-02-21T00:08:08.000Z",
            "content_html": "<h1 id=\"CSS-Cascading-Style-Sheets\"><a href=\"#CSS-Cascading-Style-Sheets\" class=\"headerlink\" title=\"CSS (Cascading Style Sheets)\"></a>CSS (Cascading Style Sheets)</h1>",
            "tags": [
                "css",
                "html",
                "web"
            ]
        },
        {
            "id": "https://www.oikiou.top/2024/2eec1551/",
            "url": "https://www.oikiou.top/2024/2eec1551/",
            "title": "HTML",
            "date_published": "2024-02-21T00:08:08.000Z",
            "content_html": "<h1 id=\"HTML\"><a href=\"#HTML\" class=\"headerlink\" title=\"HTML\"></a>HTML</h1><h1 id=\"HTML-概述\"><a href=\"#HTML-概述\" class=\"headerlink\" title=\"HTML 概述\"></a>HTML 概述</h1><h2 id=\"HTML-是什么\"><a href=\"#HTML-是什么\" class=\"headerlink\" title=\"HTML 是什么\"></a>HTML 是什么</h2><p>HTML 是用来描述网页的一种语言。</p>\n<ul>\n<li>HTML 指的是超文本标记语言: <strong>H</strong>yper<strong>T</strong>ext <strong>M</strong>arkup <strong>L</strong>anguage</li>\n<li>HTML 不是一种编程语言，而是一种<strong>标记</strong>语言</li>\n<li>标记语言是一套<strong>标记标签</strong> (markup tag)</li>\n<li>HTML 使用标记标签来<strong>描述</strong>网页</li>\n<li>HTML 文档包含了HTML <strong>标签</strong>及<strong>文本</strong>内容</li>\n<li>HTML文档也叫做 <strong>web 页面</strong></li>\n</ul>\n<h2 id=\"HTML-标签\"><a href=\"#HTML-标签\" class=\"headerlink\" title=\"HTML 标签\"></a>HTML 标签</h2><p>HTML 标记标签通常被称为 HTML 标签 (HTML tag)。</p>\n<ul>\n<li>HTML 标签是由 <em>尖括号</em> 包围的关键词，比如 <code>&lt;html&gt;</code></li>\n<li>HTML 标签通常是 <em>成对出现</em> 的，比如<code> &lt;b&gt; </code>和 <code>&lt;/b&gt;</code></li>\n<li>标签对中的第一个标签是 <em>开始标签</em> ，第二个标签是 <em>结束标签</em></li>\n<li>开始和结束标签也被称为 <em>开放标签</em> 和 <em>闭合标签</em></li>\n</ul>\n<h2 id=\"HTML-页面结构\"><a href=\"#HTML-页面结构\" class=\"headerlink\" title=\"HTML 页面结构\"></a>HTML 页面结构</h2><p><img src=\"/2024/2eec1551/02A7DD95-22B4-4FB9-B994-DDB5393F7F03.jpg\" alt=\"img\"></p>\n<blockquote>\n<p>  只有 <code>&lt;body&gt;</code> 区域 才会在浏览器中显示。</p>\n</blockquote>\n<h3 id=\"声明\"><a href=\"#声明\" class=\"headerlink\" title=\"&lt;!DOCTYPE&gt; 声明\"></a>&lt;!DOCTYPE&gt; 声明</h3><p><code>&lt;!DOCTYPE&gt;</code>声明用于标识网页文件，<code>&lt;!DOCTYPE&gt;</code> 是文档类型声明（Document Type Declaration）的缩写。</p>\n<p>网络上有很多不同的文件，如果能够正确声明HTML的版本，浏览器就能正确显示网页内容。</p>\n<p>doctype 声明是不区分大小写的。</p>\n<p><strong>HTML5</strong></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-meta\">&lt;!DOCTYPE <span class=\"hljs-keyword\">html</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n<p><strong>HTML 4.01</strong></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-meta\">&lt;!DOCTYPE <span class=\"hljs-keyword\">HTML</span> <span class=\"hljs-keyword\">PUBLIC</span> <span class=\"hljs-string\">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></span><br><span class=\"hljs-meta\"><span class=\"hljs-string\">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n<p><strong>XHTML 1.0</strong></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-meta\">&lt;!DOCTYPE <span class=\"hljs-keyword\">html</span> <span class=\"hljs-keyword\">PUBLIC</span> <span class=\"hljs-string\">&quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;</span></span><br><span class=\"hljs-meta\"><span class=\"hljs-string\">&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"charset-编码格式\"><a href=\"#charset-编码格式\" class=\"headerlink\" title=\"charset 编码格式\"></a>charset 编码格式</h3><p>指定html文件的编码格式 UTF-8 或 GBK …</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">charset</span>=<span class=\"hljs-string\">&quot;UTF-8&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n\n\n<h1 id=\"HTML-元素\"><a href=\"#HTML-元素\" class=\"headerlink\" title=\"HTML 元素\"></a>HTML 元素</h1><h2 id=\"HTML元素的语法\"><a href=\"#HTML元素的语法\" class=\"headerlink\" title=\"HTML元素的语法\"></a>HTML元素的语法</h2><table>\n<thead>\n<tr>\n<th align=\"left\">开始标签 *</th>\n<th align=\"left\">元素内容</th>\n<th align=\"left\">结束标签 *</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><code>&lt;p&gt;</code></td>\n<td align=\"left\">这是一个段落</td>\n<td align=\"left\"><code>&lt;/p&gt;</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>&lt;a href=&quot;default.htm&quot;&gt;</code></td>\n<td align=\"left\">这是一个链接</td>\n<td align=\"left\"><code>&lt;/a&gt;</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>&lt;br&gt;</code></td>\n<td align=\"left\">换行</td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<p>**<em><strong>开始标签常被称为</strong>起始标签（opening tag）</em>*</p>\n<p>**<em><strong>结束标签常称为</strong>闭合标签（closing tag）</em>*</p>\n<h2 id=\"HTML元素的特性\"><a href=\"#HTML元素的特性\" class=\"headerlink\" title=\"HTML元素的特性\"></a>HTML元素的特性</h2><ul>\n<li>HTML 元素以<strong>开始标签</strong>起始</li>\n<li>HTML 元素以<strong>结束标签</strong>终止</li>\n<li><strong>元素的内容</strong>是开始标签与结束标签之间的内容</li>\n<li>某些 HTML 元素具有<strong>空内容（empty content）</strong></li>\n<li>空元素<strong>在开始标签中进行关闭</strong>（以开始标签的结束而结束）</li>\n<li>大多数 HTML 元素可拥有<strong>属性</strong></li>\n<li>不要忘记结束标签！</li>\n<li>在 XHTML、XML 以及未来版本的 HTML 中，所有元素都必须被关闭。</li>\n<li>HTML 标签对大小写不敏感：<code>&lt;P&gt;</code> 等同于 <code>&lt;p&gt;</code>。万维网联盟（W3C）在 HTML 4 中<strong>推荐使用小写</strong>，而在未来 HTML 版本中会强制使用小写。</li>\n</ul>\n<h2 id=\"示例\"><a href=\"#示例\" class=\"headerlink\" title=\"示例\"></a>示例</h2><p><strong>标题</strong></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h1</span>&gt;</span>这是一个标题<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h1</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n\n\n<h1 id=\"HTML-标签-1\"><a href=\"#HTML-标签-1\" class=\"headerlink\" title=\"HTML 标签\"></a>HTML 标签</h1><p>每个元素都有一个标签</p>\n<p><strong>标题</strong></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h1</span>&gt;</span>这是一个标题<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h1</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n<p><strong>段落</strong></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span>&gt;</span>这是一个段落。<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n<p><strong>链接</strong></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;https://www.oikiou.net&quot;</span>&gt;</span>这是一个链接<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n<p><strong>图像</strong></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">img</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">&quot;/images/logo.png&quot;</span> <span class=\"hljs-attr\">width</span>=<span class=\"hljs-string\">&quot;258&quot;</span> <span class=\"hljs-attr\">height</span>=<span class=\"hljs-string\">&quot;39&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure>\n\n<p><strong>注释</strong></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-comment\">&lt;!-- 这是一个注释 --&gt;</span><br></code></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"标签-List\"><a href=\"#标签-List\" class=\"headerlink\" title=\"标签 List\"></a>标签 List</h2><table>\n<thead>\n<tr>\n<th></th>\n<th align=\"left\">标签</th>\n<th align=\"left\">描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td align=\"left\"><strong>基础</strong></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td>☆</td>\n<td align=\"left\"><code>&lt;!DOCTYPE&gt;</code></td>\n<td align=\"left\">定义文档类型。</td>\n</tr>\n<tr>\n<td>☆</td>\n<td align=\"left\"><code>&lt;html&gt;</code></td>\n<td align=\"left\">定义一个 HTML 文档</td>\n</tr>\n<tr>\n<td>☆</td>\n<td align=\"left\"><code>&lt;title&gt;</code></td>\n<td align=\"left\">为文档定义一个标题</td>\n</tr>\n<tr>\n<td>☆</td>\n<td align=\"left\"><code>&lt;body&gt;</code></td>\n<td align=\"left\">定义文档的主体</td>\n</tr>\n<tr>\n<td>☆</td>\n<td align=\"left\"><code>&lt;h1&gt; to &lt;h6&gt;</code></td>\n<td align=\"left\">定义 HTML 标题</td>\n</tr>\n<tr>\n<td>☆</td>\n<td align=\"left\"><code>&lt;p&gt;</code></td>\n<td align=\"left\">定义一个段落</td>\n</tr>\n<tr>\n<td>☆</td>\n<td align=\"left\"><code>&lt;br&gt;</code></td>\n<td align=\"left\">定义简单的折行。</td>\n</tr>\n<tr>\n<td>☆</td>\n<td align=\"left\"><code>&lt;hr&gt;</code></td>\n<td align=\"left\">定义水平线。</td>\n</tr>\n<tr>\n<td>☆</td>\n<td align=\"left\"><code>&lt;!--...--&gt;</code></td>\n<td align=\"left\">定义一个注释</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><strong>格式</strong></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;acronym&gt;</code></td>\n<td align=\"left\">HTML5不再支持。 定义只取首字母的缩写。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;abbr&gt;</code></td>\n<td align=\"left\">定义一个缩写。</td>\n</tr>\n<tr>\n<td>☆</td>\n<td align=\"left\"><code>&lt;address&gt;</code></td>\n<td align=\"left\">定义文档作者或拥有者的联系信息。</td>\n</tr>\n<tr>\n<td>☆</td>\n<td align=\"left\"><code>&lt;b&gt;</code></td>\n<td align=\"left\">定义粗体文本。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;bdi&gt;</code></td>\n<td align=\"left\">允许您设置一段文本，使其脱离其父元素的文本方向设置。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;bdo&gt;</code></td>\n<td align=\"left\">定义文本的方向。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;big&gt;</code></td>\n<td align=\"left\">HTML5不再支持。 定义大号文本。</td>\n</tr>\n<tr>\n<td>☆</td>\n<td align=\"left\"><code>&lt;blockquote&gt;</code></td>\n<td align=\"left\">定义块引用。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;center&gt;</code></td>\n<td align=\"left\">HTML5不再支持。 HTML 4.01 已废弃。定义居中文本。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;cite&gt;</code></td>\n<td align=\"left\">定义引用(citation)。</td>\n</tr>\n<tr>\n<td>☆</td>\n<td align=\"left\"><code>&lt;code&gt;</code></td>\n<td align=\"left\">定义计算机代码文本。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;del&gt;</code></td>\n<td align=\"left\">定义被删除文本。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;dfn&gt;</code></td>\n<td align=\"left\">定义定义项目。</td>\n</tr>\n<tr>\n<td>☆</td>\n<td align=\"left\"><code>&lt;em&gt;</code></td>\n<td align=\"left\">定义强调文本。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;font&gt;</code></td>\n<td align=\"left\">HTML5不再支持。 HTML 4.01 已废弃。 定义文本的字体、尺寸和颜色</td>\n</tr>\n<tr>\n<td>☆</td>\n<td align=\"left\"><code>&lt;i&gt;</code></td>\n<td align=\"left\">定义斜体文本。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;ins&gt;</code></td>\n<td align=\"left\">定义被插入文本。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;kbd&gt;</code></td>\n<td align=\"left\">定义键盘文本。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;mark&gt;</code></td>\n<td align=\"left\">定义带有记号的文本。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;meter&gt;</code></td>\n<td align=\"left\">定义度量衡。仅用于已知最大和最小值的度量。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;pre&gt;</code></td>\n<td align=\"left\">定义预格式文本</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;progress&gt;</code></td>\n<td align=\"left\">定义运行中的任务进度（进程）。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;q&gt;</code></td>\n<td align=\"left\">定义短的引用。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;rp&gt;</code></td>\n<td align=\"left\">定义不支持 ruby 元素的浏览器所显示的内容。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;rt&gt;</code></td>\n<td align=\"left\">定义字符（中文注音或字符）的解释或发音。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;ruby&gt;</code></td>\n<td align=\"left\">定义 ruby 注释（中文注音或字符）。</td>\n</tr>\n<tr>\n<td>☆</td>\n<td align=\"left\"><code>&lt;s&gt;</code></td>\n<td align=\"left\">定义加删除线的文本。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;samp&gt;</code></td>\n<td align=\"left\">定义计算机代码样本。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;small&gt;</code></td>\n<td align=\"left\">定义小号文本。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;strike&gt;</code></td>\n<td align=\"left\">HTML5不再支持。 HTML 4.01 已废弃。 定义加删除线的文本。</td>\n</tr>\n<tr>\n<td>☆</td>\n<td align=\"left\"><code>&lt;strong&gt;</code></td>\n<td align=\"left\">定义语气更为强烈的强调文本。</td>\n</tr>\n<tr>\n<td>☆</td>\n<td align=\"left\"><code>&lt;sub&gt;</code></td>\n<td align=\"left\">定义下标文本。</td>\n</tr>\n<tr>\n<td>☆</td>\n<td align=\"left\"><code>&lt;sup&gt;</code></td>\n<td align=\"left\">定义上标文本。</td>\n</tr>\n<tr>\n<td>☆</td>\n<td align=\"left\"><code>&lt;time&gt;</code></td>\n<td align=\"left\">定义一个日期&#x2F;时间</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;tt&gt;</code></td>\n<td align=\"left\">HTML5不再支持。 定义打字机文本。</td>\n</tr>\n<tr>\n<td>☆</td>\n<td align=\"left\"><code>&lt;u&gt;</code></td>\n<td align=\"left\">定义下划线文本。</td>\n</tr>\n<tr>\n<td>☆</td>\n<td align=\"left\"><code>&lt;var&gt;</code></td>\n<td align=\"left\">定义文本的变量部分。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;wbr&gt;</code></td>\n<td align=\"left\">规定在文本中的何处适合添加换行符。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><strong>表单</strong></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;form&gt;</code></td>\n<td align=\"left\">定义一个 HTML 表单，用于用户输入。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;input&gt;</code></td>\n<td align=\"left\">定义一个输入控件</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;textarea&gt;</code></td>\n<td align=\"left\">定义多行的文本输入控件。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;button&gt;</code></td>\n<td align=\"left\">定义按钮。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;select&gt;</code></td>\n<td align=\"left\">定义选择列表（下拉列表）。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;optgroup&gt;</code></td>\n<td align=\"left\">定义选择列表中相关选项的组合。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;option&gt;</code></td>\n<td align=\"left\">定义选择列表中的选项。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;label&gt;</code></td>\n<td align=\"left\">定义 input 元素的标注。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;fieldset&gt;</code></td>\n<td align=\"left\">定义围绕表单中元素的边框。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;legend&gt;</code></td>\n<td align=\"left\">定义 fieldset 元素的标题。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;datalist&gt;</code></td>\n<td align=\"left\">规定了 input 元素可能的选项列表。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;keygen&gt;</code></td>\n<td align=\"left\">规定用于表单的密钥对生成器字段。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;output&gt;</code></td>\n<td align=\"left\">定义一个计算的结果</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><strong>框架</strong></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;frame&gt;</code></td>\n<td align=\"left\">HTML5不再支持。 定义框架集的窗口或框架。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;frameset&gt;</code></td>\n<td align=\"left\">HTML5不再支持。定义框架集。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;noframes&gt;</code></td>\n<td align=\"left\">HTML5不再支持。 定义针对不支持框架的用户的替代内容。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;iframe&gt;</code></td>\n<td align=\"left\">定义内联框架。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><strong>图像</strong></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;img&gt;</code></td>\n<td align=\"left\">定义图像。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;map&gt;</code></td>\n<td align=\"left\">定义图像映射。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;area&gt;</code></td>\n<td align=\"left\">定义图像地图内部的区域。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;canvas&gt;</code></td>\n<td align=\"left\">通过脚本（通常是 JavaScript）来绘制图形（比如图表和其他图像）。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;figcaption&gt;</code></td>\n<td align=\"left\">定义一个 caption for a <figure> element</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;figure&gt;</code></td>\n<td align=\"left\">figure 标签用于对元素进行组合。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><strong>Audio&#x2F;Video</strong></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;audio&gt;</code></td>\n<td align=\"left\">定义声音，比如音乐或其他音频流。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;source&gt;</code></td>\n<td align=\"left\">定义media元素 (<video> 和 <audio>)的媒体资源。media</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;track&gt;</code></td>\n<td align=\"left\">为媒体(<video> 和 <audio>)元素定义外部文本轨道。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;video&gt;</code></td>\n<td align=\"left\">定义一个音频或者视频</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><strong>链接</strong></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;a&gt;</code></td>\n<td align=\"left\">定义一个链接</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;link&gt;</code></td>\n<td align=\"left\">定义文档与外部资源的关系。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;main&gt;</code></td>\n<td align=\"left\">定义文档的主体部分。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;nav&gt;</code></td>\n<td align=\"left\">定义导航链接</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><strong>列表</strong></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;ul&gt;</code></td>\n<td align=\"left\">定义一个无序列表</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;ol&gt;</code></td>\n<td align=\"left\">定义一个有序列表</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;li&gt;</code></td>\n<td align=\"left\">定义一个列表项</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;dir&gt;</code></td>\n<td align=\"left\">HTML5不再支持。 HTML 4.01 已废弃。 定义目录列表。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;dl&gt;</code></td>\n<td align=\"left\">定义一个定义列表</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;dt&gt;</code></td>\n<td align=\"left\">定义一个定义定义列表中的项目。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;dd&gt;</code></td>\n<td align=\"left\">定义定义列表中项目的描述。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;menu&gt;</code></td>\n<td align=\"left\">定义菜单列表。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;command&gt;</code></td>\n<td align=\"left\">定义用户可能调用的命令（比如单选按钮、复选框或按钮）。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><strong>表格</strong></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;table&gt;</code></td>\n<td align=\"left\">定义一个表格</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;caption&gt;</code></td>\n<td align=\"left\">定义表格标题。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;th&gt;</code></td>\n<td align=\"left\">定义表格中的表头单元格。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;tr&gt;</code></td>\n<td align=\"left\">定义表格中的行。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;td&gt;</code></td>\n<td align=\"left\">定义表格中的单元。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;thead&gt;</code></td>\n<td align=\"left\">定义表格中的表头内容。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;tbody&gt;</code></td>\n<td align=\"left\">定义表格中的主体内容。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;tfoot&gt;</code></td>\n<td align=\"left\">定义表格中的表注内容（脚注）。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;col&gt;</code></td>\n<td align=\"left\">定义表格中一个或多个列的属性值。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;colgroup&gt;</code></td>\n<td align=\"left\">定义表格中供格式化的列组。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><strong>样式&#x2F;节</strong></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;style&gt;</code></td>\n<td align=\"left\">定义文档的样式信息。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;div&gt;</code></td>\n<td align=\"left\">定义文档中的节。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;span&gt;</code></td>\n<td align=\"left\">定义文档中的节。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;header&gt;</code></td>\n<td align=\"left\">定义一个文档头部部分</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;footer&gt;</code></td>\n<td align=\"left\">定义一个文档底部</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;section&gt;</code></td>\n<td align=\"left\">定义了文档的某个区域</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;article&gt;</code></td>\n<td align=\"left\">定义一个文章内容</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;aside&gt;</code></td>\n<td align=\"left\">定义其所处内容之外的内容。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;details&gt;</code></td>\n<td align=\"left\">定义了用户可见的或者隐藏的需求的补充细节。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;dialog&gt;</code></td>\n<td align=\"left\">定义一个对话框或者窗口</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;summary&gt;</code></td>\n<td align=\"left\">定义一个可见的标题。 当用户点击标题时会显示出详细信息。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><strong>元信息</strong></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;head&gt;</code></td>\n<td align=\"left\">定义关于文档的信息</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;meta&gt;</code></td>\n<td align=\"left\">定义关于 HTML 文档的元信息。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;base&gt;</code></td>\n<td align=\"left\">定义页面中所有链接的默认地址或默认目标。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;basefont&gt;</code></td>\n<td align=\"left\">HTML5不再支持。 HTML 4.01 已废弃。 定义页面中文本的默认字体、颜色或尺寸。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><strong>程序</strong></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;script&gt;</code></td>\n<td align=\"left\">定义客户端脚本。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;noscript&gt;</code></td>\n<td align=\"left\">定义针对不支持客户端脚本的用户的替代内容。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;applet&gt;</code></td>\n<td align=\"left\">HTML5不再支持。 HTML 4.01 已废弃。 定义嵌入的 applet。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;embed&gt;</code></td>\n<td align=\"left\">定义了一个容器，用来嵌入外部应用或者互动程序（插件）。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;object&gt;</code></td>\n<td align=\"left\">定义嵌入的对象。</td>\n</tr>\n<tr>\n<td></td>\n<td align=\"left\"><code>&lt;param&gt;</code></td>\n<td align=\"left\">定义对象的参数。</td>\n</tr>\n</tbody></table>\n<h1 id=\"HTML-属性\"><a href=\"#HTML-属性\" class=\"headerlink\" title=\"HTML 属性\"></a>HTML 属性</h1><h2 id=\"HTML属性-的特征\"><a href=\"#HTML属性-的特征\" class=\"headerlink\" title=\"HTML属性 的特征\"></a>HTML属性 的特征</h2><ul>\n<li>HTML 元素可以设置<strong>属性</strong></li>\n<li>属性可以在元素中添加<strong>附加信息</strong></li>\n<li>属性一般描述于<strong>开始标签</strong></li>\n<li>属性总是以名称&#x2F;值对的形式出现，**比如：name&#x3D;”value”**。</li>\n<li>属性值应该始终被包括在<strong>引号内</strong>。<ul>\n<li>双引号是最常用的，在某些个别的情况下，比如属性值本身就含有双引号，那么您必须使用单引号。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"示例-1\"><a href=\"#示例-1\" class=\"headerlink\" title=\"示例\"></a>示例</h2><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-comment\">&lt;!-- href=&quot;http://www.baidu.com&quot; 就是 HTML属性 --&gt;</span><br><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;http://www.baidu.com&quot;</span>&gt;</span> Baidu <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"参考List\"><a href=\"#参考List\" class=\"headerlink\" title=\"参考List\"></a>参考List</h2><h3 id=\"HTML-全局属性\"><a href=\"#HTML-全局属性\" class=\"headerlink\" title=\"HTML 全局属性\"></a>HTML 全局属性</h3><table>\n<thead>\n<tr>\n<th align=\"left\">属性</th>\n<th align=\"left\">描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><code>accesskey</code></td>\n<td align=\"left\">设置访问元素的键盘快捷键。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>class</code></td>\n<td align=\"left\">规定元素的类名（classname）</td>\n</tr>\n<tr>\n<td align=\"left\"><code>contenteditable</code></td>\n<td align=\"left\">规定是否可编辑元素的内容。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>contextmenu</code></td>\n<td align=\"left\">指定一个元素的上下文菜单。当用户右击该元素，出现上下文菜单</td>\n</tr>\n<tr>\n<td align=\"left\"><code>data-*</code></td>\n<td align=\"left\">用于存储页面的自定义数据</td>\n</tr>\n<tr>\n<td align=\"left\"><code>dir</code></td>\n<td align=\"left\">设置元素中内容的文本方向。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>draggable</code></td>\n<td align=\"left\">指定某个元素是否可以拖动</td>\n</tr>\n<tr>\n<td align=\"left\"><code>dropzone</code></td>\n<td align=\"left\">指定是否将数据复制，移动，或链接，或删除</td>\n</tr>\n<tr>\n<td align=\"left\"><code>hidden</code></td>\n<td align=\"left\">hidden 属性规定对元素进行隐藏。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>id</code></td>\n<td align=\"left\">规定元素的唯一 id</td>\n</tr>\n<tr>\n<td align=\"left\"><code>lang</code></td>\n<td align=\"left\">设置元素中内容的语言代码。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>spellcheck</code></td>\n<td align=\"left\">检测元素是否拼写错误</td>\n</tr>\n<tr>\n<td align=\"left\"><code>style</code></td>\n<td align=\"left\">规定元素的行内样式（inline style）</td>\n</tr>\n<tr>\n<td align=\"left\"><code>tabindex</code></td>\n<td align=\"left\">设置元素的 Tab 键控制次序。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>title</code></td>\n<td align=\"left\">规定元素的额外信息（可在工具提示中显示）</td>\n</tr>\n<tr>\n<td align=\"left\"><code>translate</code></td>\n<td align=\"left\">指定是否一个元素的值在页面载入时是否需要翻译</td>\n</tr>\n</tbody></table>\n<h1 id=\"HTML-示例\"><a href=\"#HTML-示例\" class=\"headerlink\" title=\"HTML 示例\"></a>HTML 示例</h1><h2 id=\"文本格式化\"><a href=\"#文本格式化\" class=\"headerlink\" title=\"文本格式化\"></a>文本格式化</h2><p>HTML 使用标签 <code>&lt;b&gt;</code>(“bold”) 与 <code>&lt;i&gt;</code>(“italic”) 对输出的文本进行格式, 如：<b>粗体</b> or <i>斜体</i></p>\n<blockquote>\n<p>  通常标签 <code>&lt;strong&gt;</code> 替换加粗标签 <code>&lt;b&gt;</code> 来使用, <code>&lt;em&gt;</code> 替换 <code>&lt;i&gt;</code>标签使用。</p>\n<p>  然而，这些标签的含义是不同的：</p>\n<p>  <code>&lt;b&gt;</code> 与<code>&lt;i&gt;</code> 定义粗体或斜体文本。</p>\n<p>  <code>&lt;strong&gt;</code> 或者 <code>&lt;em&gt;</code>意味着你要呈现的文本是重要的，所以要突出显示。（重要文本的呈现方式有很多种，不仅仅只有加粗一种）</p>\n</blockquote>\n<h2 id=\"链接-a\"><a href=\"#链接-a\" class=\"headerlink\" title=\"链接 a\"></a>链接 a</h2><p>HTML使用标签 <code>&lt;a&gt;</code> 来设置超文本链接。</p>\n<p>超链接可以是<u>一个字，一个词，或者一组词，也可以是一幅图像</u>，您可以点击这些内容来跳转到新的文档或者当前文档中的某个部分。（<strong>文本链接、图像链接、锚点链接、下载链接</strong>）</p>\n<p>在标签 <code>&lt;a&gt;</code> 中使用了 <strong>href</strong> 属性来描述链接的地址。</p>\n<p>以下是 HTML 中创建链接的基本语法和属性：</p>\n<ul>\n<li><p><code>&lt;a&gt;</code> 元素：创建链接的主要HTML元素是<code>&lt;a&gt;</code>（锚）元素。<code>&lt;a&gt;</code>元素具有以下属性：</p>\n<ul>\n<li><p><code>href</code>：指定链接目标的URL，这是链接的最重要属性。可以是另一个网页的URL、文件的URL或其他资源的URL。</p>\n</li>\n<li><p><code>target</code>（可选）：指定链接如何在浏览器中打开。</p>\n<ul>\n<li><code>_blank</code>（在新标签或窗口中打开链接）</li>\n<li><code>_self</code> 在单击的同一框架中打开链接文档（在当前标签或窗口中打开链接）。</li>\n<li><code>_top</code> 在整个窗口中打开链接文档</li>\n</ul>\n</li>\n<li><p><code>title</code>（可选）：提供链接的额外信息，通常在鼠标悬停在链接上时显示为工具提示。</p>\n</li>\n<li><p><code>rel</code>（可选）：指定与链接目标的关系，如 nofollow、noopener 等。</p>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"示例-2\"><a href=\"#示例-2\" class=\"headerlink\" title=\"示例\"></a>示例</h3><p><strong>文本链接：</strong>最常见的链接类型是文本链接，它使用 <code>&lt;a&gt;</code> 元素将一段文本转化为可点击的链接，例如：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;https://www.example.com&quot;</span>&gt;</span>访问示例网站<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n<p><strong>图像链接：</strong>您还可以使用图像作为链接。在这种情况下，<code>&lt;a&gt;</code> 元素包围着 <code>&lt;img&gt;</code> 元素。例如：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;https://www.example.com&quot;</span>&gt;</span><br>  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">img</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">&quot;example.jpg&quot;</span> <span class=\"hljs-attr\">alt</span>=<span class=\"hljs-string\">&quot;示例图片&quot;</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n<p><strong>锚点链接：</strong>除了链接到其他网页外，您还可以在同一页面内创建内部链接，这称为锚点链接。要创建锚点链接，需要在目标位置使用 <code>&lt;a&gt;</code> 元素定义一个标记，并使用<code>#</code>符号引用该标记。例如：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;#section2&quot;</span>&gt;</span>跳转到第二部分<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span><br><span class=\"hljs-comment\">&lt;!-- 在页面中的某个位置 --&gt;</span><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&quot;section2&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span><br><br><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span>&gt;</span><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;#C4&quot;</span>&gt;</span>查看章节 4<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span><br><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h2</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;C4&quot;</span>&gt;</span>章节 4<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h2</span>&gt;</span><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span>&gt;</span>这边显示该章节的内容……<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n<p><strong>下载链接：</strong>如果您希望链接用于下载文件而不是导航到另一个网页，可以使用 download 属性。例如：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;document.pdf&quot;</span> <span class=\"hljs-attr\">download</span>&gt;</span>下载文档<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n<p><strong>邮件链接</strong></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;mailto:someone@example.com?cc=someoneelse@example.com&amp;bcc=andsomeoneelse@example.com&amp;subject=Summer%20Party&amp;body=You%20are%20invited%20to%20a%20big%20summer%20party!&quot;</span> <span class=\"hljs-attr\">target</span>=<span class=\"hljs-string\">&quot;_top&quot;</span>&gt;</span>发送邮件!<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span><br><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span>&gt;</span><br>mailto: 收件人 <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span><br>cc= 抄送 <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span><br>bcc= 密送 <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span><br>subject= 标题 <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span><br>body= 正文 <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">b</span>&gt;</span>注意:<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">b</span>&gt;</span> 单词之间的空格使用 %20 代替，以确保浏览器可以正常显示文本。<br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"头部-head\"><a href=\"#头部-head\" class=\"headerlink\" title=\"头部 head\"></a>头部 head</h2><p><code>&lt;head&gt;</code> 元素包含了所有的头部标签元素。在 <code>&lt;head&gt;</code>元素中你可以插入脚本（scripts）, 样式文件（CSS），及各种meta信息。</p>\n<p>可以添加在头部区域的元素标签为: <code>&lt;title&gt;</code>, <code>&lt;style&gt;</code>, <code>&lt;meta&gt;</code>, <code>&lt;link&gt;</code>, <code>&lt;script&gt;</code>, <code>&lt;noscript&gt;</code> 和 <code>&lt;base&gt;</code>。</p>\n<h3 id=\"元素\"><a href=\"#元素\" class=\"headerlink\" title=\"&lt;title&gt; 元素\"></a><code>&lt;title&gt;</code> 元素</h3><p><code>&lt;title&gt;</code> 标签定义了不同文档的标题。</p>\n<p><code>&lt;title&gt;</code> 在 HTML&#x2F;XHTML 文档中是必需的。</p>\n<p><code>&lt;title&gt;</code> 元素:</p>\n<ul>\n<li>定义了浏览器工具栏的标题</li>\n<li>当网页添加到收藏夹时，显示在收藏夹中的标题</li>\n<li>显示在搜索引擎结果页面的标题</li>\n</ul>\n<h3 id=\"元素-1\"><a href=\"#元素-1\" class=\"headerlink\" title=\"&lt;base&gt; 元素\"></a><code>&lt;base&gt;</code> 元素</h3><p><code>&lt;base&gt;</code> 标签描述了基本的链接地址&#x2F;链接目标，该标签作为HTML文档中所有的链接标签的默认链接:</p>\n<h3 id=\"元素-2\"><a href=\"#元素-2\" class=\"headerlink\" title=\"&lt;link&gt; 元素\"></a><code>&lt;link&gt;</code> 元素</h3><p><code>&lt;link&gt;</code> 标签定义了文档与外部资源之间的关系。</p>\n<p><code>&lt;link&gt;</code> 标签通常用于链接到样式表</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-comment\">&lt;!-- 定义head处的图标 --&gt;</span><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">link</span> <span class=\"hljs-attr\">rel</span>=<span class=\"hljs-string\">&quot;icon&quot;</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;logo.ico&quot;</span>&gt;</span><br><br><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">head</span>&gt;</span><br>    <span class=\"hljs-comment\">&lt;!-- 使用外部样式表 --&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">link</span> <span class=\"hljs-attr\">rel</span>=<span class=\"hljs-string\">&quot;stylesheet&quot;</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;text/css&quot;</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;mystyle.css&quot;</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">head</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"元素-3\"><a href=\"#元素-3\" class=\"headerlink\" title=\"&lt;style&gt; 元素\"></a><code>&lt;style&gt;</code> 元素</h3><p><code>&lt;style&gt;</code> 标签定义了HTML文档的样式文件引用地址.</p>\n<p>在<code>&lt;style&gt;</code> 元素中你也可以直接添加样式来渲染 HTML 文档:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-comment\">&lt;!-- 将背景设置成黄色，段落设置成蓝色 --&gt;</span><br><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">head</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">style</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;text/css&quot;</span>&gt;</span><span class=\"language-css\"></span><br><span class=\"language-css\">        <span class=\"hljs-selector-tag\">body</span> &#123;</span><br><span class=\"language-css\">            <span class=\"hljs-attribute\">background-color</span>:yellow;</span><br><span class=\"language-css\">        &#125;</span><br><span class=\"language-css\">        <span class=\"hljs-selector-tag\">p</span> &#123;</span><br><span class=\"language-css\">            <span class=\"hljs-attribute\">color</span>:blue</span><br><span class=\"language-css\">        &#125;</span><br><span class=\"language-css\">    </span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">style</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">head</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"元素-4\"><a href=\"#元素-4\" class=\"headerlink\" title=\"&lt;meta&gt; 元素\"></a><code>&lt;meta&gt;</code> 元素</h3><p>meta标签描述了一些基本的元数据。</p>\n<p><code>&lt;meta&gt;</code> 标签提供了元数据.元数据也不显示在页面上，但会被浏览器解析。</p>\n<p>META 元素通常用于指定网页的描述，关键词，文件的最后修改时间，作者，和其他元数据。</p>\n<p>元数据可以使用于浏览器（如何显示内容或重新加载页面），搜索引擎（关键词），或其他Web服务。</p>\n<p><code>&lt;meta&gt;</code> 一般放置于 <code>&lt;head&gt;</code> 区域</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&quot;keywords&quot;</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">&quot;HTML, CSS, XML, XHTML, JavaScript&quot;</span>&gt;</span><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&quot;description&quot;</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">&quot;免费 Web &amp; 编程 教程&quot;</span>&gt;</span><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&quot;author&quot;</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">&quot;Runoob&quot;</span>&gt;</span><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">http-equiv</span>=<span class=\"hljs-string\">&quot;refresh&quot;</span> <span class=\"hljs-attr\">content</span>=<span class=\"hljs-string\">&quot;30&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"元素-5\"><a href=\"#元素-5\" class=\"headerlink\" title=\"&lt;script&gt; 元素\"></a><code>&lt;script&gt;</code> 元素</h3><p><code>&lt;script&gt;</code>标签用于加载脚本文件，如： JavaScript。</p>\n<h3 id=\"头部-head-元素\"><a href=\"#头部-head-元素\" class=\"headerlink\" title=\"头部 head 元素\"></a>头部 head 元素</h3><table>\n<thead>\n<tr>\n<th align=\"left\">标签</th>\n<th align=\"left\">描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><code>head</code></td>\n<td align=\"left\">定义了文档的信息</td>\n</tr>\n<tr>\n<td align=\"left\"><code>title</code></td>\n<td align=\"left\">定义了文档的标题</td>\n</tr>\n<tr>\n<td align=\"left\"><code>base</code></td>\n<td align=\"left\">定义了页面链接标签的默认链接地址</td>\n</tr>\n<tr>\n<td align=\"left\"><code>link</code></td>\n<td align=\"left\">定义了一个文档和外部资源之间的关系</td>\n</tr>\n<tr>\n<td align=\"left\"><code>meta</code></td>\n<td align=\"left\">定义了HTML文档中的元数据</td>\n</tr>\n<tr>\n<td align=\"left\"><code>script</code></td>\n<td align=\"left\">定义了客户端的脚本文件</td>\n</tr>\n<tr>\n<td align=\"left\"><code>style</code></td>\n<td align=\"left\">定义了HTML文档的样式文件</td>\n</tr>\n</tbody></table>\n<h2 id=\"CSS\"><a href=\"#CSS\" class=\"headerlink\" title=\"CSS\"></a>CSS</h2><p>…</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs css\">背景色<br>style=&quot;<span class=\"hljs-attribute\">background-color</span>:green;&quot;<br>字体 字体颜色 字体大小<br>style=&quot;<span class=\"hljs-attribute\">font-family</span>:arial;<span class=\"hljs-attribute\">color</span>:red;<span class=\"hljs-attribute\">font-size</span>:<span class=\"hljs-number\">20px</span>;&quot;<br>居中对齐<br>style=&quot;<span class=\"hljs-attribute\">text-align</span>:center;&quot;<br></code></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"表格\"><a href=\"#表格\" class=\"headerlink\" title=\"表格\"></a>表格</h2><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">table</span> <span class=\"hljs-attr\">border</span>=<span class=\"hljs-string\">&quot;1&quot;</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">tr</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">th</span>&gt;</span>Header 1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">th</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">th</span>&gt;</span>Header 2<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">th</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">tr</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">tr</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">td</span>&gt;</span>row 1, cell 1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">td</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">td</span>&gt;</span>row 1, cell 2<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">td</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">tr</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">tr</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">td</span>&gt;</span>row 2, cell 1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">td</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">td</span>&gt;</span>row 2, cell 2<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">td</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">tr</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">table</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n<table border=\"1\">\n    <tr>\n        <th>Header 1</th>\n        <th>Header 2</th>\n    </tr>\n    <tr>\n        <td>row 1, cell 1</td>\n        <td>row 1, cell 2</td>\n    </tr>\n    <tr>\n        <td>row 2, cell 1</td>\n        <td>row 2, cell 2</td>\n    </tr>\n</table>\n\n<h3 id=\"表格元素\"><a href=\"#表格元素\" class=\"headerlink\" title=\"表格元素\"></a>表格元素</h3><table>\n<thead>\n<tr>\n<th>标签</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>&lt;table&gt;</code></td>\n<td>定义表格</td>\n</tr>\n<tr>\n<td><code>&lt;th&gt;</code></td>\n<td>定义表格的表头</td>\n</tr>\n<tr>\n<td><code>&lt;tr&gt;</code></td>\n<td>定义表格的行</td>\n</tr>\n<tr>\n<td><code>&lt;td&gt;</code></td>\n<td>定义表格单元</td>\n</tr>\n<tr>\n<td><code>&lt;caption&gt;</code></td>\n<td>定义表格标题</td>\n</tr>\n<tr>\n<td><code>&lt;colgroup&gt;</code></td>\n<td>定义表格列的组</td>\n</tr>\n<tr>\n<td><code>&lt;col&gt;</code></td>\n<td>定义用于表格列的属性</td>\n</tr>\n<tr>\n<td><code>&lt;thead&gt;</code></td>\n<td>定义表格的页眉</td>\n</tr>\n<tr>\n<td><code>&lt;tbody&gt;</code></td>\n<td>定义表格的主体</td>\n</tr>\n<tr>\n<td><code>&lt;tfoot&gt;</code></td>\n<td>定义表格的页脚</td>\n</tr>\n</tbody></table>\n<h2 id=\"区块\"><a href=\"#区块\" class=\"headerlink\" title=\"区块\"></a>区块</h2><h3 id=\"元素-6\"><a href=\"#元素-6\" class=\"headerlink\" title=\"&lt;div&gt; 元素\"></a><code>&lt;div&gt;</code> 元素</h3><p>HTML <code>&lt;div&gt;</code> 元素是块级元素，它可用于组合其他 HTML 元素的容器。</p>\n<p><code>&lt;div&gt;</code> 元素没有特定的含义。除此之外，由于它属于块级元素，浏览器会在其前后显示折行。</p>\n<p>如果与 CSS 一同使用，<code>&lt;div&gt;</code> 元素可用于对大的内容块设置样式属性。</p>\n<p><code>&lt;div&gt;</code> 元素的另一个常见的用途是文档布局。它取代了使用表格定义布局的老式方法。使用 <code>&lt;table&gt;</code> 元素进行文档布局不是表格的正确用法。<code>&lt;table&gt;</code> 元素的作用是显示表格化的数据。</p>\n<h3 id=\"元素-7\"><a href=\"#元素-7\" class=\"headerlink\" title=\"&lt;span&gt; 元素\"></a><code>&lt;span&gt;</code> 元素</h3><p>HTML <code>&lt;span&gt;</code> 元素是内联元素，可用作文本的容器</p>\n<p><code>&lt;span&gt;</code> 元素也没有特定的含义。</p>\n<p>当与 CSS 一同使用时，<code>&lt;span&gt;</code> 元素可用于为部分文本设置样式属性。</p>\n<h3 id=\"div-与-span-对比\"><a href=\"#div-与-span-对比\" class=\"headerlink\" title=\"div 与 span 对比\"></a>div 与 span 对比</h3><p><strong>块级元素 vs. 行内元素：</strong></p>\n<ul>\n<li><code>&lt;div&gt;</code> 是块级元素，它独占一行，可以设置宽度、高度以及边距等样式属性。它适合用于创建页面的大块结构，例如页面的主体区域、容器、布局等。</li>\n<li><code>&lt;span&gt;</code> 是行内元素，它不会独占一行，宽度默认由其内容决定。它适合用于对文本或其他行内元素进行样式化、标记或包裹。</li>\n</ul>\n<p><strong>默认样式和布局：</strong></p>\n<ul>\n<li><code>&lt;div&gt;</code> 元素的默认样式为块级显示，会以块的形式占据可用空间。</li>\n<li><code>&lt;span&gt;</code> 元素的默认样式为行内显示，它不会独占一行，只占据其内容的宽度。</li>\n</ul>\n<p><strong>嵌套关系：</strong></p>\n<ul>\n<li><code>&lt;div&gt;</code> 可以容纳其他块级元素和行内元素，包括其他的 <code>&lt;div&gt;</code> 和 <code>&lt;span&gt;</code> 元素。</li>\n<li><code>&lt;span&gt;</code> 通常被用来包裹文本或其他行内元素，比如用来设置特定文本的样式。</li>\n</ul>\n<p>总之，<code>&lt;div&gt;</code> 用于创建页面结构和布局，而 <code>&lt;span&gt;</code> 用于对文本或行内元素进行样式化或包裹。它们在页面设计和样式设置中有不同的用途和作用。</p>\n<h3 id=\"区块标签\"><a href=\"#区块标签\" class=\"headerlink\" title=\"区块标签\"></a>区块标签</h3><table>\n<thead>\n<tr>\n<th align=\"left\">标签</th>\n<th align=\"left\">描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><code>div</code></td>\n<td align=\"left\">定义了文档的区域，块级 (block-level)</td>\n</tr>\n<tr>\n<td align=\"left\"><code>span</code></td>\n<td align=\"left\">用来组合文档中的行内元素， 内联元素(inline)</td>\n</tr>\n</tbody></table>\n<h2 id=\"表单\"><a href=\"#表单\" class=\"headerlink\" title=\"表单\"></a>表单</h2><p>HTML 表单用于收集用户的<strong>输入信息</strong>。</p>\n<p>HTML 表单表示文档中的一个区域，此区域包含交互控件，将用户收集到的信息发送到 Web 服务器。</p>\n<p>HTML 表单通常包含各种<u>输入字段、复选框、单选按钮、下拉列表等元素</u>。</p>\n<ul>\n<li><code>&lt;form&gt;</code> 元素用于创建表单，<code>action</code> 属性定义了表单数据提交的目标 URL，<code>method</code> 属性定义了提交数据的 HTTP 方法（这里使用的是 “post”）。</li>\n<li><code>&lt;label&gt;</code> 元素用于为表单元素添加标签，提高可访问性。</li>\n<li><code>&lt;input&gt;</code> 元素是最常用的表单元素之一，它可以创建文本输入框、密码框、单选按钮、复选框等。<code>type</code> 属性定义了输入框的类型，<code>id</code> 属性用于关联 <code>&lt;label&gt;</code> 元素，<code>name</code> 属性用于标识表单字段。</li>\n<li><code>&lt;select&gt;</code> 元素用于创建下拉列表，而 <code>&lt;option&gt;</code> 元素用于定义下拉列表中的选项。</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">form</span> <span class=\"hljs-attr\">action</span>=<span class=\"hljs-string\">&quot;/&quot;</span> <span class=\"hljs-attr\">method</span>=<span class=\"hljs-string\">&quot;post&quot;</span>&gt;</span><br>    <span class=\"hljs-comment\">&lt;!-- 文本输入框 --&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">label</span> <span class=\"hljs-attr\">for</span>=<span class=\"hljs-string\">&quot;name&quot;</span>&gt;</span>用户名:<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">label</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;text&quot;</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;name&quot;</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&quot;name&quot;</span> <span class=\"hljs-attr\">required</span>&gt;</span><br><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span><br><br>    <span class=\"hljs-comment\">&lt;!-- 密码输入框 --&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">label</span> <span class=\"hljs-attr\">for</span>=<span class=\"hljs-string\">&quot;password&quot;</span>&gt;</span>密码:<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">label</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;password&quot;</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;password&quot;</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&quot;password&quot;</span> <span class=\"hljs-attr\">required</span>&gt;</span><br><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span><br><br>    <span class=\"hljs-comment\">&lt;!-- 单选按钮 --&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">label</span>&gt;</span>性别:<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">label</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;radio&quot;</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;male&quot;</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&quot;gender&quot;</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">&quot;male&quot;</span> <span class=\"hljs-attr\">checked</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">label</span> <span class=\"hljs-attr\">for</span>=<span class=\"hljs-string\">&quot;male&quot;</span>&gt;</span>男<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">label</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;radio&quot;</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;female&quot;</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&quot;gender&quot;</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">&quot;female&quot;</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">label</span> <span class=\"hljs-attr\">for</span>=<span class=\"hljs-string\">&quot;female&quot;</span>&gt;</span>女<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">label</span>&gt;</span><br><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span><br><br>    <span class=\"hljs-comment\">&lt;!-- 复选框 --&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;checkbox&quot;</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;subscribe&quot;</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&quot;subscribe&quot;</span> <span class=\"hljs-attr\">checked</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">label</span> <span class=\"hljs-attr\">for</span>=<span class=\"hljs-string\">&quot;subscribe&quot;</span>&gt;</span>订阅推送信息<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">label</span>&gt;</span><br><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span><br><br>    <span class=\"hljs-comment\">&lt;!-- 下拉列表 --&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">label</span> <span class=\"hljs-attr\">for</span>=<span class=\"hljs-string\">&quot;country&quot;</span>&gt;</span>国家:<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">label</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">select</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;country&quot;</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&quot;country&quot;</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">option</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">&quot;cn&quot;</span>&gt;</span>CN<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">option</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">option</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">&quot;usa&quot;</span>&gt;</span>USA<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">option</span>&gt;</span><br>        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">option</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">&quot;uk&quot;</span>&gt;</span>UK<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">option</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">select</span>&gt;</span><br><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span><br><br>    <span class=\"hljs-comment\">&lt;!-- 提交按钮 --&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;submit&quot;</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">&quot;提交&quot;</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">form</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"表单标签\"><a href=\"#表单标签\" class=\"headerlink\" title=\"表单标签\"></a>表单标签</h3><table>\n<thead>\n<tr>\n<th align=\"left\">标签</th>\n<th align=\"left\">描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><code>form</code></td>\n<td align=\"left\">定义供用户输入的表单</td>\n</tr>\n<tr>\n<td align=\"left\"><code>input</code></td>\n<td align=\"left\">定义输入域</td>\n</tr>\n<tr>\n<td align=\"left\"><code>textarea</code></td>\n<td align=\"left\">定义文本域 (一个多行的输入控件)</td>\n</tr>\n<tr>\n<td align=\"left\"><code>label</code></td>\n<td align=\"left\">定义了 <code>&lt;input&gt;</code> 元素的标签，一般为输入标题</td>\n</tr>\n<tr>\n<td align=\"left\"><code>fieldset</code></td>\n<td align=\"left\">定义了一组相关的表单元素，并使用外框包含起来</td>\n</tr>\n<tr>\n<td align=\"left\"><code>legend</code></td>\n<td align=\"left\">定义了 <code>&lt;fieldset&gt;</code> 元素的标题</td>\n</tr>\n<tr>\n<td align=\"left\"><code>select</code></td>\n<td align=\"left\">定义了下拉选项列表</td>\n</tr>\n<tr>\n<td align=\"left\"><code>optgroup</code></td>\n<td align=\"left\">定义选项组</td>\n</tr>\n<tr>\n<td align=\"left\"><code>option</code></td>\n<td align=\"left\">定义下拉列表中的选项</td>\n</tr>\n<tr>\n<td align=\"left\"><code>button</code></td>\n<td align=\"left\">定义一个点击按钮</td>\n</tr>\n<tr>\n<td align=\"left\"><code>datalist</code></td>\n<td align=\"left\">指定一个预先定义的输入控件选项列表</td>\n</tr>\n<tr>\n<td align=\"left\"><code>keygen</code></td>\n<td align=\"left\">定义了表单的密钥对生成器字段</td>\n</tr>\n<tr>\n<td align=\"left\"><code>output</code></td>\n<td align=\"left\">定义一个计算结果</td>\n</tr>\n</tbody></table>\n<h2 id=\"框架\"><a href=\"#框架\" class=\"headerlink\" title=\"框架\"></a>框架</h2><p>…</p>\n<h2 id=\"脚本\"><a href=\"#脚本\" class=\"headerlink\" title=\"脚本\"></a>脚本</h2><p>…</p>\n<h2 id=\"字符实体\"><a href=\"#字符实体\" class=\"headerlink\" title=\"字符实体\"></a>字符实体</h2><p>在 HTML 中，某些字符是预留的。</p>\n<p>在 HTML 中不能使用小于号（&lt;）和大于号（&gt;），这是因为浏览器会误认为它们是标签。</p>\n<p>如果希望正确地显示预留字符，我们必须在 HTML 源代码中使用字符实体（character entities）。 字符实体类似这样：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs html\">&amp;*entity_name*;<br><span class=\"hljs-comment\">&lt;!-- 或 --&gt;</span><br>&amp;#*entity_number*;<br></code></pre></td></tr></table></figure>\n\n<p>如需显示小于号，我们必须这样写：&lt; 或 &#60; 或 &#060;  (<code>&amp;lt;</code> 或 <code>&amp;#60;</code> 或 <code>&amp;#060;</code>)</p>\n",
            "tags": [
                "html"
            ]
        },
        {
            "id": "https://www.oikiou.top/2024/f0099803/",
            "url": "https://www.oikiou.top/2024/f0099803/",
            "title": "语义化版本编号 Major、Minor、Patch",
            "date_published": "2024-01-19T14:57:15.000Z",
            "content_html": "<h2 id=\"语义化版本（Semantic-Versioning）：Major、Minor-和-Patch-版本号解析\"><a href=\"#语义化版本（Semantic-Versioning）：Major、Minor-和-Patch-版本号解析\" class=\"headerlink\" title=\"语义化版本（Semantic Versioning）：Major、Minor 和 Patch 版本号解析\"></a>语义化版本（Semantic Versioning）：Major、Minor 和 Patch 版本号解析</h2><p>语义化版本，通常简称为SemVer，是一种软件版本号的标准化方案，旨在使软件版本号的管理更加透明和可预测。它主要由三个部分组成：Major（主版本号）、Minor（次版本号）和Patch（修订版本号）。在这篇文章中，我们将深入解释这三个部分的含义，并提供详细的示例来说明它们的用途和变更规则。</p>\n<p>在RT-Thread内有如下代码段：</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs c\"><span class=\"hljs-comment\">/* RT-Thread version information */</span><br><span class=\"hljs-meta\">#<span class=\"hljs-keyword\">define</span> RT_VERSION_MAJOR                5               <span class=\"hljs-comment\">/**&lt; Major version number (X.x.x) */</span></span><br><span class=\"hljs-meta\">#<span class=\"hljs-keyword\">define</span> RT_VERSION_MINOR                1               <span class=\"hljs-comment\">/**&lt; Minor version number (x.X.x) */</span></span><br><span class=\"hljs-meta\">#<span class=\"hljs-keyword\">define</span> RT_VERSION_PATCH                0               <span class=\"hljs-comment\">/**&lt; Patch version number (x.x.X) */</span></span><br><br><span class=\"hljs-comment\">/* e.g. #if (RTTHREAD_VERSION &gt;= RT_VERSION_CHECK(4, 1, 0) */</span><br><span class=\"hljs-meta\">#<span class=\"hljs-keyword\">define</span> RT_VERSION_CHECK(major, minor, revise)          ((major * 10000) + (minor * 100) + revise)</span><br><br><span class=\"hljs-comment\">/* RT-Thread version */</span><br><span class=\"hljs-meta\">#<span class=\"hljs-keyword\">define</span> RTTHREAD_VERSION                RT_VERSION_CHECK(RT_VERSION_MAJOR, RT_VERSION_MINOR, RT_VERSION_PATCH)</span><br></code></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"Major（主版本号）\"><a href=\"#Major（主版本号）\" class=\"headerlink\" title=\"Major（主版本号）\"></a>Major（主版本号）</h3><p>Major版本号是语义化版本中的第一个数字，用于表示软件的主要版本变更。当进行大规模的、不兼容的变更时，应该增加Major版本号。主要变更包括：</p>\n<ol>\n<li><strong>不兼容的API更改</strong>：当你修改了软件的API，以至于旧版本的代码无法与新版本一起正常工作时，应该升级Major版本号。这可能包括删除、更改或添加API端点、参数或行为。</li>\n<li><strong>重大功能新增</strong>：如果你引入了重要的新功能，这可能会改变用户的工作流程或提供新的能力，也应该升级Major版本号。</li>\n<li><strong>废弃旧功能</strong>：当你计划废弃或删除旧的功能时，通常需要增加Major版本号，以提醒用户进行迁移。</li>\n</ol>\n<p>示例： 假设有一个虚构的图形处理库，当前版本号为1.0.0。如果开发团队决定删除现有API中的一个核心功能，这将导致现有的用户无法升级到新版本而不修改其代码，那么新版本的版本号应该升级到2.0.0。</p>\n<h3 id=\"Minor（次版本号）\"><a href=\"#Minor（次版本号）\" class=\"headerlink\" title=\"Minor（次版本号）\"></a>Minor（次版本号）</h3><p>Minor版本号是语义化版本中的第二个数字，用于表示向后兼容的新功能添加。Minor版本号的变更包括：</p>\n<ol>\n<li><strong>新增功能</strong>：当你向软件添加新的功能，但这些功能不会破坏现有的API或功能，应该增加Minor版本号。</li>\n<li><strong>改进现有功能</strong>：如果你对现有功能进行了改进，但这些改进不会导致现有用户的代码无法工作，也应该升级Minor版本号。</li>\n<li><strong>向后兼容的API增强</strong>：如果你增加了现有API的参数、选项或能力，而这不会破坏已有的使用方式，也应该升级Minor版本号。</li>\n</ol>\n<p>示例： 继续以图形处理库为例，当前版本号为1.2.0。开发团队决定在库中添加一个全新的图像滤镜功能，但这不会破坏任何现有功能或API。在这种情况下，版本号应升级到1.3.0。</p>\n<h3 id=\"Patch（修订版本号）\"><a href=\"#Patch（修订版本号）\" class=\"headerlink\" title=\"Patch（修订版本号）\"></a>Patch（修订版本号）</h3><p>Patch版本号是语义化版本中的第三个数字，用于表示向后兼容的错误修复或小的改进。Patch版本号的变更包括：</p>\n<ol>\n<li><strong>错误修复</strong>：当你解决现有功能或API中的错误时，应该升级Patch版本号。这些修复不应引入新的功能或改变现有的行为。</li>\n<li><strong>性能优化</strong>：如果你对现有功能进行性能优化，而不会改变其行为，也应该升级Patch版本号。</li>\n<li><strong>小的改进或修改</strong>：如果你进行了一些小的改进，但它们不会破坏向后兼容性，应该升级Patch版本号。</li>\n</ol>\n<p>示例： 继续以图形处理库为例，当前版本号为1.2.3。在测试中发现一个重要的Bug，它导致图像处理不正确。开发团队修复了这个问题，没有引入新的功能或改变现有功能，版本号应该升级到1.2.4。</p>\n",
            "tags": [
                "major"
            ]
        },
        {
            "id": "https://www.oikiou.top/2024/fd896621/",
            "url": "https://www.oikiou.top/2024/fd896621/",
            "title": "代码、硬件常见的缩写",
            "date_published": "2024-01-12T09:47:15.000Z",
            "content_html": "<h1 id=\"代码、硬件常见的缩写\"><a href=\"#代码、硬件常见的缩写\" class=\"headerlink\" title=\"代码、硬件常见的缩写\"></a>代码、硬件常见的缩写</h1><p><strong>常用单词缩写</strong></p>\n<table>\n<thead>\n<tr>\n<th>全词</th>\n<th>缩词&#x2F;简写</th>\n<th>中译</th>\n<th>全词</th>\n<th>缩词&#x2F;简写</th>\n<th>中译</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>指令内核相关类</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>source</td>\n<td>src</td>\n<td>源头</td>\n<td>default</td>\n<td>def</td>\n<td>默认</td>\n</tr>\n<tr>\n<td>destination</td>\n<td>dst或des</td>\n<td>目的地，目标</td>\n<td>define</td>\n<td>def</td>\n<td>定义</td>\n</tr>\n<tr>\n<td>operator</td>\n<td>optr</td>\n<td>操作符</td>\n<td>macro</td>\n<td>mcr</td>\n<td>宏</td>\n</tr>\n<tr>\n<td>operand</td>\n<td>opnd</td>\n<td>操作数</td>\n<td>return</td>\n<td>ret</td>\n<td>返回</td>\n</tr>\n<tr>\n<td>offset</td>\n<td>ofs</td>\n<td>偏移</td>\n<td>assemble</td>\n<td>asm</td>\n<td>汇编</td>\n</tr>\n<tr>\n<td>clear</td>\n<td>clr</td>\n<td>清除</td>\n<td>interrupt</td>\n<td>intr</td>\n<td>中断</td>\n</tr>\n<tr>\n<td>move</td>\n<td>mov</td>\n<td>移动</td>\n<td>priority</td>\n<td>prio</td>\n<td>优先级</td>\n</tr>\n<tr>\n<td>instruction</td>\n<td>instr</td>\n<td>指令</td>\n<td>vector</td>\n<td>vect</td>\n<td>向量</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>变量内存相关类</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>temperature</td>\n<td>temper</td>\n<td>温度</td>\n<td>address</td>\n<td>addr</td>\n<td>地址</td>\n</tr>\n<tr>\n<td>temporary</td>\n<td>tmp</td>\n<td>临时</td>\n<td>pointer</td>\n<td>ptr</td>\n<td>指针</td>\n</tr>\n<tr>\n<td>counter</td>\n<td>ctr</td>\n<td>计数器</td>\n<td>buffer</td>\n<td>buf</td>\n<td>缓冲区</td>\n</tr>\n<tr>\n<td>count</td>\n<td>cnt</td>\n<td>计数</td>\n<td>stack</td>\n<td>stk</td>\n<td>堆</td>\n</tr>\n<tr>\n<td>flag</td>\n<td>flg</td>\n<td>旗帜、标识</td>\n<td>memory</td>\n<td>mem</td>\n<td>内存</td>\n</tr>\n<tr>\n<td>parameter</td>\n<td>par</td>\n<td>参数</td>\n<td>storage</td>\n<td>stg</td>\n<td>存储器</td>\n</tr>\n<tr>\n<td>argument</td>\n<td>arg</td>\n<td>参数</td>\n<td>block</td>\n<td>blk</td>\n<td>块</td>\n</tr>\n<tr>\n<td>variable</td>\n<td>var</td>\n<td>变量</td>\n<td>allocate</td>\n<td>alloc</td>\n<td>分配</td>\n</tr>\n<tr>\n<td>array</td>\n<td>arr</td>\n<td>数组</td>\n<td>object</td>\n<td>obj</td>\n<td>对象</td>\n</tr>\n<tr>\n<td>string</td>\n<td>str</td>\n<td>字符串</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>character</td>\n<td>char</td>\n<td>字符</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>数学计算相关类</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>increment</td>\n<td>inc</td>\n<td>增加</td>\n<td>average</td>\n<td>avg</td>\n<td>平均数</td>\n</tr>\n<tr>\n<td>decrease</td>\n<td>dec</td>\n<td>减少</td>\n<td>summation</td>\n<td>sum</td>\n<td>求和;总和</td>\n</tr>\n<tr>\n<td>addition</td>\n<td>add</td>\n<td>增加；加法</td>\n<td>calculate</td>\n<td>calc</td>\n<td>计算</td>\n</tr>\n<tr>\n<td>subtraction</td>\n<td>sub</td>\n<td>减少，减法</td>\n<td>total</td>\n<td>tot</td>\n<td>总计</td>\n</tr>\n<tr>\n<td>multiplication</td>\n<td>mul</td>\n<td>乘法</td>\n<td>magnitude</td>\n<td>mag</td>\n<td>巨大</td>\n</tr>\n<tr>\n<td>division</td>\n<td>div</td>\n<td>除法；除以</td>\n<td>maximum</td>\n<td>max</td>\n<td>最大</td>\n</tr>\n<tr>\n<td>proportion</td>\n<td>kp</td>\n<td>比例</td>\n<td>minimum</td>\n<td>min</td>\n<td>最小</td>\n</tr>\n<tr>\n<td>integral</td>\n<td>ki</td>\n<td>积分</td>\n<td>middle</td>\n<td>mid</td>\n<td>中间</td>\n</tr>\n<tr>\n<td>differential</td>\n<td>kd</td>\n<td>微分</td>\n<td>equivalent</td>\n<td>equiv</td>\n<td>相等的</td>\n</tr>\n<tr>\n<td>absolute</td>\n<td>abs</td>\n<td>绝对值</td>\n<td>greater equal</td>\n<td>ge</td>\n<td>大于等于</td>\n</tr>\n<tr>\n<td>algorithm</td>\n<td>algo</td>\n<td>算法</td>\n<td>greater than</td>\n<td>gt</td>\n<td>大于</td>\n</tr>\n<tr>\n<td>exponent</td>\n<td>expo</td>\n<td>指数</td>\n<td>less equal</td>\n<td>le</td>\n<td>小于等于</td>\n</tr>\n<tr>\n<td>recur</td>\n<td>recu</td>\n<td>递归</td>\n<td>less than</td>\n<td>lt</td>\n<td>小于</td>\n</tr>\n<tr>\n<td>limit</td>\n<td>lim</td>\n<td>限制</td>\n<td>quarter</td>\n<td>quar</td>\n<td>四分之一</td>\n</tr>\n<tr>\n<td>mantissa</td>\n<td>mant</td>\n<td>尾数</td>\n<td>scale</td>\n<td>scal</td>\n<td>比例</td>\n</tr>\n<tr>\n<td>fraction</td>\n<td>fract</td>\n<td>小数</td>\n<td>double</td>\n<td>dbl</td>\n<td>两倍</td>\n</tr>\n<tr>\n<td>digit</td>\n<td>dig</td>\n<td>数字</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>number</td>\n<td>num</td>\n<td>数字；数量</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>value</td>\n<td>val</td>\n<td>值</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>其他计算相关类</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>reference</td>\n<td>ref</td>\n<td>引用，参考</td>\n<td>between</td>\n<td>btw</td>\n<td>之间</td>\n</tr>\n<tr>\n<td>compare</td>\n<td>cmp</td>\n<td>比较</td>\n<td>interval</td>\n<td>intvl</td>\n<td>间隔</td>\n</tr>\n<tr>\n<td>different</td>\n<td>diff</td>\n<td>对比</td>\n<td>different</td>\n<td>diff</td>\n<td>区别</td>\n</tr>\n<tr>\n<td>optimization</td>\n<td>opt</td>\n<td>最优化</td>\n<td>error</td>\n<td>err</td>\n<td>错误</td>\n</tr>\n<tr>\n<td>degree</td>\n<td>deg</td>\n<td>度数，程度</td>\n<td>exception</td>\n<td>exc</td>\n<td>异常</td>\n</tr>\n<tr>\n<td>full</td>\n<td>ful</td>\n<td>全量</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>multiplex</td>\n<td>mux</td>\n<td>多路复用</td>\n<td>result</td>\n<td>rslt</td>\n<td>结果</td>\n</tr>\n<tr>\n<td>overflow</td>\n<td>ovf</td>\n<td>溢出</td>\n<td>complete</td>\n<td>comp</td>\n<td>完成</td>\n</tr>\n<tr>\n<td>check</td>\n<td>chk</td>\n<td>检查，核对</td>\n<td>success</td>\n<td>succ</td>\n<td>成功</td>\n</tr>\n<tr>\n<td>test</td>\n<td>tst</td>\n<td>测试</td>\n<td>error</td>\n<td>err</td>\n<td>错误</td>\n</tr>\n<tr>\n<td>detect</td>\n<td></td>\n<td>检测，识别</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>measure</td>\n<td>meas</td>\n<td>测量</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>sample</td>\n<td>smp</td>\n<td>样本</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>make</td>\n<td>mk</td>\n<td>制造</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>时间顺序相关类</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>timer</td>\n<td>tmr或tim</td>\n<td>定时器</td>\n<td>new</td>\n<td></td>\n<td>新的</td>\n</tr>\n<tr>\n<td>time</td>\n<td>tm</td>\n<td>时间</td>\n<td>old</td>\n<td></td>\n<td>老的；旧的</td>\n</tr>\n<tr>\n<td>second</td>\n<td>sec</td>\n<td>秒、第二</td>\n<td>now</td>\n<td></td>\n<td>现在；目前</td>\n</tr>\n<tr>\n<td>minute</td>\n<td>min</td>\n<td>分钟</td>\n<td>current</td>\n<td>cur</td>\n<td>当前</td>\n</tr>\n<tr>\n<td>hour</td>\n<td>hr</td>\n<td>小时</td>\n<td>previous</td>\n<td>prev</td>\n<td>先前的</td>\n</tr>\n<tr>\n<td>day</td>\n<td></td>\n<td>天</td>\n<td>delay</td>\n<td>dly</td>\n<td>延迟</td>\n</tr>\n<tr>\n<td>month</td>\n<td>mth</td>\n<td>月</td>\n<td>expiration</td>\n<td>expi</td>\n<td>过期</td>\n</tr>\n<tr>\n<td>year</td>\n<td></td>\n<td>年</td>\n<td>next</td>\n<td>nex</td>\n<td>下一个</td>\n</tr>\n<tr>\n<td>period</td>\n<td>perd</td>\n<td>时期</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>timestamp</td>\n<td>ts</td>\n<td>时间戳</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>timeout</td>\n<td>to</td>\n<td>超时</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>age</td>\n<td></td>\n<td>年龄</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>结构方向相关类</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>positon</td>\n<td>pos</td>\n<td>位置</td>\n<td>origin</td>\n<td>org</td>\n<td>起源，原点</td>\n</tr>\n<tr>\n<td>coordinates</td>\n<td>coord</td>\n<td>坐标系</td>\n<td>point</td>\n<td>pt</td>\n<td>点</td>\n</tr>\n<tr>\n<td>row</td>\n<td></td>\n<td>行</td>\n<td>rect</td>\n<td>rc</td>\n<td>矩形</td>\n</tr>\n<tr>\n<td>column</td>\n<td>col</td>\n<td>列</td>\n<td>rectangle</td>\n<td>rect</td>\n<td>长方形</td>\n</tr>\n<tr>\n<td>vertical</td>\n<td>vert&#x2F;v</td>\n<td>垂直</td>\n<td>cylinder</td>\n<td>cyl</td>\n<td>圆柱体</td>\n</tr>\n<tr>\n<td>horizontal</td>\n<td>hori&#x2F;h</td>\n<td>水平的</td>\n<td>length</td>\n<td>len</td>\n<td>长度</td>\n</tr>\n<tr>\n<td>dimension</td>\n<td>dim</td>\n<td>维度</td>\n<td>high</td>\n<td>hi</td>\n<td>高度；高的</td>\n</tr>\n<tr>\n<td>permutation</td>\n<td>perm</td>\n<td>排列</td>\n<td>invert</td>\n<td>invt</td>\n<td>颠倒</td>\n</tr>\n<tr>\n<td>信息相关类</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>information</td>\n<td>info</td>\n<td>信息</td>\n<td>command</td>\n<td>cmd</td>\n<td>命令</td>\n</tr>\n<tr>\n<td>communication</td>\n<td>comu</td>\n<td>通信</td>\n<td>config</td>\n<td>conf</td>\n<td>配置</td>\n</tr>\n<tr>\n<td>message</td>\n<td>msg</td>\n<td>消息；信息</td>\n<td>request</td>\n<td>req</td>\n<td>请求</td>\n</tr>\n<tr>\n<td>packet</td>\n<td>pkt</td>\n<td>信息包</td>\n<td>acknowledge</td>\n<td>ack</td>\n<td>承认；应答</td>\n</tr>\n<tr>\n<td>package</td>\n<td>pkg</td>\n<td>包</td>\n<td>answer</td>\n<td>ans</td>\n<td>回答</td>\n</tr>\n<tr>\n<td>protocol</td>\n<td>proto</td>\n<td>协议</td>\n<td>response</td>\n<td>rsp</td>\n<td>响应</td>\n</tr>\n<tr>\n<td>stream</td>\n<td>stm</td>\n<td>流</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>header</td>\n<td>hdr</td>\n<td>头</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>index</td>\n<td>idx</td>\n<td>索引</td>\n<td>decode</td>\n<td>deco</td>\n<td>解码</td>\n</tr>\n<tr>\n<td>frame</td>\n<td>frm</td>\n<td>帧率；框架</td>\n<td>encode</td>\n<td>enc</td>\n<td>编码</td>\n</tr>\n<tr>\n<td>clock</td>\n<td>clok</td>\n<td>时钟</td>\n<td>coding</td>\n<td></td>\n<td>译码；编码</td>\n</tr>\n<tr>\n<td>receive</td>\n<td>recv</td>\n<td>接收</td>\n<td>authentication</td>\n<td>auth</td>\n<td>校验</td>\n</tr>\n<tr>\n<td>send</td>\n<td>send</td>\n<td>发送</td>\n<td>authentication code</td>\n<td>authcode</td>\n<td>校验码</td>\n</tr>\n<tr>\n<td>context</td>\n<td>ctx</td>\n<td>上下文</td>\n<td>unknown</td>\n<td>unk</td>\n<td>未知</td>\n</tr>\n<tr>\n<td>connect</td>\n<td>con</td>\n<td>连接</td>\n<td>extension</td>\n<td>ext</td>\n<td>扩展</td>\n</tr>\n<tr>\n<td>ethernet</td>\n<td>eth</td>\n<td>以太网</td>\n<td>expand</td>\n<td>expa</td>\n<td>扩展</td>\n</tr>\n<tr>\n<td>mailbox</td>\n<td>mbox</td>\n<td>邮箱</td>\n<td>field</td>\n<td>fld</td>\n<td>字段</td>\n</tr>\n<tr>\n<td>mask</td>\n<td>msk</td>\n<td>掩码</td>\n<td>identifier</td>\n<td>id</td>\n<td>标识符</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td>decode</td>\n<td>deco</td>\n<td>解码</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td>encode</td>\n<td>enc</td>\n<td>编码</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>计算机动作操作类</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>construct</td>\n<td>cons</td>\n<td>构建</td>\n<td>select</td>\n<td>sel</td>\n<td>选择</td>\n</tr>\n<tr>\n<td>control</td>\n<td>ctl</td>\n<td>控制</td>\n<td>delete</td>\n<td>del</td>\n<td>删除</td>\n</tr>\n<tr>\n<td>execute</td>\n<td>exec</td>\n<td>执行</td>\n<td>insert</td>\n<td>ins</td>\n<td>插入</td>\n</tr>\n<tr>\n<td>register</td>\n<td>reg</td>\n<td>注册</td>\n<td>copy</td>\n<td>cpy</td>\n<td>复制</td>\n</tr>\n<tr>\n<td>click</td>\n<td>clk</td>\n<td>点击</td>\n<td>paste</td>\n<td></td>\n<td>粘贴</td>\n</tr>\n<tr>\n<td>back</td>\n<td>bk</td>\n<td>后退</td>\n<td>cut</td>\n<td></td>\n<td>剪切</td>\n</tr>\n<tr>\n<td>disable</td>\n<td>dis</td>\n<td>使失效</td>\n<td>print</td>\n<td>Prn&#x2F;prt</td>\n<td>打印</td>\n</tr>\n<tr>\n<td>enable</td>\n<td>en</td>\n<td>使能</td>\n<td>input</td>\n<td>in</td>\n<td>输入</td>\n</tr>\n<tr>\n<td>effective</td>\n<td>eff</td>\n<td>有效的</td>\n<td>output</td>\n<td>out</td>\n<td>输出</td>\n</tr>\n<tr>\n<td>invalid</td>\n<td>inv</td>\n<td>无效的</td>\n<td>lock</td>\n<td>lck</td>\n<td>上锁</td>\n</tr>\n<tr>\n<td>logic</td>\n<td>lgc</td>\n<td>逻辑的</td>\n<td>unlock</td>\n<td>unlk</td>\n<td>解锁</td>\n</tr>\n<tr>\n<td>read</td>\n<td>r</td>\n<td>读</td>\n<td>scan</td>\n<td>sca</td>\n<td>扫描</td>\n</tr>\n<tr>\n<td>write</td>\n<td>w</td>\n<td>写</td>\n<td>search</td>\n<td>srch</td>\n<td>搜索</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>计算机专业名称类</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>iteration</td>\n<td>itr</td>\n<td>迭代；反复；重复</td>\n<td>initialization</td>\n<td>init</td>\n<td>初始化</td>\n</tr>\n<tr>\n<td>version</td>\n<td>ver</td>\n<td>版本</td>\n<td>program</td>\n<td>prg</td>\n<td>程序</td>\n</tr>\n<tr>\n<td>password</td>\n<td>psw</td>\n<td>密码</td>\n<td>system</td>\n<td>sys</td>\n<td>系统</td>\n</tr>\n<tr>\n<td>permission</td>\n<td>perms</td>\n<td>许可</td>\n<td>android</td>\n<td>adr</td>\n<td>安卓操作系统</td>\n</tr>\n<tr>\n<td>device</td>\n<td>dev</td>\n<td>设备</td>\n<td>application</td>\n<td>app</td>\n<td>应用程序</td>\n</tr>\n<tr>\n<td>administrator</td>\n<td>adm</td>\n<td>管理员</td>\n<td>driver</td>\n<td>drv</td>\n<td>驱动</td>\n</tr>\n<tr>\n<td>manager</td>\n<td>mgr</td>\n<td>管理者，管理器</td>\n<td>update</td>\n<td>upd</td>\n<td>更新</td>\n</tr>\n<tr>\n<td>standard</td>\n<td>std</td>\n<td>标准</td>\n<td>upgrade</td>\n<td>upg</td>\n<td>升级</td>\n</tr>\n<tr>\n<td>library</td>\n<td>lib</td>\n<td>静态库</td>\n<td>environment</td>\n<td>env</td>\n<td>运行环境</td>\n</tr>\n<tr>\n<td>database</td>\n<td>db</td>\n<td>数据库</td>\n<td>process</td>\n<td>proc</td>\n<td>进程</td>\n</tr>\n<tr>\n<td>dynamic</td>\n<td>dyna</td>\n<td>动态</td>\n<td>ready</td>\n<td>rdy</td>\n<td>就绪</td>\n</tr>\n<tr>\n<td>synchronization</td>\n<td>sync</td>\n<td>同步</td>\n<td>suspend</td>\n<td>susp</td>\n<td>挂起</td>\n</tr>\n<tr>\n<td>asynchronization</td>\n<td>asyn</td>\n<td>异步</td>\n<td>status</td>\n<td>sts</td>\n<td>状态</td>\n</tr>\n<tr>\n<td>link</td>\n<td>lnk</td>\n<td>链接</td>\n<td>signal</td>\n<td>sig</td>\n<td>信号</td>\n</tr>\n<tr>\n<td>server</td>\n<td>svr</td>\n<td>服务</td>\n<td>semaphore</td>\n<td>sem</td>\n<td>信号量</td>\n</tr>\n<tr>\n<td>executable file</td>\n<td>exe</td>\n<td>可执行文件</td>\n<td>scheduler</td>\n<td>scher</td>\n<td>调度器</td>\n</tr>\n<tr>\n<td>sequence</td>\n<td>seq</td>\n<td>序列</td>\n<td>task</td>\n<td>tsk</td>\n<td>任务</td>\n</tr>\n<tr>\n<td>serialize</td>\n<td>seri</td>\n<td>序列化</td>\n<td>statistic</td>\n<td>stat</td>\n<td>统计</td>\n</tr>\n<tr>\n<td>virus</td>\n<td>vir</td>\n<td>病毒</td>\n<td>process</td>\n<td>proc</td>\n<td>进程</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td>ready</td>\n<td>rdy</td>\n<td>就绪</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>文档图片类</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>directory</td>\n<td>dir</td>\n<td>目录</td>\n<td><a href=\"https://so.csdn.net/so/search?q=bitmap&spm=1001.2101.3001.7020\">bitmap</a></td>\n<td>bmp</td>\n<td>位图纹理</td>\n</tr>\n<tr>\n<td>list</td>\n<td>lst</td>\n<td>列表</td>\n<td>image</td>\n<td>img</td>\n<td>图像</td>\n</tr>\n<tr>\n<td>log</td>\n<td>log</td>\n<td>日志</td>\n<td>picture</td>\n<td>pic</td>\n<td>图片</td>\n</tr>\n<tr>\n<td>document</td>\n<td>doc</td>\n<td>文档</td>\n<td>color</td>\n<td>clr</td>\n<td>颜色</td>\n</tr>\n<tr>\n<td>text</td>\n<td>txt</td>\n<td>文本</td>\n<td>record</td>\n<td>rcd</td>\n<td>记录</td>\n</tr>\n<tr>\n<td>table</td>\n<td>tab或tbl</td>\n<td>表格</td>\n<td>dictionary</td>\n<td>dict</td>\n<td>词典、字典</td>\n</tr>\n<tr>\n<td>manual</td>\n<td>man</td>\n<td>手册</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>specification</td>\n<td>spec</td>\n<td>说明</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>软件界面名称类</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>screen</td>\n<td>scr</td>\n<td>屏幕</td>\n<td>button</td>\n<td>btn</td>\n<td>按钮</td>\n</tr>\n<tr>\n<td>display</td>\n<td>disp</td>\n<td>显示</td>\n<td>component</td>\n<td>com</td>\n<td>组件(多用于ui组件目录命名)</td>\n</tr>\n<tr>\n<td>util</td>\n<td></td>\n<td>工具</td>\n<td>window</td>\n<td>wnd</td>\n<td>窗口</td>\n</tr>\n<tr>\n<td>attribute</td>\n<td>attr</td>\n<td>属性</td>\n<td>dialog</td>\n<td>dlg</td>\n<td>对话框</td>\n</tr>\n<tr>\n<td>feature</td>\n<td>fea</td>\n<td>特征</td>\n<td>cursor</td>\n<td>csr</td>\n<td>光标</td>\n</tr>\n<tr>\n<td>bottom</td>\n<td>btm</td>\n<td>底部</td>\n<td>markdown</td>\n<td>md</td>\n<td>文本标记语言</td>\n</tr>\n<tr>\n<td>descriptor</td>\n<td>desc</td>\n<td>描述符</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>visible</td>\n<td>vis</td>\n<td>可见的</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>电气相关类</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>frequency</td>\n<td>freq</td>\n<td>频率</td>\n<td>poweron</td>\n<td>pwron</td>\n<td>上电</td>\n</tr>\n<tr>\n<td>voltage</td>\n<td>vol</td>\n<td>电压</td>\n<td>back electromotive force</td>\n<td>BEF</td>\n<td>反电动势</td>\n</tr>\n<tr>\n<td>current</td>\n<td>cur</td>\n<td>电流</td>\n<td>speed</td>\n<td>spd</td>\n<td>速度</td>\n</tr>\n<tr>\n<td>power</td>\n<td>pwr</td>\n<td>功率&#x2F;电源</td>\n<td>electric</td>\n<td>elec</td>\n<td>电子的</td>\n</tr>\n<tr>\n<td>trigger</td>\n<td>trig</td>\n<td>触发器</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>threshold</td>\n<td>thold</td>\n<td>阈值</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>switch</td>\n<td>sw</td>\n<td>开关</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>toggle</td>\n<td>tgl</td>\n<td>切换</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>其他类</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>resource</td>\n<td>res</td>\n<td>资源</td>\n<td>prefix</td>\n<td>pre</td>\n<td>前缀</td>\n</tr>\n<tr>\n<td>region</td>\n<td>rgn</td>\n<td>区域、领域</td>\n<td>reactive</td>\n<td>react</td>\n<td>有反应的</td>\n</tr>\n<tr>\n<td>group</td>\n<td>grp</td>\n<td>组</td>\n<td>recall</td>\n<td>rcl</td>\n<td>召回</td>\n</tr>\n<tr>\n<td>assemble</td>\n<td>asm</td>\n<td>集合</td>\n<td>release</td>\n<td>rel</td>\n<td>发布</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td>repeat</td>\n<td>rpt</td>\n<td>重复</td>\n</tr>\n<tr>\n<td>action</td>\n<td>act</td>\n<td>动作</td>\n<td>duplicate</td>\n<td>dup</td>\n<td>重复</td>\n</tr>\n<tr>\n<td>common</td>\n<td>comm</td>\n<td>通用</td>\n<td>repository</td>\n<td>repo</td>\n<td>仓库</td>\n</tr>\n<tr>\n<td>dependency</td>\n<td>dep</td>\n<td>依赖</td>\n<td>reserve</td>\n<td>resv</td>\n<td>保留</td>\n</tr>\n<tr>\n<td>debug</td>\n<td>dbg</td>\n<td>调试</td>\n<td>reset</td>\n<td>rst</td>\n<td>重置</td>\n</tr>\n<tr>\n<td>direct</td>\n<td>dirt</td>\n<td>直接的</td>\n<td>resume</td>\n<td>resu</td>\n<td>重新开始</td>\n</tr>\n<tr>\n<td>engine</td>\n<td>eng</td>\n<td>引擎</td>\n<td>reverse</td>\n<td>revs</td>\n<td>反转</td>\n</tr>\n<tr>\n<td>experiment</td>\n<td>exp</td>\n<td>实验</td>\n<td>schedule</td>\n<td>sch</td>\n<td>计划</td>\n</tr>\n<tr>\n<td>exposure</td>\n<td>expo</td>\n<td>曝光</td>\n<td>section</td>\n<td>sect</td>\n<td>节</td>\n</tr>\n<tr>\n<td>generate</td>\n<td>gen</td>\n<td>产生</td>\n<td>segment</td>\n<td>seg</td>\n<td>段</td>\n</tr>\n<tr>\n<td>handler</td>\n<td></td>\n<td>处理者</td>\n<td>strategy</td>\n<td>stra</td>\n<td>策略</td>\n</tr>\n<tr>\n<td>marshal</td>\n<td>mar</td>\n<td>序列化</td>\n<td>change</td>\n<td>chg</td>\n<td>改变</td>\n</tr>\n<tr>\n<td>unmarshal</td>\n<td>unmar</td>\n<td>反序列化</td>\n<td>convert</td>\n<td>conv</td>\n<td>转换</td>\n</tr>\n<tr>\n<td>deserialize</td>\n<td>dese</td>\n<td>反序列化</td>\n<td>translate</td>\n<td>tran</td>\n<td>翻译，转换</td>\n</tr>\n<tr>\n<td>manufacturer</td>\n<td>mft</td>\n<td>制造商</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>positive</td>\n<td>posi</td>\n<td>积极的</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>negative</td>\n<td>neg</td>\n<td>消极的</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>neutral</td>\n<td>neut</td>\n<td>中立</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>quality</td>\n<td>qlty</td>\n<td>质量</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>properties</td>\n<td>prop</td>\n<td>性能</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>performance</td>\n<td>perf</td>\n<td>性能</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>product</td>\n<td>prod</td>\n<td>产品</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>profile</td>\n<td>pf</td>\n<td>用户画像</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>project</td>\n<td>proj</td>\n<td>项目</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>protect</td>\n<td>prot</td>\n<td>保护</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>proxy</td>\n<td>prx</td>\n<td>代理</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>public</td>\n<td>pub</td>\n<td>公共的</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<p><strong>常用反义词组</strong></p>\n<table>\n<thead>\n<tr>\n<th>词</th>\n<th>反义词</th>\n<th>中译</th>\n<th>词</th>\n<th>反义词</th>\n<th>中译</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>add</td>\n<td>remove</td>\n<td>添加&#x2F;移除</td>\n<td>min</td>\n<td>max</td>\n<td>最小&#x2F;最大</td>\n</tr>\n<tr>\n<td>add</td>\n<td>delete</td>\n<td>添加&#x2F;删除</td>\n<td>old</td>\n<td>new</td>\n<td>旧&#x2F;新</td>\n</tr>\n<tr>\n<td>begin</td>\n<td>end</td>\n<td>开始&#x2F;最后</td>\n<td>start</td>\n<td>stop</td>\n<td>开始&#x2F;停止</td>\n</tr>\n<tr>\n<td>create</td>\n<td>destroy</td>\n<td>创建&#x2F;破坏</td>\n<td>next</td>\n<td>previous</td>\n<td>下个&#x2F;以前的</td>\n</tr>\n<tr>\n<td>insert</td>\n<td>delete</td>\n<td>插入&#x2F;删除</td>\n<td>source</td>\n<td>target</td>\n<td>源头&#x2F;目标</td>\n</tr>\n<tr>\n<td>first</td>\n<td>last</td>\n<td>第一&#x2F;最后</td>\n<td>show</td>\n<td>hide</td>\n<td>显示&#x2F;隐藏</td>\n</tr>\n<tr>\n<td>get</td>\n<td>release</td>\n<td>获得&#x2F;释放</td>\n<td>send</td>\n<td>receive</td>\n<td>发送&#x2F;接收</td>\n</tr>\n<tr>\n<td>put</td>\n<td>get</td>\n<td>放下&#x2F;获得</td>\n<td>source</td>\n<td>destination</td>\n<td>源头&#x2F;目的</td>\n</tr>\n<tr>\n<td>increment</td>\n<td>decrement</td>\n<td>增加&#x2F;减少</td>\n<td>cut</td>\n<td>paste</td>\n<td>剪切&#x2F;粘贴</td>\n</tr>\n<tr>\n<td>lock</td>\n<td>unlock</td>\n<td>上锁&#x2F;解锁</td>\n<td>up</td>\n<td>down</td>\n<td>上&#x2F;下</td>\n</tr>\n<tr>\n<td>open</td>\n<td>close</td>\n<td>打开&#x2F;关闭</td>\n<td>top</td>\n<td>btm</td>\n<td>顶部&#x2F;底部</td>\n</tr>\n</tbody></table>\n",
            "tags": [
                "words"
            ]
        },
        {
            "id": "https://www.oikiou.top/2023/c98db97a/",
            "url": "https://www.oikiou.top/2023/c98db97a/",
            "title": "RustDesk",
            "date_published": "2023-12-16T10:23:05.000Z",
            "content_html": "<h1 id=\"Server-搭建\"><a href=\"#Server-搭建\" class=\"headerlink\" title=\"Server 搭建\"></a>Server 搭建</h1><p>RustDesk Server OSS<strong>功能简单</strong>，<strong>无需许可证</strong>，RustDesk Server Pro<strong>功能更强</strong>，<strong>需要许可证</strong>。</p>\n<p>参考官方<a href=\"https://rustdesk.com/docs/en/self-host/rustdesk-server-oss/\">文档</a>。</p>\n<h2 id=\"RustDesk-Server-OSS-搭建\"><a href=\"#RustDesk-Server-OSS-搭建\" class=\"headerlink\" title=\"RustDesk Server OSS 搭建\"></a>RustDesk Server OSS 搭建</h2><p>RustDesk Server OSS有两个程序<code>hbbs</code>和<code>hbbr</code>。</p>\n<ul>\n<li><code>hbbs</code>- RustDesk ID&#x2F;Rendezvous 服务器</li>\n<li><code>hbbr</code>- RustDesk 中继服务器</li>\n</ul>\n<blockquote>\n<p>  默认情况下，</p>\n<p>  <code>hbbs</code> 侦听 21115 (TCP)、21116 (TCP&#x2F;UDP) 和 21118 (TCP)，</p>\n<p>  <code>hbbr</code> 侦听 21117 (TCP) 、21119（TCP）。</p>\n<p>  请务必在防火墙中打开这些端口。 <strong>请注意，TCP 和 UDP 都应启用 21116。</strong> </p>\n<p>  21115 用于 NAT 类型测试，21116&#x2F;UDP 用于 ID 注册，心跳服务，21116&#x2F;TCP用于TCP打洞和连接服务，21117用于Relay服务，21118和21119用于支持Web客户端。 </p>\n<p>  <em>如果不需要Web客户端（21118、21119）支持，可以禁用相应端口。</em></p>\n</blockquote>\n<ul>\n<li>TCP (<strong>21115、21116、21117、21118、21119</strong>)</li>\n<li>UDP (<strong>21116</strong>)</li>\n</ul>\n<p>关闭防火墙对端口的封锁：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">ufw allow 21115:21119/tcp<br>ufw allow 21116/udp<br>sudo ufw enable<br></code></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"服务器硬件要求\"><a href=\"#服务器硬件要求\" class=\"headerlink\" title=\"服务器硬件要求\"></a>服务器硬件要求</h3><blockquote>\n<h5 id=\"服务器要求\"><a href=\"#服务器要求\" class=\"headerlink\" title=\"服务器要求\"></a>服务器要求</h5><p>  硬件要求很低；基础云服务器最低配置就够了，对CPU和内存的要求也很低。您还可以使用 Raspberry Pi 或类似的东西。从网络规模来看，如果TCP打洞直连失败，会消耗中继流量。中继连接的流量在 30 K&#x2F;s 到 3 M&#x2F;s（1920x1080 屏幕）之间，具体取决于分辨率设置和屏幕更新。如果只是办公需求，流量在100K&#x2F;s左右。</p>\n</blockquote>\n<h3 id=\"hbbr-的运行\"><a href=\"#hbbr-的运行\" class=\"headerlink\" title=\"hbbr 的运行\"></a>hbbr 的运行</h3><blockquote>\n<p>  <code>hbbs</code>第一次运行时，会自动生成一对加密的私钥和<strong>公钥</strong>（分别位于<code>id_ed25519</code>和<code>id_ed25519.pub</code>运行目录下的文件），其主要目的是通信加密。</p>\n<p>  <strong>公钥就是我们需要填入Client端的key</strong></p>\n<p>  如果您想禁止没有密钥的用户建立非加密连接，请在运行时添加<code>-k _</code>参数<code>hbbs</code>和<code>hbbr</code>。</p>\n<p>  <em>注意不要漏写了下划线</em> 例如：</p>\n  <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">./hbbs -r &lt;relay-server-ip[:port]&gt; -k _<br>./hbbr -k _<br></code></pre></td></tr></table></figure>\n</blockquote>\n<h3 id=\"使用Docker搭建\"><a href=\"#使用Docker搭建\" class=\"headerlink\" title=\"使用Docker搭建\"></a>使用Docker搭建</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">sudo docker image pull rustdesk/rustdesk-server<br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">-v 映射文件夹 容器内 /root 目录会存放key文件等</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">hbbs 的 -r 参数是 服务器地址</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">hbbs 和 hbbr 的 -k 参数是 禁止没有密钥的用户建立非加密连接</span><br>sudo docker run --name hbbs -v ./data:/root -td -m 64M --restart=on-failure --net=host rustdesk/rustdesk-server hbbs -r &lt;relay-server-ip[:port]&gt; -k _<br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\"></span><br><span class=\"language-bash\"><span class=\"hljs-built_in\">sudo</span> docker run --name hbbr -v ./data:/root -td -m 64M --restart=on-failure --net=host rustdesk/rustdesk-server hbbr -k _</span><br><br></code></pre></td></tr></table></figure>\n\n\n\n<h1 id=\"客户端配置\"><a href=\"#客户端配置\" class=\"headerlink\" title=\"客户端配置\"></a>客户端配置</h1><p>在 RustDesk 客户端主主页中，单击 ID 旁边的菜单按钮 [ ⋮ ]，然后单击网络，您现在可以使用提升的权限解锁设置并设置您的 ID、中继、API 和密钥。</p>\n<p><img src=\"/2023/c98db97a/network-config.png\" alt=\"img\"></p>\n<p>在<strong>ID Server</strong>输入框中输入<code>hbbs</code>的域名或IP地址。</p>\n<p>另外两个地址可以留空，RustDesk会自动推导（如果没有专门设置），Relay Server指的是<code>hbbr</code>（端口21117）。</p>\n<p>Key的数值：Docker中可以在<code>data</code>文件夹找到<code>id_ed25519.pub</code>文件，此文件内容即为key。</p>\n",
            "tags": [
                "RustDesk"
            ]
        },
        {
            "id": "https://www.oikiou.top/2023/9c721b62/",
            "url": "https://www.oikiou.top/2023/9c721b62/",
            "title": "USB",
            "date_published": "2023-12-01T10:12:15.000Z",
            "content_html": "<h1 id=\"USB-版本及发展历史\"><a href=\"#USB-版本及发展历史\" class=\"headerlink\" title=\"USB 版本及发展历史\"></a>USB 版本及发展历史</h1><p>USB接口自1994年推出以来，经过26年的发展，经过USB1.0&#x2F;1.1、USB2.0、USB3.x，最终发展到了现在的USB4；传输速率也从最开始的1.5Mbps，大幅提高到了最新的40Gbps。<br><img src=\"/2023/9c721b62/image-20240621114302408.png\"></p>\n<h2 id=\"USB1-0\"><a href=\"#USB1-0\" class=\"headerlink\" title=\"USB1.0\"></a>USB1.0</h2><ul>\n<li>1996年1月15日推出USB1.0接口规范</li>\n<li>规定低速传输速率为1.5Mbit&#x2F;s</li>\n<li>对外提供供电电压为5V，最大电流500mA</li>\n<li>一般适用于鼠标、键盘等低速HID设备。</li>\n<li>支持热插拨</li>\n</ul>\n<h2 id=\"USB1-1\"><a href=\"#USB1-1\" class=\"headerlink\" title=\"USB1.1\"></a>USB1.1</h2><ul>\n<li>1998年9月23日对原来的USB1.0进行升级，提出了USB1.1</li>\n<li>USB1.1规定了全速传输速率为12Mbit&#x2F;s,并兼容USB1.0的1.5Mbit&#x2F;s</li>\n<li>传输线缆最大度度3m</li>\n<li>对外提供供电电压为5V，最大电流500mA</li>\n<li>一般适用于鼠标、键盘、U盘，光驱等。</li>\n<li>一个USB接口理论上可以支持127个设备。</li>\n</ul>\n<h2 id=\"USB2-0\"><a href=\"#USB2-0\" class=\"headerlink\" title=\"USB2.0\"></a>USB2.0</h2><ul>\n<li>2000年4月27日由USB-IF组织提出了USB2.0总线协议规范</li>\n<li>具备480Mbit&#x2F;s的高速传输速率，向下兼容低速1.5Mbit&#x2F;s和全速12Mit&#x2F;s</li>\n<li>传输线缆最大度度5m</li>\n<li>对外提供供电电压为5V，最大电流500mA</li>\n<li>通过HUB级联的方式，一个USB接口理论上可以扩展127个USB设备</li>\n<li>支持 4种传输方式：控制传输、中断传输、同步传输和块传输。</li>\n</ul>\n<p><strong>USB3 的名字有些多</strong></p>\n<table>\n<thead>\n<tr>\n<th>版本</th>\n<th>时间</th>\n<th>带宽</th>\n<th>别名，指的是同一种</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>USB3.0</td>\n<td>2008年11月17</td>\n<td>5Gbps</td>\n<td>SuperSpeed USB、USB 3.2 Gen 1、USB 3.1 Gen 1</td>\n</tr>\n<tr>\n<td>USB3.1</td>\n<td>2013年7月</td>\n<td>10Gbps</td>\n<td>SuperSpeed USB 10Gbps、USB 3.2 Gen 2、USB 3.1 Gen 2</td>\n</tr>\n<tr>\n<td>USB3.2</td>\n<td>2017年9月份</td>\n<td>20Gbps</td>\n<td>SuperSpeed USB 20Gbps、USB 3.2 Gen 2x2</td>\n</tr>\n</tbody></table>\n<h2 id=\"USB3-0-USB-3-2-Gen-1-USB-3-1-Gen-1\"><a href=\"#USB3-0-USB-3-2-Gen-1-USB-3-1-Gen-1\" class=\"headerlink\" title=\"USB3.0 &#x2F; USB 3.2 Gen 1 &#x2F; USB 3.1 Gen 1\"></a>USB3.0 &#x2F; USB 3.2 Gen 1 &#x2F; USB 3.1 Gen 1</h2><ul>\n<li>超高速USB3.0规范于2008年11月17日出USB-IF组织推出。</li>\n<li>提供更高的5.0Gbit&#x2F;s的超高速传输速度，并向下兼容低速1.5Mbits&#x2F;s、全速12Mbit&#x2F;s和高速480Mbit&#x2F;s传输速率</li>\n<li>对外提供供电电压为5V，最大电流900mA</li>\n<li>传输线缆最大度度3m</li>\n<li>增加了新的电源管理功能，支持待机、睡眠以及暂定模式，更加省电。</li>\n<li>全双工通讯。</li>\n</ul>\n<h2 id=\"USB3-1-USB-3-2-Gen-2-USB-3-1-Gen-2\"><a href=\"#USB3-1-USB-3-2-Gen-2-USB-3-1-Gen-2\" class=\"headerlink\" title=\"USB3.1 &#x2F; USB 3.2 Gen 2 &#x2F; USB 3.1 Gen 2\"></a>USB3.1 &#x2F; USB 3.2 Gen 2 &#x2F; USB 3.1 Gen 2</h2><p>2013年7月份，USB 3.1发布，速度翻番至10Gbps，同时USB-IF就把USB 3.0改名为USB 3.1 Gen 1，新的USB 3.1则叫做USB 3.1 Gen 2。</p>\n<ul>\n<li>2013年7月份发布</li>\n<li>速度翻番至10Gbps</li>\n<li>新增USB A&#x2F;V影音传输。以更适合作为移动设备的输出接口，尤其是可逆的Type-C。</li>\n<li>将供电的最高允许标准提高到了20V&#x2F;5A，供电100W。</li>\n<li>必须使用USB Type-C接口才能达到10Gbps的速度。</li>\n</ul>\n<h2 id=\"USB3-2-USB-3-2-Gen-2x2\"><a href=\"#USB3-2-USB-3-2-Gen-2x2\" class=\"headerlink\" title=\"USB3.2 &#x2F; USB 3.2 Gen 2x2\"></a>USB3.2 &#x2F; USB 3.2 Gen 2x2</h2><ul>\n<li>2017年9月份，USB 3.2发布。</li>\n<li>据最新公布的规范，USB 3.0、USB 3.1的版本命名都将彻底消失，统一被划入USB 3.2的序列，三者分别再次改名叫做USB 3.2 Gen 1、USB 3.2 Gen 2、USB 3.2 Gen 2x2。</li>\n<li>它们还各自有一个市场推广命名，分别是SuperSpeed USB、SuperSpeed USB 10Gbps、SuperSpeed USB 20Gbps。<br>  之所以想出USB 3.2 Gen2x2这样的名字，大概是因为它使用了USB Type-C接口的上下两端全部针脚，速度得以翻番。</li>\n<li>必须使用USB Type-C接口才能达到20Gbps的速度。</li>\n</ul>\n<h1 id=\"USB-描述符\"><a href=\"#USB-描述符\" class=\"headerlink\" title=\"USB 描述符\"></a>USB 描述符</h1><blockquote>\n<p>  USB是个通用的总线，端口都是统一的。但是USB设备却各种各样，例如USB鼠标，USB键盘，U盘等等，那么USB主机是如何识别出不同的设备的呢？这就要依赖于描述符了。</p>\n<p>  USB的描述符主要有<strong>设备描述符，配置描述符，接口描述符，端点描述符，字符串描述符，HID描述符，报告描述符</strong>等等。</p>\n</blockquote>\n<p><strong>USB各个描述符之间的关系</strong></p>\n<blockquote>\n<p>  一个USB设备有一个<strong>设备描述符</strong>，设备描述符里面决定了该设备有<strong>多少种配置</strong>，每种配置描述符对应着配置描述符；</p>\n<p>  而在<strong>配置描述符</strong>中又定义了该配置里面有<strong>多少个接口</strong>，每个接口有对应的接口描述符；</p>\n<p>  在<strong>接口描述符</strong>里面又定义了该接口有<strong>多少个端点</strong>，每个端点对应一个端点描述符；</p>\n<p>  在<strong>端点描述符</strong>定义了端点的大小，类型等等。</p>\n<blockquote>\n<p>  由此我们可以看出，USB的描述符之间的关系是一层一层的，最上一层是设备描述符，下面是配置描述符，再下面是接口描述符，再下面是端点描述符。</p>\n<p>  在获取描述符时，先获取设备描述符，然后再获取配置描述符，根据配置描述符中的配置集合长度，一次将配置描述符、接口描述符、端点描述符一起一次读回。</p>\n<p>  其中可能还会有获取设备序列号，厂商字符串，产品字符串等。</p>\n</blockquote>\n</blockquote>\n<p><strong>各个描述符的编号</strong></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs c\"><span class=\"hljs-meta\">#<span class=\"hljs-keyword\">define</span> DEVICE_DESCRIPTOR               0x01  <span class=\"hljs-comment\">//设备描述符   </span></span><br><span class=\"hljs-meta\">#<span class=\"hljs-keyword\">define</span> CONFIGURATION_DESCRIPTOR        0x02  <span class=\"hljs-comment\">//配置描述符   </span></span><br><span class=\"hljs-meta\">#<span class=\"hljs-keyword\">define</span> STRING_DESCRIPTOR               0x03  <span class=\"hljs-comment\">//字符串描述符   </span></span><br><span class=\"hljs-meta\">#<span class=\"hljs-keyword\">define</span> INTERFACE_DESCRIPTOR            0x04  <span class=\"hljs-comment\">//接口描述符   </span></span><br><span class=\"hljs-meta\">#<span class=\"hljs-keyword\">define</span> ENDPOINT_DESCRIPTOR             0x05  <span class=\"hljs-comment\">//端点描述符  </span></span><br></code></pre></td></tr></table></figure>\n\n\n\n<p><img src=\"/2023/9c721b62/v2-43379ad330f4acd76ce885f2e1359458_720w.webp\" alt=\"img\"></p>\n<p><img src=\"/2023/9c721b62/usbdes.jpeg\" alt=\"img\"></p>\n<p><img src=\"/2023/9c721b62/image-20240620151939825.png\"></p>\n<h2 id=\"设备描述符-0x01-Device-Descriptor\"><a href=\"#设备描述符-0x01-Device-Descriptor\" class=\"headerlink\" title=\"设备描述符 0x01 Device Descriptor\"></a>设备描述符 0x01 Device Descriptor</h2><p><img src=\"/2023/9c721b62/dev.png\" alt=\"设备描述符\"></p>\n<p><strong>代码</strong></p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs c\"><span class=\"hljs-comment\">// 定义标准的设备描述符结构</span><br><span class=\"hljs-keyword\">typedef</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">struct</span> _<span class=\"hljs-title\">DEVICE_DCESCRIPTOR_STRUCT</span> &#123;</span><br>    BYTE blength;            <span class=\"hljs-comment\">// 设备描述符的字节数大小</span><br>    BYTE bDescriptorType;    <span class=\"hljs-comment\">// 设备描述符类型编号</span><br>    WORD bcdUSB;             <span class=\"hljs-comment\">// USB版本号</span><br>    BYTE bDeviceClass;       <span class=\"hljs-comment\">// USB分配的设备类代码</span><br>    BYTE bDeviceSubClass;    <span class=\"hljs-comment\">// USB分配的子类代码</span><br>    BYTE bDeviceProtocol;    <span class=\"hljs-comment\">// USB分配的设备协议代码</span><br>    BYTE bMaxPacketSize0;    <span class=\"hljs-comment\">// 端点0的最大包大小</span><br>    WORD idVendor;           <span class=\"hljs-comment\">// 厂商编号</span><br>    WORD idProduct;          <span class=\"hljs-comment\">// 产品编号</span><br>    WORD bcdDevice;          <span class=\"hljs-comment\">// 设备出厂编号</span><br>    BYTE iManufacturer;      <span class=\"hljs-comment\">// 设备厂商字符串的索引</span><br>    BYTE iProduct;           <span class=\"hljs-comment\">// 描述产品字符串的索引</span><br>    BYTE iSerialNumber;      <span class=\"hljs-comment\">// 描述设备序列号字符串的索引</span><br>    BYTE bNumConfigurations; <span class=\"hljs-comment\">// 可能的配置数量</span><br>&#125; DEVICE_DESCRIPTOR_STRUCT, *pDEVICE_DESCRIPTOR_STRUCT;<br><br><span class=\"hljs-comment\">// 实际的设备描述符示例</span><br>DEVICE_DESCRIPTOR_STRUCT device_descriptor = &#123;<br>.blength           =<span class=\"hljs-keyword\">sizeof</span>(DEVICE_DESCRIPTOR_STRUCT),<span class=\"hljs-comment\">// 设备描述符的字节数大小，这里是18字节</span><br>.bDescriptorType   =DEVICE_DESCRIPTOR,  <span class=\"hljs-comment\">// 设备描述符类型编号，设备描述符是01</span><br>.bcdUSB            =<span class=\"hljs-number\">0x1001</span>, <span class=\"hljs-comment\">// USB版本号，这里是USB01.10，即USB1.1。由于51是大端模式，所以高低字节交换</span><br>.bDeviceClass      =<span class=\"hljs-number\">0x00</span>,   <span class=\"hljs-comment\">// USB分配的设备类代码，0表示类型在接口描述符中定义</span><br>.bDeviceSubClass   =<span class=\"hljs-number\">0x00</span>,   <span class=\"hljs-comment\">// USB分配的子类代码，上面一项为0时，本项也要设置为0</span><br>.bDeviceProtocol   =<span class=\"hljs-number\">0x00</span>,   <span class=\"hljs-comment\">// USB分配的设备协议代码，上面一项为0时，本项也要设置为0</span><br>.bMaxPacketSize0   =<span class=\"hljs-number\">0x10</span>,   <span class=\"hljs-comment\">// 端点0的最大包大小，这里为16字节</span><br>.idVendor          =<span class=\"hljs-number\">0x7104</span>, <span class=\"hljs-comment\">// 厂商编号，这个是需要跟USB组织申请的ID号，表示厂商代号。</span><br>.idProduct         =<span class=\"hljs-number\">0xf0ff</span>, <span class=\"hljs-comment\">// 该产品的编号，跟厂商编号一起配合使用，让主机注册该设备并加载相应的驱动程序</span><br>.bcdDevice         =<span class=\"hljs-number\">0x0100</span>, <span class=\"hljs-comment\">// 设备出厂编号</span><br>.iManufacturer     =<span class=\"hljs-number\">0x01</span>,   <span class=\"hljs-comment\">// 设备厂商字符串的索引，在获取字符串描述符时，使用该索引号来识别不同的字符串</span><br>.iProduct          =<span class=\"hljs-number\">0x02</span>,   <span class=\"hljs-comment\">// 描述产品字符串的索引，同上</span><br>.iSerialNumber     =<span class=\"hljs-number\">0x03</span>,   <span class=\"hljs-comment\">// 描述设备序列号字符串的索引，同上</span><br>.bNumConfigurations=<span class=\"hljs-number\">0x01</span>    <span class=\"hljs-comment\">// 可能的配置数为1，即该设备只有一个配置</span><br>&#125;;<br></code></pre></td></tr></table></figure>\n\n\n\n<ul>\n<li><p><strong>bLength</strong></p>\n<ul>\n<li>是设备描述符的总长度，以字节为单位。</li>\n</ul>\n</li>\n<li><p><strong>bDescriptorType</strong></p>\n<ul>\n<li>代表了本描述符的类型。</li>\n<li>用于描述设备的描述符 是0x01。<ul>\n<li>其他描述符的数值及含义</li>\n<li><img src=\"/2023/9c721b62/d976ff82852a45ea8fc59183689cbd5b.png\" alt=\"在这里插入图片描述\"></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p><strong>bcdUSB</strong></p>\n<ul>\n<li>显示了设备支持的USB版本，通常是最新版本。</li>\n<li>这是一个<a href=\"https://so.csdn.net/so/search?q=%E4%BA%8C%E8%BF%9B%E5%88%B6&spm=1001.2101.3001.7020\">二进制</a>代码形式的十进制数据，采用0xAABC的形式，其中A是主版本号，B是次版本号，C是子次版本号。</li>\n<li>例如，USB2.0设备拥有0x0200值，USB1.1设备拥有0x0110值。通常，主机将使用bcdUSB以确定需要加载的USB驱动器。</li>\n</ul>\n</li>\n<li><p><strong>bDeviceClass</strong>、<strong>bDeviceSubClass</strong>、<strong>bDeviceProtocol</strong></p>\n<ul>\n<li>分别代表<strong>设备类型</strong>，<strong>子类型</strong>，<strong>设备使用的协议</strong></li>\n<li>USB-IF区分设备类分了三个等级（类-子类-协议码）其中，<ul>\n<li>类包含人机交互类、图像类、无线类、音频类等等，</li>\n<li>子类比如音频类的音频控制、音频流等等，</li>\n<li>协议比如人机接口类中的鼠标、键盘、<a href=\"https://so.csdn.net/so/search?q=%E8%A7%A6%E6%91%B8%E5%B1%8F&spm=1001.2101.3001.7020\">触摸屏</a>等，</li>\n</ul>\n</li>\n<li><blockquote>\n<p>  为何会有这么多USB的Class分类，子分类，设备协议。<br>  我们要知道，USB协议设计的目的，就是为实现通用，用单一的USB接口取代之前种类繁多的各种其他接口。而为了取代其他各种接口，那意味着就要实现各种设备所对应的各种功能。</p>\n</blockquote>\n</li>\n</ul>\n</li>\n<li><p><strong>bMaxPackeSize0</strong></p>\n<ul>\n<li>端点一次最大传多少个字节。</li>\n<li>根据设备，数据包的大小可以为 8 个字节、 16 个字节、 32 个字节和 64 个字节。</li>\n<li>USB协议里有规定，端点0最低8字节，端点的最大传输大小和USB速度等级以及传输类型有关，<strong>控制传输一般使用端点0</strong>，低速最大8字节，全速和高速最大传输64字节：</li>\n</ul>\n</li>\n<li><p><strong>idVendor</strong></p>\n<ul>\n<li>代表着设备的生产商ID,由USB设备生产商向USB-IF官方来统一管理和申请。</li>\n</ul>\n</li>\n<li><p><strong>idProduct</strong></p>\n<ul>\n<li>代表着该生产商生产的产品编号，同一厂商下的不同idProduct代表着该公司不同的产品系列。</li>\n</ul>\n</li>\n<li><p><strong>bcdDevice</strong></p>\n<ul>\n<li>是一个BCD编码格式，代表着设备的出产编号，或者同一产品的版本更新迭代。</li>\n</ul>\n</li>\n<li><p><strong>iManufacturer</strong></p>\n<ul>\n<li>描述厂商的字符串的索引，为0则表示没有。</li>\n</ul>\n</li>\n<li><p><strong>iProduct</strong></p>\n<ul>\n<li>描述产品的字符串的索引，为0则表示没有。</li>\n</ul>\n</li>\n<li><p><strong>iSerialNumber</strong></p>\n<ul>\n<li>产品序列号字符串的索引，为0则表示没有。</li>\n</ul>\n</li>\n<li><p><strong>bNumConfigurations</strong></p>\n<ul>\n<li>指示设备有多少个配置，前面提到过，一个USB可能有多个配置，一般USB产品都是1个配置。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"配置描述符-0x02-Configuration-Descriptor\"><a href=\"#配置描述符-0x02-Configuration-Descriptor\" class=\"headerlink\" title=\"配置描述符 0x02 Configuration Descriptor\"></a>配置描述符 0x02 Configuration Descriptor</h2><table>\n<thead>\n<tr>\n<th>偏移</th>\n<th>字段</th>\n<th>大小<br>Byte</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>0</td>\n<td>bLength</td>\n<td>1</td>\n<td>该描述符的长度 &#x3D; 9 个字节</td>\n</tr>\n<tr>\n<td>1</td>\n<td>bDescriptorType</td>\n<td>1</td>\n<td>描述符类型 &#x3D; 配置（02h）</td>\n</tr>\n<tr>\n<td>2</td>\n<td>wTotalLength</td>\n<td>2</td>\n<td>总长度包括接口和端点描述符在内</td>\n</tr>\n<tr>\n<td>4</td>\n<td>bNumInterfaces</td>\n<td>1</td>\n<td>本配置中接口的数量</td>\n</tr>\n<tr>\n<td>5</td>\n<td>bConfigurationValue</td>\n<td>1</td>\n<td>SET_CONFIGURATION 请求所使用的配置值，用于选择该配置</td>\n</tr>\n<tr>\n<td>6</td>\n<td>iConfiguration</td>\n<td>1</td>\n<td>描述该配置的字符串索引</td>\n</tr>\n<tr>\n<td>7</td>\n<td>bmAttributes</td>\n<td>1</td>\n<td>位 7：预留（设置为 1） <br>位 6：自供电 <br>位 5：远程唤醒<br>位 4:0：保留</td>\n</tr>\n<tr>\n<td>8</td>\n<td>bMaxPower</td>\n<td>1</td>\n<td>本配置所需的最大功耗（单位为 2 mA）</td>\n</tr>\n</tbody></table>\n<ul>\n<li><p><strong>bLength</strong> 1字节，表示配置描述符的长度，配置描述符的长度是9字节。</p>\n</li>\n<li><p><strong>bDescriptor</strong> 1字节，表示描述符的类型，配置描述符的类型编码为 0x02。</p>\n</li>\n<li><p><strong>wTotalLength</strong> 2字节，是整个配置描述符集合的总长度。包括配置描述符，接口描述符，端点描述符和类特殊描述符（如果有）。</p>\n</li>\n<li><p><strong>bNumInterfaces</strong> 1字节，则定义了在该指定配置中接口总数。最小为 1 个接口，通常功能单一的设备只有一个接口（如鼠标），而复合设备具有多个接口（如音频设备）。</p>\n</li>\n<li><p><strong>bConfigurationValue</strong> 1字节，表示该配置的值，设置配置请求时会发送一个配置值，如果某个配置的bConfigurationValue和它相匹配，就表示该配置被激活。</p>\n</li>\n<li><p><strong>iConfiguration</strong> 1字节，描述该配置的字符串的索引，如果该值为0，表示没有字符串来描述它。</p>\n</li>\n<li><p><strong>bmAttributes</strong> 1字节，定义了 USB 设备的一些特性。 位7保留，必须设置为1，位6表示供电方式，设置为 0表示设备由总线供电，设置为 1 表示设备自供电。位5表示是否支持远程唤醒，设置为 1表示支持远程唤醒，设置为 0 表示不支持远程唤醒。位4~位0设置为0。</p>\n</li>\n<li><p><strong>bMaxPower</strong> 1字节，表示设备需要从总线获取的最大电流量，以 2 mA 为单位。如需要200mA的最大电流，则该字段的值为100。</p>\n</li>\n</ul>\n<h2 id=\"字符串描述符-0x03\"><a href=\"#字符串描述符-0x03\" class=\"headerlink\" title=\"字符串描述符 0x03\"></a>字符串描述符 0x03</h2><table>\n<thead>\n<tr>\n<th>偏移</th>\n<th>字段</th>\n<th>大小（字节）</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>0</td>\n<td>bLength</td>\n<td>1</td>\n<td>该描述符的长度 &#x3D; 7 个字节</td>\n</tr>\n<tr>\n<td>1</td>\n<td>bDescriptorType</td>\n<td>1</td>\n<td>描述符类型 &#x3D; STRING （03h）</td>\n</tr>\n<tr>\n<td>2..n</td>\n<td>bString 或 wLangID</td>\n<td>变化</td>\n<td>Unicode 编码字符串 或 LANGID 代码</td>\n</tr>\n</tbody></table>\n<p>字符串描述符是可选的，字符串描述符用于描述一些方便人们阅读的信息，比如制造商、设备名称啥的。如果一个设备没有字符串描述符，那么其他描述符中和字符串有关的索引值都必须为 0。</p>\n<h2 id=\"接口描述符-0x04-Interface-Descriptor\"><a href=\"#接口描述符-0x04-Interface-Descriptor\" class=\"headerlink\" title=\"接口描述符 0x04 Interface Descriptor\"></a>接口描述符 0x04 Interface Descriptor</h2><table>\n<thead>\n<tr>\n<th>偏移</th>\n<th>字段</th>\n<th>大小（字节）</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>0</td>\n<td>bLength</td>\n<td>1</td>\n<td>该描述符的长度 &#x3D; 9 个字节</td>\n</tr>\n<tr>\n<td>1</td>\n<td>bDescriptorType</td>\n<td>1</td>\n<td>描述符类型 &#x3D; 接口（04h）</td>\n</tr>\n<tr>\n<td>2</td>\n<td>bInterfaceNumber</td>\n<td>1</td>\n<td>该接口基于零的索引</td>\n</tr>\n<tr>\n<td>3</td>\n<td>bAlternateSetting</td>\n<td>1</td>\n<td>备用设置值</td>\n</tr>\n<tr>\n<td>4</td>\n<td>bNumEndpoints</td>\n<td>1</td>\n<td>该接口所使用的端点数量（不包含 EP0）</td>\n</tr>\n<tr>\n<td>5</td>\n<td>bInterfaceClass</td>\n<td>1</td>\n<td>接口类别</td>\n</tr>\n<tr>\n<td>6</td>\n<td>bInterfaceSubclass</td>\n<td>1</td>\n<td>接口子类别</td>\n</tr>\n<tr>\n<td>7</td>\n<td>bInterfaceProtocol</td>\n<td>1</td>\n<td>接口协议</td>\n</tr>\n<tr>\n<td>8</td>\n<td>iInterface</td>\n<td>1</td>\n<td>该接口字符串描述符索引</td>\n</tr>\n</tbody></table>\n<ul>\n<li><strong>bLength</strong> 1字节，表示接口描述符的长度，标准的接口描述符的长度为9字节。</li>\n<li><strong>bDescriptorType</strong> 1字节，表示描述符的类型，接口描述符的类型编码为 0x04。</li>\n<li><strong>bInterfaceNumber</strong> 1字节，表示该接口的编号，如果一个配置具有多个接口，每个接口的编号都不相同，从0开始依次递增对一个配置的接口进行编号。</li>\n<li><strong>bAlternateSetting</strong> 1字节，接口的备用编号，很少用到，设置为0。</li>\n<li><strong>bNumEndpoints</strong> 1字节，表示该接口的端点数（不包括0端点）。</li>\n<li><strong>bInterfaceClass、bInterfaceSubClass、bInterfaceProtocol</strong> 均为1字节，分别表示接口所使用的类，子类以及协议，由USB协会规定。</li>\n<li><strong>iInterface</strong> 1字节，描述该接口的字符串的索引值，如果为0，表示没有字符串。</li>\n</ul>\n<p><strong>bInterfaceClass</strong>、<strong>bDeviceClass</strong>：</p>\n<table>\n<thead>\n<tr>\n<th>Base Class</th>\n<th>Descriptor Usage</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>00h</td>\n<td>Device</td>\n<td>Use class information in the Interface Descriptors</td>\n</tr>\n<tr>\n<td>01h</td>\n<td>Interface</td>\n<td>Audio USB音频，参见UAC规范</td>\n</tr>\n<tr>\n<td>02h</td>\n<td>Both</td>\n<td>Communications and <a href=\"https://www.usbzh.com/article/detail-842.html\">CDC</a> Control 网卡、调制解调器、串列端口</td>\n</tr>\n<tr>\n<td>03h</td>\n<td>Interface</td>\n<td><a href=\"https://www.usbzh.com/article/detail-76.html\">HID</a> (Human Interface Device)，键盘、鼠标 参见<a href=\"https://www.usbzh.com/article/detail-76.html\">HID</a>规范</td>\n</tr>\n<tr>\n<td>05h</td>\n<td>Interface</td>\n<td>Physical 控制杆</td>\n</tr>\n<tr>\n<td>06h</td>\n<td>Interface</td>\n<td>Image 影像扫描仪、Picture Transfer Protocol</td>\n</tr>\n<tr>\n<td>07h</td>\n<td>Interface</td>\n<td>Printer 打印机</td>\n</tr>\n<tr>\n<td>08h</td>\n<td>Interface</td>\n<td>Mass Storage U盘、移动硬盘、存储卡读卡器、数字相机</td>\n</tr>\n<tr>\n<td>09h</td>\n<td>Device</td>\n<td>Hub <a href=\"https://www.usbzh.com/article/detail-25.html\">集线器</a></td>\n</tr>\n<tr>\n<td>0Ah</td>\n<td>Interface</td>\n<td><a href=\"https://www.usbzh.com/article/detail-842.html\">CDC</a>-Data 调制解调器、网络卡、ISDN、传真</td>\n</tr>\n<tr>\n<td>0Bh</td>\n<td>Interface</td>\n<td>Smart Card 读卡器</td>\n</tr>\n<tr>\n<td>0Dh</td>\n<td>Interface</td>\n<td>Content Security</td>\n</tr>\n<tr>\n<td>0Eh</td>\n<td>Interface</td>\n<td>Video USB视频，<a href=\"https://www.usbzh.com/article/detail-80.html\">UVC</a>摄像头，参见<a href=\"https://www.usbzh.com/article/detail-80.html\">UVC</a>规范</td>\n</tr>\n<tr>\n<td>0Fh</td>\n<td>Interface</td>\n<td>Personal Healthcare</td>\n</tr>\n<tr>\n<td>10h</td>\n<td>Interface</td>\n<td>Audio&#x2F;Video Devices</td>\n</tr>\n<tr>\n<td>11h</td>\n<td>Device</td>\n<td>Billboard Device Class</td>\n</tr>\n<tr>\n<td>12h</td>\n<td>Interface</td>\n<td>USB Type-C Bridge Class</td>\n</tr>\n<tr>\n<td>DCh</td>\n<td>Both</td>\n<td>Diagnostic Device</td>\n</tr>\n<tr>\n<td>E0h</td>\n<td>Interface</td>\n<td>Wireless Controller 蓝牙</td>\n</tr>\n<tr>\n<td>EFh</td>\n<td>Both</td>\n<td>Miscellaneous</td>\n</tr>\n<tr>\n<td>FEh</td>\n<td>Interface</td>\n<td>Application Specific 红外线资料桥接器</td>\n</tr>\n<tr>\n<td>FFh</td>\n<td>Both</td>\n<td>Vendor Specific 自定义USB设备</td>\n</tr>\n<tr>\n<td>更多信息参考 <a href=\"https://www.usb.org/defined-class-codes\">USB.org</a> 的部分章节</td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<h2 id=\"端点描述符-0x05-Endpoint-Descriptor\"><a href=\"#端点描述符-0x05-Endpoint-Descriptor\" class=\"headerlink\" title=\"端点描述符 0x05 Endpoint Descriptor\"></a>端点描述符 0x05 Endpoint Descriptor</h2><table>\n<thead>\n<tr>\n<th>偏移</th>\n<th>字段</th>\n<th>大小<br>Byte</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>0</td>\n<td>bLength</td>\n<td>1</td>\n<td>该描述符长度 &#x3D; 7 个字节</td>\n</tr>\n<tr>\n<td>1</td>\n<td>bDescriptorType</td>\n<td>1</td>\n<td>描述符类型 &#x3D; 端点（05h）</td>\n</tr>\n<tr>\n<td>2</td>\n<td>bEndpointAddress</td>\n<td>1</td>\n<td><strong>位 3…0</strong>：端点数量 <br/><strong>位 6…4</strong>：预留，复位为零 <br/><strong>位 7</strong>：端点的方向。控制端点可以忽略该位。 <br/>0 &#x3D; OUT 端点 (主机到设备) <br/>1 &#x3D; IN 端点 (设备到主机)</td>\n</tr>\n<tr>\n<td>3</td>\n<td>bmAttributes</td>\n<td>1</td>\n<td><strong>位 1…0</strong>：传输类型 <br/>00 &#x3D; 控制传输 <br/>01 &#x3D; 同步传输 <br/>10 &#x3D; 批量传输 <br/>11 &#x3D; 中断传输 <br/>如果该端点不是同步端点，那么位 5 到位 2 将被预留，必须将这些位设置为零。如果该端点是同步的，这些位将按如下内容定义： <br/><strong>位 3…2</strong>：同步类型 <br/>00 &#x3D; 无同步 <br/>01 &#x3D; 异步 <br/>10 &#x3D; 自适应 <br/>11 &#x3D; 同步 <br/><strong>位 5…4</strong>：用途类型 <br/>00 &#x3D; 数据端点 <br/>01 &#x3D; 反馈端点 <br/>10 &#x3D; 隐式反馈数据端点 <br/>数值 11 表示保留</td>\n</tr>\n<tr>\n<td>4</td>\n<td>wMaxPacketSize</td>\n<td>1</td>\n<td>该端点的数据包最大尺寸</td>\n</tr>\n<tr>\n<td>6</td>\n<td>bInterval</td>\n<td>1</td>\n<td>中断端点的轮询间隔，单位为 ms（对于同步端点，该间隔为 1 ms；控制或批量端点可能忽略该字段）</td>\n</tr>\n</tbody></table>\n<ul>\n<li><strong>bLength</strong> 1字节，表示端点描述符的长度，标准的端点描述符的长度为7字节。</li>\n<li><strong>bDescriptorType</strong> 1字节，表示描述符的类型，端点描述符的类型编码为 0x05。</li>\n<li><strong>bEndpointAddress</strong> 1字节，表示该端点的地址和方向。</li>\n<li><strong>bmAttributes</strong> 1字节，表示该端点的属性，详细看上表。<ul>\n<li><strong>Transfer Type</strong> <ul>\n<li><strong>控制CONTROL</strong> 控制端点被用来控制对 USB 设备的不同部分访问。<em>通常用作配置设备、获取设备信息、发送命令到设备或获取设备状态报告</em>。这些端点通常较小。<em>每个 USB 设备都有一个控制端点称为”端点 0”, 被 USB 核心用来在插入时配置设备</em>。USB协议保证总有足够的带宽留给控制端点传送数据到设备.  </li>\n<li><strong>中断INTERRUPT</strong>每当 USB 主机向设备请求数据时，中断端点以固定的速率传送<em>小量的数据</em>。此为USB 键盘和鼠标的主要的数据传送方法。它还用以传送数据到 USB 设备来控制设备。<em>通常不用来传送大量数据</em>。USB协议保证总有足够的带宽留给中断端点传送数据到设备.</li>\n<li><strong>批量BULK</strong>  批量端点用以传送大量数据。这些端点常比中断端点大得多. 它们普遍用于<em>不能有任何数据丢失的数据</em>。USB 协议<em>不保证传输在特定时间范围内完成</em>。如果总线上没有足够的空间来发送整个BULK包，它被分为多个包进行传输。这些端点普遍用于打印机、USB Mass Storage和USB网络设备上。</li>\n<li><strong>等时ISOCHRONOUS</strong> 等时端点也批量传送大量数据, 但是这个数据<em>不被保证能送达</em>。这些端点用在可以处理数据丢失的设备中，并且更多依赖于保持持续的数据流。如音频和视频设备等等。</li>\n<li>对比总结：<em>控制</em>和<em>批量</em>端点用于异步数据传送，而<em>中断</em>和<em>同步</em>端点是周期性的。这意味着这些端点被设置来在固定的时间连续传送数据，USB 核心为它们保留了相应的带宽。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><strong>wMaxPacketSize</strong> 2字节，表示该端点的数据包最大长度。</li>\n<li><strong>bInterval</strong> 1字节</li>\n</ul>\n<p>每个端点描述符都规定了该端点所支持的最大数据包长 (wMaxPacketSize)，主机每次发送数据包，都不能超过端点的最大包长，各种端点的最大包长如下表：</p>\n<table>\n<thead>\n<tr>\n<th>端点类型</th>\n<th>最大包长 (低速)</th>\n<th>最大包长 (全速)</th>\n<th>最大包长 (高)</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>控制端点</td>\n<td>8</td>\n<td>8&#x2F;16&#x2F;32&#x2F;64</td>\n<td>64</td>\n</tr>\n<tr>\n<td>实时端点</td>\n<td>不支持</td>\n<td>1023</td>\n<td>1024</td>\n</tr>\n<tr>\n<td>中断端点</td>\n<td>8</td>\n<td>64</td>\n<td>1024</td>\n</tr>\n<tr>\n<td>批量端点</td>\n<td>不支持</td>\n<td>8&#x2F;16&#x2F;32&#x2F;64</td>\n<td>512</td>\n</tr>\n</tbody></table>\n<h1 id=\"HID\"><a href=\"#HID\" class=\"headerlink\" title=\"HID\"></a>HID</h1><h1 id=\"UVC\"><a href=\"#UVC\" class=\"headerlink\" title=\"UVC\"></a>UVC</h1><blockquote>\n<p>UVC，全称为：USB video(device) class,是微软与另外几家设备厂商联合推出的为USB视频捕获设备定义的协议标准，目前已成为USB org标准之一。</p>\n</blockquote>\n",
            "tags": [
                "embedded",
                "usb"
            ]
        },
        {
            "id": "https://www.oikiou.top/2023/6dfa9920/",
            "url": "https://www.oikiou.top/2023/6dfa9920/",
            "title": "OrangePi",
            "date_published": "2023-11-23T08:12:15.000Z",
            "content_html": "<h1 id=\"OrangePi-3B-系统安装\"><a href=\"#OrangePi-3B-系统安装\" class=\"headerlink\" title=\"OrangePi 3B 系统安装\"></a>OrangePi 3B 系统安装</h1><p>…</p>\n<p>系统镜像：</p>\n<p>EN: <a href=\"http://www.orangepi.org/html/hardWare/computerAndMicrocontrollers/service-and-support/Orange-Pi-3B.html\">http://www.orangepi.org/html/hardWare/computerAndMicrocontrollers/service-and-support/Orange-Pi-3B.html</a></p>\n<p>CN: <a href=\"http://www.orangepi.cn/html/hardWare/computerAndMicrocontrollers/service-and-support/Orange-Pi-3B.html\">http://www.orangepi.cn/html/hardWare/computerAndMicrocontrollers/service-and-support/Orange-Pi-3B.html</a></p>\n<h1 id=\"系统\"><a href=\"#系统\" class=\"headerlink\" title=\"系统\"></a>系统</h1><h2 id=\"用户\"><a href=\"#用户\" class=\"headerlink\" title=\"用户\"></a>用户</h2><table>\n<thead>\n<tr>\n<th>用户名</th>\n<th>密码</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>root</td>\n<td>orangepi</td>\n</tr>\n<tr>\n<td>orangepi</td>\n<td>orangepi</td>\n</tr>\n</tbody></table>\n<h2 id=\"硬件配置\"><a href=\"#硬件配置\" class=\"headerlink\" title=\"硬件配置\"></a>硬件配置</h2><blockquote>\n<p>  <strong>选择 System -&gt; Hardware</strong></p>\n<p>  请注意，uart2_m0 默认是作为系统的调试串口，如果打开了 uart2 的配置，调试串口的功能会无法使用</p>\n<p>  i2c3_m0 和 uart3_m0 是引脚复用的，两者不能同时打开</p>\n<p>  <strong>配置完成需要重启生效</strong></p>\n</blockquote>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">sudo orangepi-config<br><br>reboot<br></code></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"网络\"><a href=\"#网络\" class=\"headerlink\" title=\"网络\"></a>网络</h2><h3 id=\"WLAN\"><a href=\"#WLAN\" class=\"headerlink\" title=\"WLAN\"></a>WLAN</h3><blockquote>\n<p>  请不要通过修改&#x2F;etc&#x2F;network&#x2F;interfaces 配置文件的方式来连接 WIFI，通过这种方式连接 WIFI 网络使用会有问题。</p>\n</blockquote>\n<h4 id=\"命令行版\"><a href=\"#命令行版\" class=\"headerlink\" title=\"命令行版\"></a>命令行版</h4><ol>\n<li>首先使用<code>nmcli dev wifi</code>命令扫描周围的 WIFI 热点</li>\n<li>然后使用 nmcli 命令连接扫描到的 WIFI 热点 <code>nmcli dev wifi connect wifi_name password wifi_passwd</code><ol>\n<li><code>wifi_name</code> 需要换成想连接的 WIFI 热点的名字</li>\n<li><code>wifi_passwd</code> 需要换成想连接的 WIFI 热点的密码</li>\n</ol>\n</li>\n<li>通过 <code>ip addr show wlan0</code> 命令可以查看 wifi 的 IP 地址</li>\n</ol>\n<h4 id=\"UI版\"><a href=\"#UI版\" class=\"headerlink\" title=\"UI版\"></a>UI版</h4><ol>\n<li>在命令行中输入 <code>nmtui</code> 命令打开 wifi 连接的界面</li>\n</ol>\n",
            "tags": [
                "linux"
            ]
        },
        {
            "id": "https://www.oikiou.top/2023/a3ad4999/",
            "url": "https://www.oikiou.top/2023/a3ad4999/",
            "title": "查看Apk安装包的签名",
            "date_published": "2023-11-20T09:47:15.000Z",
            "content_html": "<h1 id=\"查看apk安装包的签名\"><a href=\"#查看apk安装包的签名\" class=\"headerlink\" title=\"查看apk安装包的签名\"></a>查看apk安装包的签名</h1><p>首先，确保你已经安装了Java开发工具包（JDK），以便使用其中的工具。</p>\n<p>查看Android apk的签名信息方式有两种</p>\n<ol>\n<li><p>直接查看apk的签名信息（推荐）</p>\n<ol>\n<li><pre><code class=\"shell\">keytool -list -printcert -jarfile wechat.apk \n<figure class=\"highlight stata\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs stata\"><br>2.   通过apk中的RSA文件查看签名信息<br><br>     1.   将apk后缀改为.<span class=\"hljs-keyword\">zip</span>，然后解压（**apk其实是一个用<span class=\"hljs-keyword\">zip</span>压缩的文件**），再进入<span class=\"hljs-keyword\">META</span>-<span class=\"hljs-keyword\">INF</span>目录，找到RSA文件<br><br>     2.   ```<span class=\"hljs-keyword\">shell</span><br>          keytool -printcert -<span class=\"hljs-keyword\">file</span> COM_TENC.RSA <br></code></pre></td></tr></table></figure>\n</code></pre>\n</li>\n</ol>\n</li>\n</ol>\n",
            "tags": [
                "apk",
                "java"
            ]
        },
        {
            "id": "https://www.oikiou.top/2023/c65a4228/",
            "url": "https://www.oikiou.top/2023/c65a4228/",
            "title": "Frp",
            "date_published": "2023-11-03T11:12:15.000Z",
            "content_html": "<h1 id=\"背景介绍\"><a href=\"#背景介绍\" class=\"headerlink\" title=\"背景介绍\"></a>背景介绍</h1><p>frp 是一款高性能的反向代理应用，专注于内网穿透。它支持多种协议，包括 TCP、UDP、HTTP、HTTPS 等，并且具备 P2P 通信功能。使用 frp，您可以安全、便捷地将内网服务暴露到公网，通过拥有公网 IP 的节点进行中转。</p>\n<blockquote>\n<h1 id=\"特性\"><a href=\"#特性\" class=\"headerlink\" title=\"特性\"></a>特性</h1><p>  通过在具有公网 IP 的节点上部署 frp 服务端，您可以轻松地将内网服务穿透到公网，并享受以下专业特性：</p>\n<ul>\n<li>多种协议支持：客户端服务端通信支持 TCP、QUIC、KCP 和 Websocket 等多种协议。</li>\n<li>TCP 连接流式复用：在单个连接上承载多个请求，减少连接建立时间，降低请求延迟。</li>\n<li>代理组间的负载均衡。</li>\n<li>端口复用：多个服务可以通过同一个服务端端口暴露。</li>\n<li>P2P 通信：流量不必经过服务器中转，充分利用带宽资源。</li>\n<li>客户端插件：提供多个原生支持的客户端插件，如静态文件查看、HTTPS&#x2F;HTTP 协议转换、HTTP、SOCKS5 代理等，以便满足各种需求。</li>\n<li>服务端插件系统：高度可扩展的服务端插件系统，便于根据自身需求进行功能扩展。</li>\n<li>用户友好的 UI 页面：提供服务端和客户端的用户界面，使配置和监控变得更加方便。</li>\n</ul>\n<h2 id=\"工作原理\"><a href=\"#工作原理\" class=\"headerlink\" title=\"工作原理\"></a>工作原理</h2><p>  frp 主要由两个组件组成：客户端(frpc) 和 服务端(frps)。通常情况下，服务端部署在具有公网 IP 地址的机器上，而客户端部署在需要穿透的内网服务所在的机器上。</p>\n<p>  由于内网服务缺乏公网 IP 地址，因此无法直接被非局域网内的用户访问。用户通过访问服务端的 frps，frp 负责根据请求的端口或其他信息将请求路由到相应的内网机器，从而实现通信。</p>\n<h2 id=\"代理\"><a href=\"#代理\" class=\"headerlink\" title=\"代理\"></a>代理</h2><p>  在 frp 中，一个代理对应一个需要公开访问的内网服务。一个客户端可以同时配置多个代理，以满足不同的需求。</p>\n<h2 id=\"代理类型\"><a href=\"#代理类型\" class=\"headerlink\" title=\"代理类型\"></a>代理类型</h2><p>  frp 支持多种代理类型，以适应不同的使用场景。以下是一些常见的代理类型：</p>\n<ul>\n<li><strong>TCP</strong>：提供纯粹的 TCP 端口映射，使服务端能够根据不同的端口将请求路由到不同的内网服务。</li>\n<li><strong>UDP</strong>：提供纯粹的 UDP 端口映射，与 TCP 代理类似，但用于 UDP 流量。</li>\n<li><strong>HTTP</strong>：专为 HTTP 应用设计，支持修改 Host Header 和增加鉴权等额外功能。</li>\n<li><strong>HTTPS</strong>：类似于 HTTP 代理，但专门用于处理 HTTPS 流量。</li>\n<li><strong>STCP</strong>：提供安全的 TCP 内网代理，要求在被访问者和访问者的机器上都部署 frpc，不需要在服务端暴露端口。</li>\n<li><strong>SUDP</strong>：提供安全的 UDP 内网代理，与 STCP 类似，需要在被访问者和访问者的机器上都部署 frpc，不需要在服务端暴露端口。</li>\n<li><strong>XTCP</strong>：点对点内网穿透代理，与 STCP 类似，但流量不需要经过服务器中转。</li>\n<li><strong>TCPMUX</strong>：支持服务端 TCP 端口的多路复用，允许通过同一端口访问不同的内网服务。</li>\n</ul>\n</blockquote>\n<h1 id=\"部署\"><a href=\"#部署\" class=\"headerlink\" title=\"部署\"></a>部署</h1><blockquote>\n<h2 id=\"下载\"><a href=\"#下载\" class=\"headerlink\" title=\"下载\"></a>下载</h2><p>  您可以从 GitHub 的 <a href=\"https://github.com/fatedier/frp/releases\">Release</a> 页面中下载最新版本的客户端和服务器二进制文件。所有文件都打包在一个压缩包中，还包含了一份完整的配置参数说明。</p>\n<h2 id=\"部署-1\"><a href=\"#部署-1\" class=\"headerlink\" title=\"部署\"></a>部署</h2><ol>\n<li>解压下载的压缩包。</li>\n<li>将 <code>frpc</code> 复制到内网服务所在的机器上。</li>\n<li>将 <code>frps</code> 复制到拥有公网 IP 地址的机器上，并将它们放在任意目录。</li>\n</ol>\n<h2 id=\"开始使用！\"><a href=\"#开始使用！\" class=\"headerlink\" title=\"开始使用！\"></a>开始使用！</h2><ol>\n<li>编写配置文件，目前支持的文件格式包括 TOML&#x2F;YAML&#x2F;JSON，旧的 INI 格式仍然支持，但已经不再推荐。</li>\n<li>使用以下命令启动服务器：<code>./frps -c ./frps.toml</code>。</li>\n<li>使用以下命令启动客户端：<code>./frpc -c ./frpc.toml</code>。</li>\n<li>如果需要在后台长期运行，建议结合其他工具，如 <code>systemd</code> 和 <code>supervisor</code>。</li>\n</ol>\n</blockquote>\n<h1 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h1><p><a href=\"https://gofrp.org/zh-cn/docs/examples/\">配置示例</a></p>\n<blockquote>\n<p>  具体配置可以参考官方文档，写的挺详细的，不过提示一点，配置文件的配置项有顺序要求，需要注意。</p>\n<p>  例如<code>frpc</code>的配置中<code>auth.token</code> 需要放在全局配置里面，不能放在<code>[[proxies]]</code>等等配置选项后面。</p>\n</blockquote>\n<h2 id=\"配置文件参考\"><a href=\"#配置文件参考\" class=\"headerlink\" title=\"配置文件参考\"></a>配置文件参考</h2><h3 id=\"frps\"><a href=\"#frps\" class=\"headerlink\" title=\"frps\"></a>frps</h3><p><a href=\"https://github.com/fatedier/frp/blob/dev/conf/frps_full_example.toml\">frps</a></p>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs ini\"><span class=\"hljs-comment\"># This configuration file is for reference only. Please do not use this configuration directly to run the program as it may have various issues.</span><br><br><span class=\"hljs-comment\"># A literal address or host name for IPv6 must be enclosed</span><br><span class=\"hljs-comment\"># in square brackets, as in &quot;[::1]:80&quot;, &quot;[ipv6-host]:http&quot; or &quot;[ipv6-host%zone]:80&quot;</span><br><span class=\"hljs-comment\"># For single &quot;bindAddr&quot; field, no need square brackets, like `bindAddr = &quot;::&quot;`.</span><br><span class=\"hljs-attr\">bindAddr</span> = <span class=\"hljs-string\">&quot;0.0.0.0&quot;</span><br><span class=\"hljs-attr\">bindPort</span> = <span class=\"hljs-number\">7000</span><br><br><span class=\"hljs-comment\"># udp port used for kcp protocol, it can be same with &#x27;bindPort&#x27;.</span><br><span class=\"hljs-comment\"># if not set, kcp is disabled in frps.</span><br><span class=\"hljs-attr\">kcpBindPort</span> = <span class=\"hljs-number\">7000</span><br><br><span class=\"hljs-comment\"># udp port used for quic protocol.</span><br><span class=\"hljs-comment\"># if not set, quic is disabled in frps.</span><br><span class=\"hljs-comment\"># quicBindPort = 7002</span><br><br><span class=\"hljs-comment\"># Specify which address proxy will listen for, default value is same with bindAddr</span><br><span class=\"hljs-comment\"># proxyBindAddr = &quot;127.0.0.1&quot;</span><br><br><span class=\"hljs-comment\"># quic protocol options</span><br><span class=\"hljs-comment\"># transport.quic.keepalivePeriod = 10</span><br><span class=\"hljs-comment\"># transport.quic.maxIdleTimeout = 30</span><br><span class=\"hljs-comment\"># transport.quic.maxIncomingStreams = 100000</span><br><br><span class=\"hljs-comment\"># Heartbeat configure, it&#x27;s not recommended to modify the default value</span><br><span class=\"hljs-comment\"># The default value of heartbeatTimeout is 90. Set negative value to disable it.</span><br><span class=\"hljs-comment\"># transport.heartbeatTimeout = 90</span><br><br><span class=\"hljs-comment\"># Pool count in each proxy will keep no more than maxPoolCount.</span><br><span class=\"hljs-attr\">transport.maxPoolCount</span> = <span class=\"hljs-number\">5</span><br><br><span class=\"hljs-comment\"># If tcp stream multiplexing is used, default is true</span><br><span class=\"hljs-comment\"># transport.tcpMux = true</span><br><br><span class=\"hljs-comment\"># Specify keep alive interval for tcp mux.</span><br><span class=\"hljs-comment\"># only valid if tcpMux is true.</span><br><span class=\"hljs-comment\"># transport.tcpMuxKeepaliveInterval = 60</span><br><br><span class=\"hljs-comment\"># tcpKeepalive specifies the interval between keep-alive probes for an active network connection between frpc and frps.</span><br><span class=\"hljs-comment\"># If negative, keep-alive probes are disabled.</span><br><span class=\"hljs-comment\"># transport.tcpKeepalive = 7200</span><br><br><span class=\"hljs-comment\"># transport.tls.force specifies whether to only accept TLS-encrypted connections. By default, the value is false.</span><br><span class=\"hljs-attr\">transport.tls.force</span> = <span class=\"hljs-literal\">false</span><br><br><span class=\"hljs-comment\"># transport.tls.certFile = &quot;server.crt&quot;</span><br><span class=\"hljs-comment\"># transport.tls.keyFile = &quot;server.key&quot;</span><br><span class=\"hljs-comment\"># transport.tls.trustedCaFile = &quot;ca.crt&quot;</span><br><br><span class=\"hljs-comment\"># If you want to support virtual host, you must set the http port for listening (optional)</span><br><span class=\"hljs-comment\"># <span class=\"hljs-doctag\">Note:</span> http port and https port can be same with bindPort</span><br><span class=\"hljs-attr\">vhostHTTPPort</span> = <span class=\"hljs-number\">80</span><br><span class=\"hljs-attr\">vhostHTTPSPort</span> = <span class=\"hljs-number\">443</span><br><br><span class=\"hljs-comment\"># Response header timeout(seconds) for vhost http server, default is 60s</span><br><span class=\"hljs-comment\"># vhostHTTPTimeout = 60</span><br><br><span class=\"hljs-comment\"># tcpmuxHTTPConnectPort specifies the port that the server listens for TCP</span><br><span class=\"hljs-comment\"># HTTP CONNECT requests. If the value is 0, the server will not multiplex TCP</span><br><span class=\"hljs-comment\"># requests on one single port. If it&#x27;s not - it will listen on this value for</span><br><span class=\"hljs-comment\"># HTTP CONNECT requests. By default, this value is 0.</span><br><span class=\"hljs-comment\"># tcpmuxHTTPConnectPort = 1337</span><br><br><span class=\"hljs-comment\"># If tcpmuxPassthrough is true, frps won&#x27;t do any update on traffic.</span><br><span class=\"hljs-comment\"># tcpmuxPassthrough = false</span><br><br><span class=\"hljs-comment\"># Configure the web server to enable the dashboard for frps.</span><br><span class=\"hljs-comment\"># dashboard is available only if webServer.port is set.</span><br><span class=\"hljs-attr\">webServer.addr</span> = <span class=\"hljs-string\">&quot;127.0.0.1&quot;</span><br><span class=\"hljs-attr\">webServer.port</span> = <span class=\"hljs-number\">7500</span><br><span class=\"hljs-attr\">webServer.user</span> = <span class=\"hljs-string\">&quot;admin&quot;</span><br><span class=\"hljs-attr\">webServer.password</span> = <span class=\"hljs-string\">&quot;admin&quot;</span><br><span class=\"hljs-comment\"># webServer.tls.certFile = &quot;server.crt&quot;</span><br><span class=\"hljs-comment\"># webServer.tls.keyFile = &quot;server.key&quot;</span><br><span class=\"hljs-comment\"># dashboard assets directory(only for debug mode)</span><br><span class=\"hljs-comment\"># webServer.assetsDir = &quot;./static&quot;</span><br><br><span class=\"hljs-comment\"># Enable golang pprof handlers in dashboard listener.</span><br><span class=\"hljs-comment\"># Dashboard port must be set first</span><br><span class=\"hljs-attr\">webServer.pprofEnable</span> = <span class=\"hljs-literal\">false</span><br><br><span class=\"hljs-comment\"># enablePrometheus will export prometheus metrics on webServer in /metrics api.</span><br><span class=\"hljs-attr\">enablePrometheus</span> = <span class=\"hljs-literal\">true</span><br><br><span class=\"hljs-comment\"># console or real logFile path like ./frps.log</span><br><span class=\"hljs-attr\">log.to</span> = <span class=\"hljs-string\">&quot;./frps.log&quot;</span><br><span class=\"hljs-comment\"># trace, debug, info, warn, error</span><br><span class=\"hljs-attr\">log.level</span> = <span class=\"hljs-string\">&quot;info&quot;</span><br><span class=\"hljs-attr\">log.maxDays</span> = <span class=\"hljs-number\">3</span><br><span class=\"hljs-comment\"># disable log colors when log.to is console, default is false</span><br><span class=\"hljs-attr\">log.disablePrintColor</span> = <span class=\"hljs-literal\">false</span><br><br><span class=\"hljs-comment\"># DetailedErrorsToClient defines whether to send the specific error (with debug info) to frpc. By default, this value is true.</span><br><span class=\"hljs-attr\">detailedErrorsToClient</span> = <span class=\"hljs-literal\">true</span><br><br><span class=\"hljs-comment\"># auth.method specifies what authentication method to use authenticate frpc with frps.</span><br><span class=\"hljs-comment\"># If &quot;token&quot; is specified - token will be read into login message.</span><br><span class=\"hljs-comment\"># If &quot;oidc&quot; is specified - OIDC (Open ID Connect) token will be issued using OIDC settings. By default, this value is &quot;token&quot;.</span><br><span class=\"hljs-attr\">auth.method</span> = <span class=\"hljs-string\">&quot;token&quot;</span><br><br><span class=\"hljs-comment\"># auth.additionalScopes specifies additional scopes to include authentication information.</span><br><span class=\"hljs-comment\"># Optional values are HeartBeats, NewWorkConns.</span><br><span class=\"hljs-comment\"># auth.additionalScopes = [&quot;HeartBeats&quot;, &quot;NewWorkConns&quot;]</span><br><br><span class=\"hljs-comment\"># auth token</span><br><span class=\"hljs-attr\">auth.token</span> = <span class=\"hljs-string\">&quot;12345678&quot;</span><br><br><span class=\"hljs-comment\"># oidc issuer specifies the issuer to verify OIDC tokens with.</span><br><span class=\"hljs-attr\">auth.oidc.issuer</span> = <span class=\"hljs-string\">&quot;&quot;</span><br><span class=\"hljs-comment\"># oidc audience specifies the audience OIDC tokens should contain when validated.</span><br><span class=\"hljs-attr\">auth.oidc.audience</span> = <span class=\"hljs-string\">&quot;&quot;</span><br><span class=\"hljs-comment\"># oidc skipExpiryCheck specifies whether to skip checking if the OIDC token is expired.</span><br><span class=\"hljs-attr\">auth.oidc.skipExpiryCheck</span> = <span class=\"hljs-literal\">false</span><br><span class=\"hljs-comment\"># oidc skipIssuerCheck specifies whether to skip checking if the OIDC token&#x27;s issuer claim matches the issuer specified in OidcIssuer.</span><br><span class=\"hljs-attr\">auth.oidc.skipIssuerCheck</span> = <span class=\"hljs-literal\">false</span><br><br><span class=\"hljs-comment\"># userConnTimeout specifies the maximum time to wait for a work connection.</span><br><span class=\"hljs-comment\"># userConnTimeout = 10</span><br><br><span class=\"hljs-comment\"># Only allow frpc to bind ports you list. By default, there won&#x27;t be any limit.</span><br><span class=\"hljs-attr\">allowPorts</span> = [<br>  &#123; start = <span class=\"hljs-number\">2000</span>, end = <span class=\"hljs-number\">3000</span> &#125;,<br>  &#123; single = <span class=\"hljs-number\">3001</span> &#125;,<br>  &#123; single = <span class=\"hljs-number\">3003</span> &#125;,<br>  &#123; start = <span class=\"hljs-number\">4000</span>, end = <span class=\"hljs-number\">50000</span> &#125;<br>]<br><br><span class=\"hljs-comment\"># Max ports can be used for each client, default value is 0 means no limit</span><br><span class=\"hljs-attr\">maxPortsPerClient</span> = <span class=\"hljs-number\">0</span><br><br><span class=\"hljs-comment\"># If subDomainHost is not empty, you can set subdomain when type is http or https in frpc&#x27;s configure file</span><br><span class=\"hljs-comment\"># When subdomain is test, the host used by routing is test.frps.com</span><br><span class=\"hljs-attr\">subDomainHost</span> = <span class=\"hljs-string\">&quot;frps.com&quot;</span><br><br><span class=\"hljs-comment\"># custom 404 page for HTTP requests</span><br><span class=\"hljs-comment\"># custom404Page = &quot;/path/to/404.html&quot;</span><br><br><span class=\"hljs-comment\"># specify udp packet size, unit is byte. If not set, the default value is 1500.</span><br><span class=\"hljs-comment\"># This parameter should be same between client and server.</span><br><span class=\"hljs-comment\"># It affects the udp and sudp proxy.</span><br><span class=\"hljs-attr\">udpPacketSize</span> = <span class=\"hljs-number\">1500</span><br><br><span class=\"hljs-comment\"># Retention time for NAT hole punching strategy data.</span><br><span class=\"hljs-attr\">natholeAnalysisDataReserveHours</span> = <span class=\"hljs-number\">168</span><br><br><span class=\"hljs-comment\"># ssh tunnel gateway</span><br><span class=\"hljs-comment\"># If you want to enable this feature, the bindPort parameter is required, while others are optional.</span><br><span class=\"hljs-comment\"># By default, this feature is disabled. It will be enabled if bindPort is greater than 0.</span><br><span class=\"hljs-comment\"># sshTunnelGateway.bindPort = 2200</span><br><span class=\"hljs-comment\"># sshTunnelGateway.privateKeyFile = &quot;/home/frp-user/.ssh/id_rsa&quot;</span><br><span class=\"hljs-comment\"># sshTunnelGateway.autoGenPrivateKeyPath = &quot;&quot;</span><br><span class=\"hljs-comment\"># sshTunnelGateway.authorizedKeysFile = &quot;/home/frp-user/.ssh/authorized_keys&quot;</span><br><br><span class=\"hljs-section\">[[httpPlugins]]</span><br><span class=\"hljs-attr\">name</span> = <span class=\"hljs-string\">&quot;user-manager&quot;</span><br><span class=\"hljs-attr\">addr</span> = <span class=\"hljs-string\">&quot;127.0.0.1:9000&quot;</span><br><span class=\"hljs-attr\">path</span> = <span class=\"hljs-string\">&quot;/handler&quot;</span><br><span class=\"hljs-attr\">ops</span> = [<span class=\"hljs-string\">&quot;Login&quot;</span>]<br><br><span class=\"hljs-section\">[[httpPlugins]]</span><br><span class=\"hljs-attr\">name</span> = <span class=\"hljs-string\">&quot;port-manager&quot;</span><br><span class=\"hljs-attr\">addr</span> = <span class=\"hljs-string\">&quot;127.0.0.1:9001&quot;</span><br><span class=\"hljs-attr\">path</span> = <span class=\"hljs-string\">&quot;/handler&quot;</span><br><span class=\"hljs-attr\">ops</span> = [<span class=\"hljs-string\">&quot;NewProxy&quot;</span>]<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"frpc\"><a href=\"#frpc\" class=\"headerlink\" title=\"frpc\"></a>frpc</h3><p><a href=\"https://github.com/fatedier/frp/blob/dev/conf/frpc_full_example.toml\">frpc</a></p>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs ini\"><span class=\"hljs-comment\"># This configuration file is for reference only. Please do not use this configuration directly to run the program as it may have various issues.</span><br><br><span class=\"hljs-comment\"># A literal address or host name for IPv6 must be enclosed</span><br><span class=\"hljs-comment\"># in square brackets, as in &quot;[::1]:80&quot;, &quot;[ipv6-host]:http&quot; or &quot;[ipv6-host%zone]:80&quot;</span><br><span class=\"hljs-comment\"># For single &quot;bindAddr&quot; field, no need square brackets, like `bindAddr = &quot;::&quot;`.</span><br><span class=\"hljs-attr\">bindAddr</span> = <span class=\"hljs-string\">&quot;0.0.0.0&quot;</span><br><span class=\"hljs-attr\">bindPort</span> = <span class=\"hljs-number\">7000</span><br><br><span class=\"hljs-comment\"># udp port used for kcp protocol, it can be same with &#x27;bindPort&#x27;.</span><br><span class=\"hljs-comment\"># if not set, kcp is disabled in frps.</span><br><span class=\"hljs-attr\">kcpBindPort</span> = <span class=\"hljs-number\">7000</span><br><br><span class=\"hljs-comment\"># udp port used for quic protocol.</span><br><span class=\"hljs-comment\"># if not set, quic is disabled in frps.</span><br><span class=\"hljs-comment\"># quicBindPort = 7002</span><br><br><span class=\"hljs-comment\"># Specify which address proxy will listen for, default value is same with bindAddr</span><br><span class=\"hljs-comment\"># proxyBindAddr = &quot;127.0.0.1&quot;</span><br><br><span class=\"hljs-comment\"># quic protocol options</span><br><span class=\"hljs-comment\"># transport.quic.keepalivePeriod = 10</span><br><span class=\"hljs-comment\"># transport.quic.maxIdleTimeout = 30</span><br><span class=\"hljs-comment\"># transport.quic.maxIncomingStreams = 100000</span><br><br><span class=\"hljs-comment\"># Heartbeat configure, it&#x27;s not recommended to modify the default value</span><br><span class=\"hljs-comment\"># The default value of heartbeatTimeout is 90. Set negative value to disable it.</span><br><span class=\"hljs-comment\"># transport.heartbeatTimeout = 90</span><br><br><span class=\"hljs-comment\"># Pool count in each proxy will keep no more than maxPoolCount.</span><br><span class=\"hljs-attr\">transport.maxPoolCount</span> = <span class=\"hljs-number\">5</span><br><br><span class=\"hljs-comment\"># If tcp stream multiplexing is used, default is true</span><br><span class=\"hljs-comment\"># transport.tcpMux = true</span><br><br><span class=\"hljs-comment\"># Specify keep alive interval for tcp mux.</span><br><span class=\"hljs-comment\"># only valid if tcpMux is true.</span><br><span class=\"hljs-comment\"># transport.tcpMuxKeepaliveInterval = 60</span><br><br><span class=\"hljs-comment\"># tcpKeepalive specifies the interval between keep-alive probes for an active network connection between frpc and frps.</span><br><span class=\"hljs-comment\"># If negative, keep-alive probes are disabled.</span><br><span class=\"hljs-comment\"># transport.tcpKeepalive = 7200</span><br><br><span class=\"hljs-comment\"># transport.tls.force specifies whether to only accept TLS-encrypted connections. By default, the value is false.</span><br><span class=\"hljs-attr\">transport.tls.force</span> = <span class=\"hljs-literal\">false</span><br><br><span class=\"hljs-comment\"># transport.tls.certFile = &quot;server.crt&quot;</span><br><span class=\"hljs-comment\"># transport.tls.keyFile = &quot;server.key&quot;</span><br><span class=\"hljs-comment\"># transport.tls.trustedCaFile = &quot;ca.crt&quot;</span><br><br><span class=\"hljs-comment\"># If you want to support virtual host, you must set the http port for listening (optional)</span><br><span class=\"hljs-comment\"># <span class=\"hljs-doctag\">Note:</span> http port and https port can be same with bindPort</span><br><span class=\"hljs-attr\">vhostHTTPPort</span> = <span class=\"hljs-number\">80</span><br><span class=\"hljs-attr\">vhostHTTPSPort</span> = <span class=\"hljs-number\">443</span><br><br><span class=\"hljs-comment\"># Response header timeout(seconds) for vhost http server, default is 60s</span><br><span class=\"hljs-comment\"># vhostHTTPTimeout = 60</span><br><br><span class=\"hljs-comment\"># tcpmuxHTTPConnectPort specifies the port that the server listens for TCP</span><br><span class=\"hljs-comment\"># HTTP CONNECT requests. If the value is 0, the server will not multiplex TCP</span><br><span class=\"hljs-comment\"># requests on one single port. If it&#x27;s not - it will listen on this value for</span><br><span class=\"hljs-comment\"># HTTP CONNECT requests. By default, this value is 0.</span><br><span class=\"hljs-comment\"># tcpmuxHTTPConnectPort = 1337</span><br><br><span class=\"hljs-comment\"># If tcpmuxPassthrough is true, frps won&#x27;t do any update on traffic.</span><br><span class=\"hljs-comment\"># tcpmuxPassthrough = false</span><br><br><span class=\"hljs-comment\"># Configure the web server to enable the dashboard for frps.</span><br><span class=\"hljs-comment\"># dashboard is available only if webServer.port is set.</span><br><span class=\"hljs-attr\">webServer.addr</span> = <span class=\"hljs-string\">&quot;127.0.0.1&quot;</span><br><span class=\"hljs-attr\">webServer.port</span> = <span class=\"hljs-number\">7500</span><br><span class=\"hljs-attr\">webServer.user</span> = <span class=\"hljs-string\">&quot;admin&quot;</span><br><span class=\"hljs-attr\">webServer.password</span> = <span class=\"hljs-string\">&quot;admin&quot;</span><br><span class=\"hljs-comment\"># webServer.tls.certFile = &quot;server.crt&quot;</span><br><span class=\"hljs-comment\"># webServer.tls.keyFile = &quot;server.key&quot;</span><br><span class=\"hljs-comment\"># dashboard assets directory(only for debug mode)</span><br><span class=\"hljs-comment\"># webServer.assetsDir = &quot;./static&quot;</span><br><br><span class=\"hljs-comment\"># Enable golang pprof handlers in dashboard listener.</span><br><span class=\"hljs-comment\"># Dashboard port must be set first</span><br><span class=\"hljs-attr\">webServer.pprofEnable</span> = <span class=\"hljs-literal\">false</span><br><br><span class=\"hljs-comment\"># enablePrometheus will export prometheus metrics on webServer in /metrics api.</span><br><span class=\"hljs-attr\">enablePrometheus</span> = <span class=\"hljs-literal\">true</span><br><br><span class=\"hljs-comment\"># console or real logFile path like ./frps.log</span><br><span class=\"hljs-attr\">log.to</span> = <span class=\"hljs-string\">&quot;./frps.log&quot;</span><br><span class=\"hljs-comment\"># trace, debug, info, warn, error</span><br><span class=\"hljs-attr\">log.level</span> = <span class=\"hljs-string\">&quot;info&quot;</span><br><span class=\"hljs-attr\">log.maxDays</span> = <span class=\"hljs-number\">3</span><br><span class=\"hljs-comment\"># disable log colors when log.to is console, default is false</span><br><span class=\"hljs-attr\">log.disablePrintColor</span> = <span class=\"hljs-literal\">false</span><br><br><span class=\"hljs-comment\"># DetailedErrorsToClient defines whether to send the specific error (with debug info) to frpc. By default, this value is true.</span><br><span class=\"hljs-attr\">detailedErrorsToClient</span> = <span class=\"hljs-literal\">true</span><br><br><span class=\"hljs-comment\"># auth.method specifies what authentication method to use authenticate frpc with frps.</span><br><span class=\"hljs-comment\"># If &quot;token&quot; is specified - token will be read into login message.</span><br><span class=\"hljs-comment\"># If &quot;oidc&quot; is specified - OIDC (Open ID Connect) token will be issued using OIDC settings. By default, this value is &quot;token&quot;.</span><br><span class=\"hljs-attr\">auth.method</span> = <span class=\"hljs-string\">&quot;token&quot;</span><br><br><span class=\"hljs-comment\"># auth.additionalScopes specifies additional scopes to include authentication information.</span><br><span class=\"hljs-comment\"># Optional values are HeartBeats, NewWorkConns.</span><br><span class=\"hljs-comment\"># auth.additionalScopes = [&quot;HeartBeats&quot;, &quot;NewWorkConns&quot;]</span><br><br><span class=\"hljs-comment\"># auth token</span><br><span class=\"hljs-attr\">auth.token</span> = <span class=\"hljs-string\">&quot;12345678&quot;</span><br><br><span class=\"hljs-comment\"># oidc issuer specifies the issuer to verify OIDC tokens with.</span><br><span class=\"hljs-attr\">auth.oidc.issuer</span> = <span class=\"hljs-string\">&quot;&quot;</span><br><span class=\"hljs-comment\"># oidc audience specifies the audience OIDC tokens should contain when validated.</span><br><span class=\"hljs-attr\">auth.oidc.audience</span> = <span class=\"hljs-string\">&quot;&quot;</span><br><span class=\"hljs-comment\"># oidc skipExpiryCheck specifies whether to skip checking if the OIDC token is expired.</span><br><span class=\"hljs-attr\">auth.oidc.skipExpiryCheck</span> = <span class=\"hljs-literal\">false</span><br><span class=\"hljs-comment\"># oidc skipIssuerCheck specifies whether to skip checking if the OIDC token&#x27;s issuer claim matches the issuer specified in OidcIssuer.</span><br><span class=\"hljs-attr\">auth.oidc.skipIssuerCheck</span> = <span class=\"hljs-literal\">false</span><br><br><span class=\"hljs-comment\"># userConnTimeout specifies the maximum time to wait for a work connection.</span><br><span class=\"hljs-comment\"># userConnTimeout = 10</span><br><br><span class=\"hljs-comment\"># Only allow frpc to bind ports you list. By default, there won&#x27;t be any limit.</span><br><span class=\"hljs-attr\">allowPorts</span> = [<br>  &#123; start = <span class=\"hljs-number\">2000</span>, end = <span class=\"hljs-number\">3000</span> &#125;,<br>  &#123; single = <span class=\"hljs-number\">3001</span> &#125;,<br>  &#123; single = <span class=\"hljs-number\">3003</span> &#125;,<br>  &#123; start = <span class=\"hljs-number\">4000</span>, end = <span class=\"hljs-number\">50000</span> &#125;<br>]<br><br><span class=\"hljs-comment\"># Max ports can be used for each client, default value is 0 means no limit</span><br><span class=\"hljs-attr\">maxPortsPerClient</span> = <span class=\"hljs-number\">0</span><br><br><span class=\"hljs-comment\"># If subDomainHost is not empty, you can set subdomain when type is http or https in frpc&#x27;s configure file</span><br><span class=\"hljs-comment\"># When subdomain is test, the host used by routing is test.frps.com</span><br><span class=\"hljs-attr\">subDomainHost</span> = <span class=\"hljs-string\">&quot;frps.com&quot;</span><br><br><span class=\"hljs-comment\"># custom 404 page for HTTP requests</span><br><span class=\"hljs-comment\"># custom404Page = &quot;/path/to/404.html&quot;</span><br><br><span class=\"hljs-comment\"># specify udp packet size, unit is byte. If not set, the default value is 1500.</span><br><span class=\"hljs-comment\"># This parameter should be same between client and server.</span><br><span class=\"hljs-comment\"># It affects the udp and sudp proxy.</span><br><span class=\"hljs-attr\">udpPacketSize</span> = <span class=\"hljs-number\">1500</span><br><br><span class=\"hljs-comment\"># Retention time for NAT hole punching strategy data.</span><br><span class=\"hljs-attr\">natholeAnalysisDataReserveHours</span> = <span class=\"hljs-number\">168</span><br><br><span class=\"hljs-comment\"># ssh tunnel gateway</span><br><span class=\"hljs-comment\"># If you want to enable this feature, the bindPort parameter is required, while others are optional.</span><br><span class=\"hljs-comment\"># By default, this feature is disabled. It will be enabled if bindPort is greater than 0.</span><br><span class=\"hljs-comment\"># sshTunnelGateway.bindPort = 2200</span><br><span class=\"hljs-comment\"># sshTunnelGateway.privateKeyFile = &quot;/home/frp-user/.ssh/id_rsa&quot;</span><br><span class=\"hljs-comment\"># sshTunnelGateway.autoGenPrivateKeyPath = &quot;&quot;</span><br><span class=\"hljs-comment\"># sshTunnelGateway.authorizedKeysFile = &quot;/home/frp-user/.ssh/authorized_keys&quot;</span><br><br><span class=\"hljs-section\">[[httpPlugins]]</span><br><span class=\"hljs-attr\">name</span> = <span class=\"hljs-string\">&quot;user-manager&quot;</span><br><span class=\"hljs-attr\">addr</span> = <span class=\"hljs-string\">&quot;127.0.0.1:9000&quot;</span><br><span class=\"hljs-attr\">path</span> = <span class=\"hljs-string\">&quot;/handler&quot;</span><br><span class=\"hljs-attr\">ops</span> = [<span class=\"hljs-string\">&quot;Login&quot;</span>]<br><br><span class=\"hljs-section\">[[httpPlugins]]</span><br><span class=\"hljs-attr\">name</span> = <span class=\"hljs-string\">&quot;port-manager&quot;</span><br><span class=\"hljs-attr\">addr</span> = <span class=\"hljs-string\">&quot;127.0.0.1:9001&quot;</span><br><span class=\"hljs-attr\">path</span> = <span class=\"hljs-string\">&quot;/handler&quot;</span><br><span class=\"hljs-attr\">ops</span> = [<span class=\"hljs-string\">&quot;NewProxy&quot;</span>]<br></code></pre></td></tr></table></figure>\n\n\n<h2 id=\"一个当前使用的配置参考\"><a href=\"#一个当前使用的配置参考\" class=\"headerlink\" title=\"一个当前使用的配置参考\"></a>一个当前使用的配置参考</h2><p>Frps</p>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs ini\"><span class=\"hljs-comment\"># Server Addr</span><br><span class=\"hljs-attr\">bindAddr</span> = <span class=\"hljs-string\">&quot;x.x.x.x&quot;</span><br><span class=\"hljs-attr\">bindPort</span> = <span class=\"hljs-number\">32700</span><br><br><span class=\"hljs-attr\">vhostHTTPPort</span> = <span class=\"hljs-number\">32080</span><br><span class=\"hljs-attr\">vhostHTTPSPort</span> = <span class=\"hljs-number\">32443</span><br><br><span class=\"hljs-comment\"># Web Server</span><br><span class=\"hljs-comment\"># 监控网页</span><br><span class=\"hljs-attr\">webServer.addr</span> = <span class=\"hljs-string\">&quot;x.x.x.x&quot;</span><br><span class=\"hljs-attr\">webServer.port</span> = <span class=\"hljs-number\">32777</span><br><span class=\"hljs-attr\">webServer.user</span> = <span class=\"hljs-string\">&quot;user&quot;</span><br><span class=\"hljs-attr\">webServer.password</span> = <span class=\"hljs-string\">&quot;password&quot;</span><br><br><span class=\"hljs-comment\"># auth</span><br><span class=\"hljs-comment\"># 鉴权</span><br><span class=\"hljs-attr\">auth.method</span> = <span class=\"hljs-string\">&quot;token&quot;</span><br><span class=\"hljs-attr\">auth.additionalScopes</span> = [<span class=\"hljs-string\">&quot;NewWorkConns&quot;</span>]<br><span class=\"hljs-attr\">auth.token</span> = <span class=\"hljs-string\">&quot;password&quot;</span><br><br><span class=\"hljs-comment\"># allow port</span><br><span class=\"hljs-comment\"># 配置允许使用的端口范围</span><br><span class=\"hljs-attr\">allowPorts</span> = [<br>  &#123; start = <span class=\"hljs-number\">32005</span>, end = <span class=\"hljs-number\">32032</span> &#125;,<br>  &#123; single = <span class=\"hljs-number\">32064</span> &#125;<br>]<br><br><span class=\"hljs-comment\"># subdomain</span><br><span class=\"hljs-comment\"># 可以通过特定的子域名访问</span><br><span class=\"hljs-attr\">subdomainHost</span> = <span class=\"hljs-string\">&quot;x.xxx.top&quot;</span><br></code></pre></td></tr></table></figure>\n\n<p>Frpc</p>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs ini\"><span class=\"hljs-comment\"># Server Addr</span><br><span class=\"hljs-attr\">serverAddr</span> = <span class=\"hljs-string\">&quot;x.x.x.x&quot;</span><br><span class=\"hljs-attr\">serverPort</span> = <span class=\"hljs-number\">32700</span><br><span class=\"hljs-comment\"># 用户名配置，避免proxies.name的重名</span><br><span class=\"hljs-attr\">user</span> = <span class=\"hljs-string\">&quot;pandora&quot;</span><br><span class=\"hljs-comment\"># 鉴权</span><br><span class=\"hljs-attr\">auth.method</span> = <span class=\"hljs-string\">&quot;token&quot;</span><br><span class=\"hljs-attr\">auth.token</span> = <span class=\"hljs-string\">&quot;password&quot;</span><br><br><span class=\"hljs-comment\"># tcp 代理</span><br><span class=\"hljs-section\">[[proxies]]</span><br><span class=\"hljs-attr\">name</span> = <span class=\"hljs-string\">&quot;name&quot;</span><br><span class=\"hljs-attr\">type</span> = <span class=\"hljs-string\">&quot;tcp&quot;</span><br><span class=\"hljs-attr\">localIP</span> = <span class=\"hljs-string\">&quot;127.0.0.1&quot;</span><br><span class=\"hljs-attr\">localPort</span> = <span class=\"hljs-number\">5000</span><br><span class=\"hljs-attr\">remotePort</span> = <span class=\"hljs-number\">32005</span><br><span class=\"hljs-comment\"># 加密</span><br><span class=\"hljs-attr\">transport.useEncryption</span> = <span class=\"hljs-literal\">true</span><br><span class=\"hljs-attr\">transport.useCompression</span> = <span class=\"hljs-literal\">true</span><br><span class=\"hljs-attr\">healthCheck.type</span> = <span class=\"hljs-string\">&quot;tcp&quot;</span><br><br><span class=\"hljs-comment\"># https 代理</span><br><span class=\"hljs-section\">[[proxies]]</span><br><span class=\"hljs-attr\">name</span> = <span class=\"hljs-string\">&quot;nas_https&quot;</span><br><span class=\"hljs-attr\">type</span> = <span class=\"hljs-string\">&quot;https&quot;</span><br><span class=\"hljs-attr\">localIP</span> = <span class=\"hljs-string\">&quot;127.0.0.1&quot;</span><br><span class=\"hljs-attr\">localPort</span> = <span class=\"hljs-number\">5001</span><br><span class=\"hljs-attr\">transport.useEncryption</span> = <span class=\"hljs-literal\">true</span><br><span class=\"hljs-attr\">transport.useCompression</span> = <span class=\"hljs-literal\">true</span><br><span class=\"hljs-comment\"># 域名配置</span><br><span class=\"hljs-attr\">customDomains</span> = [<span class=\"hljs-string\">&quot;a.x.xxx.top&quot;</span>]<br><br><span class=\"hljs-comment\"># p2p 打洞</span><br><span class=\"hljs-section\">[[proxies]]</span><br><span class=\"hljs-attr\">name</span> = <span class=\"hljs-string\">&quot;p2p_nas&quot;</span><br><span class=\"hljs-attr\">type</span> = <span class=\"hljs-string\">&quot;xtcp&quot;</span><br><span class=\"hljs-comment\"># 只有共享密钥 (secretKey) 与服务器端一致的用户才能访问该服务</span><br><span class=\"hljs-attr\">secretKey</span> = <span class=\"hljs-string\">&quot;password&quot;</span><br><span class=\"hljs-attr\">localIP</span> = <span class=\"hljs-string\">&quot;127.0.0.1&quot;</span><br><span class=\"hljs-attr\">localPort</span> = <span class=\"hljs-number\">22</span><br></code></pre></td></tr></table></figure>\n\n\n\n\n\n",
            "tags": [
                "frp"
            ]
        },
        {
            "id": "https://www.oikiou.top/2023/96364bb6/",
            "url": "https://www.oikiou.top/2023/96364bb6/",
            "title": "踩坑记 BSS段的初始化",
            "date_published": "2023-10-20T11:23:05.000Z",
            "content_html": "<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>接手一个项目，调试全靠串口日志，测试同事测试产品的时候无法拿到日志，刚好产品RAM够大，且刚好有SD卡。所以就诞生了将日志缓存在RAM上，在特定条件下将它写到SD卡上的想法。</p>\n<p>开工。</p>\n<p>写完代码之后发现机器<strong>偶尔会无法启动</strong>，无法开机，无任何日志。</p>\n<p>有的时候是<strong>烧录完成代码后重启无法启动</strong>，有些情况下是<strong>烧录完成代码后运行正常，放置一段时间后无法启动</strong>。</p>\n<p>有时候有些无法启动的机器<strong>放置一段时间又成功启动</strong>。</p>\n<p>一段一段代码，屏蔽，编译，验证，发现一个非常无法理解的事，<code>TFCardLogBufferPut</code>函数注释后设备可以正常启动。</p>\n<p>看代码：</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs c\"><span class=\"hljs-meta\">#<span class=\"hljs-keyword\">define</span> TF_CARD_LOG_BUFFER_SIZE     (64*1024ul)</span><br><span class=\"hljs-type\">uint8_t</span> tfCardLogBuffer[TF_CARD_LOG_BUFFER_SIZE] = &#123;<span class=\"hljs-number\">0</span>&#125;;<br><span class=\"hljs-type\">uint32_t</span> tfCardLogBufferIndex = <span class=\"hljs-number\">0</span>;<br><br><span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">TFCardLogBufferPut</span><span class=\"hljs-params\">(<span class=\"hljs-type\">uint8_t</span> data)</span> &#123;<br>    tfCardLogBuffer[tfCardLogBufferIndex] = data;<br>    tfCardLogBufferIndex++;<br>    <span class=\"hljs-keyword\">if</span>( tfCardLogBufferIndex&gt;=(<span class=\"hljs-keyword\">sizeof</span>(tfCardLogBuffer)/<span class=\"hljs-keyword\">sizeof</span>(tfCardLogBuffer[<span class=\"hljs-number\">0</span>]))<span class=\"hljs-number\">-1</span> ) &#123;<br>        tfCardLogBufferIndex = <span class=\"hljs-number\">0</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n\n\n<p>我实在无法理解，这段代码是如何导致设备无法启动的，后面搁置了一段时间，遂归结于小众芯片不完善导致。</p>\n<p>但是后面这个需求实在是过于旺盛，遂重新开始验证代码。</p>\n<p>当时代码是这样的：</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs c\"><span class=\"hljs-comment\">// main.c</span><br><span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> argc, <span class=\"hljs-type\">char</span> **argv)</span> &#123;<br>    <br>    hal_uartInit();<br>    ax32xx_uart0SendByte(<span class=\"hljs-string\">&#x27;a&#x27;</span>);<br>    ax32xx_uart0SendByte(<span class=\"hljs-string\">&#x27;b&#x27;</span>);<br>    hal_uartSendData(<span class=\"hljs-string\">&#x27;1&#x27;</span>);<br>    hal_uartSendData(<span class=\"hljs-string\">&#x27;2&#x27;</span>);<br>    ax32xx_uart0SendByte(<span class=\"hljs-string\">&#x27;c&#x27;</span>);<br>    <br>    hal_sysInit();<br>    <br>    <span class=\"hljs-comment\">//.... some code here</span><br>&#125;<br><br><span class=\"hljs-comment\">// uart.c</span><br><span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">hal_uartSendData</span><span class=\"hljs-params\">(u8 data)</span><br>&#123;<br>    ax32xx_uart0SendByte(data);<br>    <br>    TFCardLogBufferPut(data);<br>&#125;<br><br><span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">ax32xx_uart0SendByte</span><span class=\"hljs-params\">(u8 data)</span><br>&#123;<br>    R_UART_DATA0 = data;<br>    <span class=\"hljs-keyword\">while</span>((R_UART_PEND0 &amp; <span class=\"hljs-number\">0x2</span>)==<span class=\"hljs-number\">0</span>);<br>    R_UART_PEND0 |= <span class=\"hljs-number\">1</span>;<br>&#125;<br><br><span class=\"hljs-meta\">#<span class=\"hljs-keyword\">define</span> TF_CARD_LOG_BUFFER_SIZE     (64*1024ul)</span><br><span class=\"hljs-type\">uint8_t</span> tfCardLogBuffer[TF_CARD_LOG_BUFFER_SIZE] = &#123;<span class=\"hljs-number\">0</span>&#125;;<br><span class=\"hljs-type\">uint32_t</span> tfCardLogBufferIndex = <span class=\"hljs-number\">0</span>;<br><br><span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">TFCardLogBufferPut</span><span class=\"hljs-params\">(<span class=\"hljs-type\">uint8_t</span> data)</span> &#123;<br>    tfCardLogBuffer[tfCardLogBufferIndex] = data;<br>    tfCardLogBufferIndex = (tfCardLogBufferIndex&gt;=(<span class=\"hljs-keyword\">sizeof</span>(tfCardLogBuffer)/<span class=\"hljs-keyword\">sizeof</span>(tfCardLogBuffer[<span class=\"hljs-number\">0</span>]))<span class=\"hljs-number\">-1</span>) ? <span class=\"hljs-number\">0</span> : tfCardLogBufferIndex+<span class=\"hljs-number\">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<p>运行后日志是这样的：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs log\"># 正常运行 的日志<br>ab12c ...<br><br># 无法启动 的日志<br>ab1<br></code></pre></td></tr></table></figure>\n\n\n\n<p>后面我就猜想了很多：</p>\n<ul>\n<li>这个soc不能支持这么大的数值 64KB</li>\n<li>这个位置的内存被改写了</li>\n<li>和冷启动热启动有关</li>\n<li>芯片异常</li>\n</ul>\n<p>后面我猜想，试试把<code>TFCardLogBufferPut</code>函数里面的<code>tfCardLogBufferIndex</code>的数值和<code>data</code>数值输出出来看看。</p>\n<p>这一看不得了，越界了！</p>\n<p>代码：</p>\n<p><img src=\"/2023/96364bb6/image-20231020190520640.png\" alt=\"image-20231020190520640\"></p>\n<p>输出日志：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs log\">ab1z31m00327300<br></code></pre></td></tr></table></figure>\n\n\n\n\n\n<p>这个<code>tfCardLogBufferIndex</code>越界了啊！而且初始化赋0并没有成功！这就非常坑爹了！</p>\n<p>后面尝试在调用这个函数之前再次赋0，发现程序运行正常，设备也正常启动。</p>\n<p>查看map文件这个数组和变量也是存放在BSS段的，这就非常令人费解了。</p>\n<p>看到这里我直接就怀疑，就是这个芯片的锅。</p>\n<p>但是别急这还不是让人最震惊的！后面还有让人更加鼻血飙升的。</p>\n<p>最后找FAE排查问题很久，最后发现BSS段在<code>hal_sysInit</code>函数内初始化。</p>\n<p>看代码：</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs c\"><span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">ax32xx_sysInit</span><span class=\"hljs-params\">(u32 *saddr,u32 *eaddr)</span><br>&#123;<br>\tdebg(<span class=\"hljs-string\">&quot;sys init\\n&quot;</span>);\t\t\t<span class=\"hljs-comment\">// 这个debg会调用 hal_uartSendData 函数输出日志</span><br>    <br>    <span class=\"hljs-comment\">//...</span><br>    <br>\tax32xx_wdtClear();<br><br><span class=\"hljs-comment\">//-----cache set</span><br>\tax32xx_sysIcacheInit();<br>\tax32xx_sysDcacheInit();\t<br><span class=\"hljs-comment\">//-----bss clear</span><br>\tax32xx_sysBSSClear();<br>    <br>    <span class=\"hljs-comment\">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure>\n\n\n\n<p>实在是震惊，无法理解这个RAM的初始化为什么放在main函数里面，实在无法理解进入main函数了，c语言环境都没有OK。</p>\n<p>最烦的就是这种xx芯片，总是会有一些让人血压飙升的操作。</p>\n<blockquote>\n<p>  参考ARM MDK在编译的时候BSS初始化的操作是放在<code>__main</code>函数里面，需要注意的是这个<code>__main</code>不是c语言里面的<code>main</code>函数，它是从MDK自带的库文件里链接的一个函数。这个<code>__main</code>函数会初始化这些段，并调用<code>__rt_entry</code>，最终在<code>__rt_entry</code>中将会调用c语言里面的<code>main</code>函数。</p>\n</blockquote>\n<h1 id=\"教训总结\"><a href=\"#教训总结\" class=\"headerlink\" title=\"教训总结\"></a>教训总结</h1><p>在对数组进行访问的时候一定要先检查范围。</p>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs c\"><span class=\"hljs-comment\">// 原函数</span><br><span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">TFCardLogBufferPut</span><span class=\"hljs-params\">(<span class=\"hljs-type\">uint8_t</span> data)</span> &#123;<br>    tfCardLogBuffer[tfCardLogBufferIndex] = data;<br>    tfCardLogBufferIndex = (tfCardLogBufferIndex&gt;=(<span class=\"hljs-keyword\">sizeof</span>(tfCardLogBuffer)/<span class=\"hljs-keyword\">sizeof</span>(tfCardLogBuffer[<span class=\"hljs-number\">0</span>]))<span class=\"hljs-number\">-1</span>) ? <span class=\"hljs-number\">0</span> : tfCardLogBufferIndex+<span class=\"hljs-number\">1</span>;<br>&#125;<br><br><span class=\"hljs-comment\">// 改后</span><br><span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">TFCardLogBufferPut</span><span class=\"hljs-params\">(<span class=\"hljs-type\">uint8_t</span> data)</span> &#123;<br>    <span class=\"hljs-keyword\">if</span>( tfCardLogBufferIndex&gt;=(<span class=\"hljs-keyword\">sizeof</span>(tfCardLogBuffer)/<span class=\"hljs-keyword\">sizeof</span>(tfCardLogBuffer[<span class=\"hljs-number\">0</span>]))<span class=\"hljs-number\">-1</span> ) &#123;<br>        tfCardLogBufferIndex = <span class=\"hljs-number\">0</span>;<br>    &#125;<br>    tfCardLogBuffer[tfCardLogBufferIndex] = data;<br>    tfCardLogBufferIndex++;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n",
            "tags": [
                "embedded"
            ]
        },
        {
            "id": "https://www.oikiou.top/2023/52f35219/",
            "url": "https://www.oikiou.top/2023/52f35219/",
            "title": "ProxmoxVE",
            "date_published": "2023-08-24T14:57:15.000Z",
            "content_html": "<h1 id=\"ProxmoxVE\"><a href=\"#ProxmoxVE\" class=\"headerlink\" title=\"ProxmoxVE\"></a>ProxmoxVE</h1><h2 id=\"一些前置知识\"><a href=\"#一些前置知识\" class=\"headerlink\" title=\"一些前置知识\"></a>一些前置知识</h2><h3 id=\"qcow2-raw-vmdk-磁盘格式的区别\"><a href=\"#qcow2-raw-vmdk-磁盘格式的区别\" class=\"headerlink\" title=\"qcow2 raw vmdk 磁盘格式的区别\"></a>qcow2 raw vmdk 磁盘格式的区别</h3><p>KVM 虚拟化中使用的镜像格式通常为 RAW 和 QCOW2 两种格式.</p>\n<blockquote>\n<h2 id=\"RAW-img\"><a href=\"#RAW-img\" class=\"headerlink\" title=\"RAW (img)\"></a>RAW (img)</h2><p>  RAW 的原意是「未被加工的」, 所以 RAW 格式镜像文件又被称为 <em>原始镜像</em> 或 <em>裸设备镜像</em>, 从这些称谓可以看出, RAW 格式镜像文件能够直接当作一个块设备, 以供 GuestOS 使用. 也就是说 KVM 的 GuestOS 可以直接从 RAW 镜像中启动, 就如 HostOS 直接从硬盘中启动一般.</p>\n<ul>\n<li>是一种裸设备格式，通常提供良好的性能。</li>\n<li>简单且原生，易于使用和转换到其他格式。</li>\n<li>支持直接挂载，可以作为文件系统使用。</li>\n<li>不支持快照、压缩或加密等高级功能。</li>\n<li>占用空间取决于实际使用的数据量，类似于物理磁盘。</li>\n</ul>\n<p>  <strong>块设备</strong>: IO 设备中的一类, 将信息存储在固定大小的块中, 并且每个块都有自己的地址, 常用的块设备有硬盘.</p>\n<p>  <strong>因为 RAW 镜像文件赤裸裸的特性带来了下列好处:</strong></p>\n<ul>\n<li>使用 dd 指令创建一个 File 就能够模拟 RAW 镜像文件</li>\n<li>性能较 QCOW2 要更高 (I&#x2F;O 效率更高25%左右)</li>\n<li>支持裸设备的原生特性, 例如: 直接挂载</li>\n<li>能够随意转换格式, 甚至作为其他两种格式转换时的中间格式</li>\n<li>能够使用 dd 指令来追加 RAW 镜像文件的空间</li>\n</ul>\n<p>  <strong>相对的, RAW 镜像文件也具有一个非常大的缺陷, 就是不支持快照.</strong> 所以才有了后来 QCOW 和 QCOW2 的发展.</p>\n<h2 id=\"QCOW2-QEMU-COW-2\"><a href=\"#QCOW2-QEMU-COW-2\" class=\"headerlink\" title=\"QCOW2 (QEMU-COW 2)\"></a>QCOW2 (QEMU-COW 2)</h2><p>  (摘自官方文档)QEMU copy-on-write format with a range of special features, including the ability to take multiple snapshots, smaller images on filesystems that don’t support sparse files, optional AES encryption, and optional zlib compression<br>  QEMU-COW 镜像文件具有一系列特性, 支持包括 <strong>多重快照</strong>(能够创建基于之前镜像的新镜像, 速度更快), <strong>占用更小的存储空间</strong>(不支持稀疏特性, 不会预先分配指定 Size 的存储空间), <strong>可选的 AES 加密方式</strong>, <strong>可选的 zlib 压缩方式</strong> 等功能.</p>\n<p>  QCOW2 镜像格式是 KVM-QEMU 支持的磁盘镜像格式之一, <strong>其表现形式为在一个系统文件中模拟一个具有一定 Size 的块设备.</strong></p>\n<ul>\n<li>支持快照功能，允许在不增加存储空间的前提下创建多个虚拟机状态的快照。</li>\n<li>支持压缩，可以减少存储空间的使用。</li>\n<li>支持加密，以保护虚拟机磁盘数据的安全性。</li>\n<li>支持Copy-on-Write，只有当数据被修改时才会占用新的存储空间。</li>\n<li>性能接近RAW格式，但提供了更多的高级功能。</li>\n</ul>\n<h2 id=\"VMDK-Virtual-Machine-Disk\"><a href=\"#VMDK-Virtual-Machine-Disk\" class=\"headerlink\" title=\"VMDK (Virtual Machine Disk)\"></a>VMDK (Virtual Machine Disk)</h2><ul>\n<li>主要由VMware使用，支持多种VMware产品。</li>\n<li>支持动态分配和固定大小的虚拟硬盘。</li>\n<li>与VMware的虚拟化环境紧密集成，提供了良好的性能和稳定性。</li>\n<li>支持快照功能，但与QCOW2的快照实现不同。</li>\n<li>通常不用于非VMware环境，与其他虚拟化平台的兼容性有限。</li>\n</ul>\n</blockquote>\n<h3 id=\"网卡怎么选-VirtIO-E1000-RTL8139\"><a href=\"#网卡怎么选-VirtIO-E1000-RTL8139\" class=\"headerlink\" title=\"网卡怎么选 VirtIO E1000 RTL8139\"></a>网卡怎么选 VirtIO E1000 RTL8139</h3><p>“<strong>RTL8139</strong>”（古董级别，性能较差，古老系统使用）速率可以达到100Mb&#x2F;s，这个网卡的兼容性最好。</p>\n<blockquote>\n<p>   这个网卡模式是qemu-kvm默认的模拟网卡类型，RTL8139是Realtek半导体公司的一个10&#x2F;100M网卡系列，是曾经非常流行（当然现在看来有点古老）且兼容性好的网卡，几乎所有的现代操作系统都对RTL8139网卡驱动的提供支持。</p>\n</blockquote>\n<p>“<strong>E1000</strong>”（水桶选手，千兆速率，各项都很均衡）速率可以达到1Gb&#x2F;s，这个网卡的兼容性较好。</p>\n<blockquote>\n<p>  提供Intel e1000系列的网卡模拟，纯的QEMU（非qemu-kvm）默认就是提供Intel e1000系列的虚拟网卡。</p>\n<p>  英特尔<code>e1000</code>甚至为相当古老和不知名的操作系统提供了驱动程序。但物理 e1000 网卡的硬件相当复杂，因此会因为需要对其进行仿真而产生一些开销。</p>\n</blockquote>\n<p>“<strong>VirtIO</strong>” （性能之王，兼容极差）速率可以达到10Gb&#x2F;s，这个网卡的兼容性最差，很多系统需要安装特定驱动才能使用。</p>\n<blockquote>\n<p>  是支持半虚拟化IO（virtio）的设备。</p>\n<p>  如果您在虚拟机内运行的内容都支持<code>virtio</code>，它可能会为您提供最佳性能，因为它允许虚拟机跳过大多数相关步骤模拟虚拟网卡并控制虚拟硬件，主机利用实际物理网卡的硬件功能，最大限度地提高虚拟机流量的效益。</p>\n<p>  VirtIO驱动下载<br>  VirtIO windows的驱动文件可以在这里下载：<br>  <a href=\"https://github.com/virtio-win/virtio-win-pkg-scripts\">https://github.com/virtio-win/virtio-win-pkg-scripts</a><br>  <a href=\"https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/archive-virtio/\">https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/archive-virtio/</a></p>\n</blockquote>\n<h3 id=\"硬盘接口怎么选-IDE-SATA-SCSI-VirtIO\"><a href=\"#硬盘接口怎么选-IDE-SATA-SCSI-VirtIO\" class=\"headerlink\" title=\"硬盘接口怎么选 IDE SATA SCSI VirtIO\"></a>硬盘接口怎么选 IDE SATA SCSI VirtIO</h3><p>IDE 速度最差，兼容性较好，比较古老的接口了</p>\n<p>SATA 速度不错，兼容性也可以。</p>\n<p>SCSI （通常称为VirtIO SCSI ）</p>\n<p>VirtIO （通常称为VirtIO Block）</p>\n<blockquote>\n<p>  一般来说，不鼓励使用<code>IDE</code>或 ，<code>SATA</code>因为它们相对较慢。在其最佳实践指南中，Proxmox 建议使用 VirtIO SCSI，即<code>SCSI</code>连接到<code>VirtIO SCSI</code>控制器的总线（在最新的 Proxmox 版本上默认选择）。这是假设您在具有快速磁盘阵列的服务器上运行 Proxmox，稍后会详细介绍。</p>\n<p>  使用<code>SCSI</code>或<code>VirtIO</code>。差异可以忽略不计，但两者都远远优于<code>SATA</code>。Proxmox 建议使用，<code>SCSI</code>因为它更新且维护得更好。</p>\n<p>  <img src=\"/2023/52f35219/bus-types-table.png\" alt=\"img\"></p>\n<p>  <img src=\"/2023/52f35219/image-41.png\" alt=\"img\"></p>\n</blockquote>\n<p>即local-lvm对应&#x2F;dev&#x2F;pve&#x2F;data，&#x2F;var&#x2F;lib&#x2F;vz&#x2F;template&#x2F;iso</p>\n<p>默认存在local目录，对应&#x2F;var&#x2F;lib&#x2F;vz</p>\n<h2 id=\"一些教程\"><a href=\"#一些教程\" class=\"headerlink\" title=\"一些教程\"></a>一些教程</h2><p>PVE 安装 <a href=\"https://www.right.com.cn/forum/thread-8159418-1-1.html\">https://www.right.com.cn/forum/thread-8159418-1-1.html</a></p>\n<p>PVE 的群晖安装 <a href=\"https://post.smzdm.com/p/a8x84l27/\">https://post.smzdm.com/p/a8x84l27/</a></p>\n<p><a href=\"https://www.cnblogs.com/mokou/p/17042705.html\">https://www.cnblogs.com/mokou/p/17042705.html</a></p>\n<p><a href=\"https://post.smzdm.com/p/apv5xvk9/\">https://post.smzdm.com/p/apv5xvk9/</a></p>\n<p>群晖引导 <a href=\"https://github.com/fbelavenuto/arpl\">https://github.com/fbelavenuto/arpl</a></p>\n<p><a href=\"https://wp.gxnas.com/12245.html\">https://wp.gxnas.com/12245.html</a></p>\n<h1 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h1><p> 准备工作</p>\n<ul>\n<li><p>确保符合安装软件的最低要求</p>\n<blockquote>\n<ul>\n<li>CPU: 64bit (Intel EMT64 or AMD64)</li>\n<li><a href=\"https://pve.proxmox.com/wiki/FAQ#Supported_CPU_chips\" title=\"FAQ\">Intel VT&#x2F;AMD-V capable CPU</a>&#x2F;Mainboard for KVM full virtualization support</li>\n<li>RAM: 1 GB RAM, plus additional RAM needed for guests</li>\n<li>Hard drive with at least 16 GiB of space, plus additional space needed for guests</li>\n<li>One network card (NIC)</li>\n</ul>\n</blockquote>\n</li>\n<li><p>下载PVE的ISO镜像<br>  <a href=\"https://mirrors.tuna.tsinghua.edu.cn/proxmox/iso/\">https://mirrors.tuna.tsinghua.edu.cn/proxmox/iso/</a><br>  <a href=\"https://www.proxmox.com/downloads\">https://www.proxmox.com/downloads</a></p>\n</li>\n<li><p>准备一个u盘</p>\n</li>\n<li><p>将ISO写入u盘</p>\n<ul>\n<li>rufus</li>\n<li>Win32DiskImager</li>\n</ul>\n</li>\n<li><p>使电脑从u盘启动</p>\n</li>\n<li><p>重启设备，正式进入安装流程</p>\n</li>\n<li><p>这里有两种安装方式</p>\n<ul>\n<li>图形化界面安装 (Graphical)（首选，用户体验更佳，交互更简单）</li>\n<li>终端UI界面安装 (Terminal UI)（备选，兼容性强，遇到非常新、非常旧的cpu，第一种方法无法使用的情况下就可以选用这种方式）</li>\n</ul>\n</li>\n<li><p>硬盘格式</p>\n<ul>\n<li>这里有好几种硬盘格式可选。EXT4、XFS、ZFS 和 BTRFS。我只有一两个硬盘，数据相对不是特别的重要，就选默认的ext4了。<ul>\n<li>几种格式的对比。<ul>\n<li><a href=\"https://forum.proxmox.com/threads/choose-between-ext4-xfs-zfs-and-btrfs-why.135128/\">Choose between EXT4, XFS, ZFS and BTRFS ? Why ?</a></li>\n<li><a href=\"https://linux.cn/article-7083-1.html\">如何选择文件系统：EXT4、Btrfs 和 XFS</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>系统将会自动安装，安装后会自动重启</p>\n</li>\n<li><p><code>ping</code>对应地址，重启后不久正常通信后即可访问<code>pve ip:8006</code>进入管理界面</p>\n</li>\n<li><p>重启后，PVE显示器也会提示管理地址。</p>\n</li>\n<li><p>至此安装结束</p>\n</li>\n<li><p>推荐安装完成后再安装上一个PVETools。参考下文。</p>\n</li>\n</ul>\n<h1 id=\"Cmd\"><a href=\"#Cmd\" class=\"headerlink\" title=\"Cmd\"></a>Cmd</h1><h2 id=\"虚拟机-操作指令\"><a href=\"#虚拟机-操作指令\" class=\"headerlink\" title=\"虚拟机 操作指令\"></a>虚拟机 操作指令</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\"><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">取得虚拟机当前状态</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">pvesh get /nodes/&lt;节点<span class=\"hljs-built_in\">id</span>&gt;/qemu/&lt;虚拟机<span class=\"hljs-built_in\">id</span>&gt;/status/current</span><br>pvesh get /nodes/pve/qemu/107/status/current<br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">关闭虚拟机</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">pvesh create /nodes/&lt;节点<span class=\"hljs-built_in\">id</span>&gt;/qemu/&lt;虚拟机<span class=\"hljs-built_in\">id</span>&gt;/status/stop</span><br>pvesh create /nodes/pve/qemu/107/status/stop<br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">启动虚拟机</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">pvesh create /nodes/&lt;节点<span class=\"hljs-built_in\">id</span>&gt;/qemu/&lt;虚拟机<span class=\"hljs-built_in\">id</span>&gt;/status/start</span><br>pvesh create /nodes/pve/qemu/107/status/start<br><br><br><br><br><br>qm &lt;命令&gt; &lt;vmid&gt; [选项]<br>qm [create|set] &lt;vmid&gt;  # 创建虚拟机<br>    --memory  &lt;MBYTES&gt;    memory in MB (64 - 8192)<br>    --sockets &lt;N&gt;         set number of CPU sockets &lt;N&gt;<br>    --cores &lt;N&gt;           set cores per socket to &lt;N&gt;<br>    --ostype NAME         specify OS type<br>    --onboot [yes|no]     start at boot<br>    --keyboard XX         set vnc keyboard layout<br>    --cpuunits &lt;num&gt;      CPU weight for a VM<br>    --name &lt;text&gt;         set a name for the VM<br>    --description &lt;text&gt;  set VM description<br>    --boot [a|c|d|n]      specify boot order<br>    --bootdisk &lt;disk&gt;     enable booting from &lt;disk&gt;<br>    --acpi (yes|no)       enable/disable ACPI<br>    --kvm (yes|no)        enable/disable KVM<br>    --tdf (yes|no)        enable/disable time drift fix<br>    --localtime (yes|no)  set the RTC to local time<br>    --vga (gd5446|vesa)   specify VGA type<br>    --vlan[0-9u]          MODEL=XX:XX:XX:XX:XX:XX[,MODEL=YY:YY:YY:YY:YY:YY]<br>    --ide&lt;N&gt;              [volume=]volume,[,media=cdrom|disk]<br>                          [,cyls=c,heads=h,secs=s[,trans=t]]<br>                          [,cache=none|writethrough|writeback]<br>                          [,snapshot=on|off][,cache=on|off][,format=f]<br>                          [,werror=enospc|ignore|report|stop]<br>                          [,rerror=ignore|report|stop]<br>                          [,backup=no|yes]<br>    --ide&lt;N&gt; &lt;GBYTES&gt;     create new disk<br>    --ide&lt;N&gt; delete       remove drive - destroy image<br>    --ide&lt;N&gt; undef        remove drive - keep image<br>    --cdrom &lt;file&gt;        is an alias for --ide2 &lt;file&gt;,media=cdrom<br>    --scsi&lt;N&gt;             [volume=]volume,[,media=cdrom|disk]<br>                          [,cyls=c,heads=h,secs=s[,trans=t]]<br>                          [,snapshot=on|off][,format=f]<br>                          [,cache=none|writethrough|writeback]<br>                          [,werror=enospc|ignore|report|stop]<br>                          [,backup=no|yes]<br>    --scsi&lt;N&gt; &lt;GBYTES&gt;    create new disk<br>    --scsi&lt;N&gt; delete      remove drive - destroy image<br>    --scsi&lt;N&gt; undef       remove drive - keep image<br>    --virtio&lt;N&gt;           [volume=]volume,[,media=cdrom|disk]<br>                          [,cyls=c,heads=h,secs=s[,trans=t]]<br>                          [,snapshot=on|off][,format=f]<br>                          [,cache=none|writethrough|writeback]<br>                          [,werror=enospc|ignore|report|stop]<br>                          [,rerror=ignore|report|stop]<br>                          [,backup=no|yes]<br>    --virtio&lt;N&gt; &lt;GBYTES&gt;  create new disk<br>    --virtio&lt;N&gt; delete    remove drive - destroy image<br>    --virtio&lt;N&gt; undef     remove drive - keep image<br>    <br>qm monitor &lt;vmid&gt;         # 连接到虚拟机控制监视器<br>qm start &lt;vmid&gt;               # 启动实例<br>qm shutdown &lt;vmid&gt;      # 优雅停止实例 发送关机命令<br>qm wait &lt;vmid&gt; [time]   wait until vm is stopped<br>qm stop &lt;vmid&gt;               # 停止实例 强制停止<br>qm reset &lt;vmid&gt;              # 重启实例 相当于stop然后再start<br>qm suspend &lt;vmid&gt;        # 暂停实例<br>qm resume &lt;vmid&gt;         # 恢复实例<br>qm cad &lt;vmid&gt;               #发送按键 ctrl-alt-delete<br>qm destroy &lt;vmid&gt;        # 销毁实例（删除所有已使用/拥有的卷）<br>qm unlock &lt;vmid&gt;         # 清除迁移/备份锁<br>qm status &lt;vmid&gt;          # 显示实例状态<br>qm cdrom &lt;vmid&gt; [&lt;device&gt;] &lt;path&gt;  set cdrom path. &lt;device is ide2 by default&gt;<br>qm cdrom &lt;vmid&gt; [&lt;device&gt;] eject   eject cdrom<br>qm unlink &lt;vmid&gt; &lt;volume&gt;  delete unused disk images<br>qm vncproxy &lt;vmid&gt; &lt;ticket&gt;  open vnc proxy<br>qm vnc &lt;vmid&gt;           start (X11) vncviewer (experimental)<br>qm showcmd &lt;vmid&gt;     # 显示命令行（调试信息）<br>qm list                             # 列出所有虚拟机<br>qm startall                       # 启动所有虚拟机 当onboot=1时<br>qm stopall [timeout]       # 停止所有虚拟机（默认超时为3分钟）<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"集群-操作指令\"><a href=\"#集群-操作指令\" class=\"headerlink\" title=\"集群 操作指令\"></a>集群 操作指令</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\"><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">查看集群资源状况</span><br>pvesh get /cluster/resources<br><br><br><br>pvesr list\t\t\t# 列出存储复制作业<br>ha-manager status   # 查看HA状态<br>pvecm nodes    \t\t# 查看集群节点<br>pvecm status    \t# 查看集群状态<br>pveperf<br>pve-firewall compile  \t# 查看防火墙规则<br>pve-firewall localnet  \t# 输出本地网络信息<br>pve-firewall restart    # 重启防火墙<br>pve-firewall stop      \t# 停止防火墙<br>pve-firewall start      # 启动防火墙<br><br><br><br></code></pre></td></tr></table></figure>\n\n\n\n\n\n\n\n<h1 id=\"Note\"><a href=\"#Note\" class=\"headerlink\" title=\"Note\"></a>Note</h1><h2 id=\"PVE-Tools-的安装\"><a href=\"#PVE-Tools-的安装\" class=\"headerlink\" title=\"PVE Tools 的安装\"></a>PVE Tools 的安装</h2><p>Github地址：<a href=\"https://github.com/ivanhao/pvetools\">https://github.com/ivanhao/pvetools</a></p>\n<h2 id=\"安装软件出现-401-Unauthorized\"><a href=\"#安装软件出现-401-Unauthorized\" class=\"headerlink\" title=\"安装软件出现 401  Unauthorized\"></a>安装软件出现 401  Unauthorized</h2><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs awk\">E: Failed to fetch https:<span class=\"hljs-regexp\">//</span>enterprise.proxmox.com<span class=\"hljs-regexp\">/debian/</span>pve<span class=\"hljs-regexp\">/dists/</span>buster/InRelease  <span class=\"hljs-number\">401</span>  Unauthorized [IP: <span class=\"hljs-number\">212.224</span>.<span class=\"hljs-number\">123.70</span> <span class=\"hljs-number\">443</span>]<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li>在pve管理界面内，更新，存储库<ul>\n<li>将带<code>enterprise</code>字样的库禁用。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"apt-update-订阅库不可用的问题\"><a href=\"#apt-update-订阅库不可用的问题\" class=\"headerlink\" title=\"apt update 订阅库不可用的问题\"></a>apt update 订阅库不可用的问题</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">Err:5 https://enterprise.proxmox.com/debian/ceph-quincy bookworm InRelease  401  Unauthorized [IP: 51.79.228.122 443]<br>Hit:6 http://security.debian.org bookworm-security InRelease<br>Reading package lists... Done<br>E: Failed to fetch https://enterprise.proxmox.com/debian/ceph-quincy/dists/bookworm/InRelease  401  Unauthorized [IP: 51.79.228.122 443]<br>E: The repository &#x27;https://enterprise.proxmox.com/debian/ceph-quincy bookworm In Release&#x27; is not signed.<br>N: Updating from such a repository can&#x27;t be done securely, and is therefore disa bled by default.<br>N: See apt-secure(8) manpage for repository creation and user configuration details.<br></code></pre></td></tr></table></figure>\n\n<p>The <strong>apt</strong> package manager on the fresh Proxmox host is configured to download packages from <strong>Enterprise Repository</strong> by default. You must have a paid subscription to use this repo. If you don’t have paid subscription you should switch to <strong>No-Subscription Repository</strong>.</p>\n<blockquote>\n<p>  新 Proxmox 主机上的 <strong>apt</strong> 包管理器默认配置为从 <strong>Enterprise Repository 企业存储库</strong> 下载包。 您必须付费订阅才能使用此存储库。 如果您没有付费订阅，您应该切换到<strong>No-Subscription Repository 无订阅存储库</strong>。</p>\n</blockquote>\n<p>Either delete <code>/etc/apt/sources.list.d/pve-enterprise.list</code> file or comment all lines in this file with <code>#</code>.</p>\n<p>Create new file <code>/etc/apt/sources.list.d/pve-no-subscription.list</code> with content:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">deb http://download.proxmox.com/debian/pve buster pve-no-subscription<br><br><span class=\"hljs-comment\"># PVE 8.0</span><br>deb http://download.proxmox.com/debian/pve bookworm pve-no-subscription<br><span class=\"hljs-comment\"># 镜像源</span><br>deb http://mirrors.ustc.edu.cn/proxmox/debian/pve/ bookworm pve-no-subscription<br></code></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"apt-update-的时候-NO-PUBKEY-问题\"><a href=\"#apt-update-的时候-NO-PUBKEY-问题\" class=\"headerlink\" title=\"apt update 的时候 NO_PUBKEY 问题\"></a>apt update 的时候 NO_PUBKEY 问题</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">The following signatures couldn&#x27;t be verified because the public key is not available: NO_PUBKEY 7BF2812E8A6E88E0<br></code></pre></td></tr></table></figure>\n\n\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shel\">apt-get install gnupg2 -y<br>wget http://download.proxmox.com/debian/key.asc <br>apt-key add key.asc<br></code></pre></td></tr></table></figure>\n\n\n\n\n\n<h2 id=\"修改PVE的管理地址\"><a href=\"#修改PVE的管理地址\" class=\"headerlink\" title=\"修改PVE的管理地址\"></a>修改PVE的管理地址</h2><h3 id=\"无法进入web管理界面\"><a href=\"#无法进入web管理界面\" class=\"headerlink\" title=\"无法进入web管理界面\"></a>无法进入web管理界面</h3><ol>\n<li>编辑 interface 文件</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">vi /etc/network/interfaces<br></code></pre></td></tr></table></figure>\n\n<p> 通过键盘上下左右移动到address这行的IP地址，按一次i进入修改状态，修改为新的IP地址，如果需要网关则修改gateway这行，修改完成确认无误后按一次ESC键输入“:wq”回车保存退出。</p>\n<ol start=\"2\">\n<li>修改显示</li>\n</ol>\n<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs awk\">vi <span class=\"hljs-regexp\">/etc/i</span>ssue<br></code></pre></td></tr></table></figure>\n\n<p> 通过键盘上下左右移动到https:&#x2F;&#x2F;这行的IP地址，按一次i进入修改状态，修改为新的IP地址，端口8006不要改，修改完成确认无误后按一次ESC键输入“:wq”回车保存退出。</p>\n<ol start=\"3\">\n<li>修改 hosts 文件</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">vi /etc/hosts<br></code></pre></td></tr></table></figure>\n<p> 通过键盘上下左右移动到第2行的IP地址，按一次i进入修改状态，修改为新的IP地址，修改完成确认无误后按一次ESC键输入“:wq”回车保存退出。</p>\n<ol start=\"4\">\n<li><strong>reboot</strong>，重启PVE！</li>\n</ol>\n<h3 id=\"可以进入web管理界面\"><a href=\"#可以进入web管理界面\" class=\"headerlink\" title=\"可以进入web管理界面\"></a>可以进入web管理界面</h3><p>如果是PVE版本大于等于6.1，则可以使用web管理页面的网络选项菜单中修改vmbr0的IP，修改完成后，点击应用配置生效即可。此操作无需重启服务器即可应用新IP。</p>\n<p><img src=\"/2023/52f35219/2983653-20221011173336293-1137047342.png\" alt=\"img\"></p>\n<p>修改显示的访问的链接地址。<br>重启后的提示语还是显示原来的https:&#x2F;&#x2F;旧IP:8006。这个要是以后忘了就容易出问题。可以更改&#x2F;etc&#x2F;hosts文件，也可以在web管理页面主机处修改，修改完记得保存。此操作修改完需要重启才可刷新显示提示语。</p>\n<p><img src=\"/2023/52f35219/2983653-20221011173352327-326543372.png\" alt=\"img\"></p>\n<h2 id=\"qemu-img-img转换为qcow2\"><a href=\"#qemu-img-img转换为qcow2\" class=\"headerlink\" title=\"qemu-img img转换为qcow2\"></a>qemu-img img转换为qcow2</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\"><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">转换</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\"><span class=\"hljs-string\">&#x27;-f&#x27;</span> first image format</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">[-O output_fmt]</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">-c 参数可以启用镜像文件压缩</span><br>qemu-img convert -f raw -O qcow2 file.img tofile.qcow2<br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">导入</span> <br>qm importdisk 101 xxxfile.qcow2 local-lvm --format qcow2<br></code></pre></td></tr></table></figure>\n\n\n<h2 id=\"PVE-导入img磁盘文件-qm-importovf-qm-importovf\"><a href=\"#PVE-导入img磁盘文件-qm-importovf-qm-importovf\" class=\"headerlink\" title=\"PVE 导入img磁盘文件 qm importovf qm importovf\"></a>PVE 导入img磁盘文件 qm importovf qm importovf</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\"><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">Create a new VM using parameters <span class=\"hljs-built_in\">read</span> from an OVF manifest</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">An <span class=\"hljs-built_in\">alias</span> <span class=\"hljs-keyword\">for</span> qm disk import.</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">          &lt;虚拟机ID&gt; &lt;清单&gt;      &lt;存储&gt; [选项]</span><br>qm importovf &lt;vmid&gt; &lt;manifest&gt; &lt;storage&gt; [OPTIONS]<br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">示例</span><br>qm importdisk 102 /var/lib/vz/template/iso/openwrt.img local-lvm<br></code></pre></td></tr></table></figure>\n\n\n<h2 id=\"PVE-将虚拟机硬盘文件导出\"><a href=\"#PVE-将虚拟机硬盘文件导出\" class=\"headerlink\" title=\"PVE 将虚拟机硬盘文件导出\"></a>PVE 将虚拟机硬盘文件导出</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 语法：qemu-img convert -f &lt;源格式&gt; -O vmdk -o subformat=streamOptimized &lt;源路径&gt; &lt;目标路径&gt;</span><br><br><span class=\"hljs-comment\"># 示例 1：转换 LVM 硬盘</span><br>qemu-img convert -f raw -O vmdk -o subformat=streamOptimized /dev/pve/vm-100-disk-0 /mnt/nfs/vm-100-disk-0.vmdk<br><br><span class=\"hljs-comment\"># 示例 2：转换 QCOW2 硬盘</span><br>qemu-img convert -f qcow2 -O vmdk -o subformat=streamOptimized /var/lib/vz/images/100/vm-100-disk-0.qcow2 /mnt/nfs/vm-100-disk-0.vmdk<br></code></pre></td></tr></table></figure>\n<p><strong>参数说明</strong></p>\n<ul>\n<li><code>-f &lt;源格式&gt;</code>：源硬盘格式（<code>raw</code>、<code>qcow2</code> 等）。</li>\n<li><code>-O vmdk</code>：输出为 VMDK 格式。</li>\n<li><code>-o subformat=streamOptimized</code>：生成 ESXi 兼容的精简格式（Thin Provisioned）。</li>\n</ul>\n<h2 id=\"pvetools工具安装省电后无法睿频\"><a href=\"#pvetools工具安装省电后无法睿频\" class=\"headerlink\" title=\"pvetools工具安装省电后无法睿频\"></a>pvetools工具安装省电后无法睿频</h2><h2 id=\"自动调整运行频率\"><a href=\"#自动调整运行频率\" class=\"headerlink\" title=\"自动调整运行频率\"></a>自动调整运行频率</h2><p>网上有很多教程会修改<code>vi /etc/default/grub</code>文件，将<code>driver</code>改成<code>acpi-cpufreq</code>。</p>\n<p>我的CPU是J4125，在<code>intel_cpufreq</code>下也可以使用<code>conservative ondemand userspace powersave performance schedutil</code>这些模式。所有就没有去修改。</p>\n<p><a href=\"https://blog.51cto.com/picker/5020502\">参考</a></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\"><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">安装</span><br>apt-get install cpufrequtils<br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">查看cpu当前信息</span><br>cpufreq-info<br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">查看可以使用的模式</span><br>cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_governors<br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">例如J4125这里会输出  conservative ondemand userspace powersave performance schedutil</span><br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">查看当前运行的模式</span><br>cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor<br></code></pre></td></tr></table></figure>\n\n\n\n<p>cpu运行自动配置文件<code>/etc/init.d/cpufrequtils</code></p>\n<ul>\n<li>这个文件在开机的时候会自动调用，自动运行<ul>\n<li>这个文件主要的内容就是运行<code>cpufreq-set</code>指令调整运行模式和频率</li>\n<li>这个文件会优先读取和使用<code>/etc/default/cpufrequtils</code>文件的内容</li>\n</ul>\n</li>\n<li>编辑这个文件<code>vi /etc/init.d/cpufrequtils</code><ul>\n<li>修改频率 模式 保存</li>\n</ul>\n</li>\n<li>重启</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\"><span class=\"hljs-meta prompt_\">#</span><span class=\"language-bash\">!/bin/sh</span><br><span class=\"hljs-meta prompt_\">#</span><span class=\"language-bash\"><span class=\"hljs-comment\">## BEGIN INIT INFO</span></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">Provides:       cpufrequtils</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">Required-Start: <span class=\"hljs-variable\">$remote_fs</span> loadcpufreq</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">Required-Stop:</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">Default-Start:  2 3 4 5</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">Default-Stop:</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">Short-Description: <span class=\"hljs-built_in\">set</span> CPUFreq kernel parameters</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">Description: utilities to deal with CPUFreq Linux</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">      kernel support</span><br><span class=\"hljs-meta prompt_\">#</span><span class=\"language-bash\"><span class=\"hljs-comment\">## END INIT INFO</span></span><br><span class=\"hljs-meta prompt_\">#</span><span class=\"language-bash\"></span><br><span class=\"language-bash\"></span><br>DESC=&quot;CPUFreq Utilities&quot;<br><br>PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin<br>CPUFREQ_SET=/usr/bin/cpufreq-set<br>CPUFREQ_INFO=/usr/bin/cpufreq-info<br>CPUFREQ_OPTIONS=&quot;&quot;<br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">use lsb-base</span><br>. /lib/lsb/init-functions<br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">Which governor to use. Must be one of the governors listed <span class=\"hljs-keyword\">in</span>:</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">  <span class=\"hljs-built_in\">cat</span> /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_governors</span><br><span class=\"hljs-meta prompt_\">#</span><span class=\"language-bash\"></span><br><span class=\"language-bash\"><span class=\"hljs-comment\"># and which limits to set. Both MIN_SPEED and MAX_SPEED must be values</span></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">listed <span class=\"hljs-keyword\">in</span>:</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">  <span class=\"hljs-built_in\">cat</span> /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_frequencies</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">a value of 0 <span class=\"hljs-keyword\">for</span> any of the two variables will disabling the use of</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">that <span class=\"hljs-built_in\">limit</span> variable.</span><br><span class=\"hljs-meta prompt_\">#</span><span class=\"language-bash\"></span><br><span class=\"language-bash\"><span class=\"hljs-comment\"># WARNING: the correct kernel module must already be loaded or compiled in.</span></span><br><span class=\"hljs-meta prompt_\">#</span><span class=\"language-bash\"></span><br><span class=\"language-bash\"><span class=\"hljs-comment\"># Set ENABLE to &quot;true&quot; to let the script run at boot time.</span></span><br><span class=\"hljs-meta prompt_\">#</span><span class=\"language-bash\"></span><br><span class=\"language-bash\"><span class=\"hljs-comment\"># eg:   ENABLE=&quot;true&quot;</span></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">      GOVERNOR=<span class=\"hljs-string\">&quot;ondemand&quot;</span></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">      MAX_SPEED=1000</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">      MIN_SPEED=500</span><br><br>ENABLE=&quot;true&quot;<br>GOVERNOR=&quot;ondemand&quot;<br>MAX_SPEED=&quot;0&quot;<br>MIN_SPEED=&quot;0&quot;<br><br>check_governor_avail() &#123;<br>        info=&quot;/sys/devices/system/cpu/cpu0/cpufreq/scaling_available_governors&quot;<br>        if [ -f $info ] &amp;&amp; grep -q &quot;\\&lt;$GOVERNOR\\&gt;&quot; $info ; then<br>                return 0;<br>        fi<br>        return 1;<br>&#125;<br><br>[ -x $CPUFREQ_SET ] || exit 0<br><br>if [ -f /etc/default/cpufrequtils ] ; then<br>        . /etc/default/cpufrequtils<br>fi<br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\"><span class=\"hljs-keyword\">if</span> not enabled <span class=\"hljs-keyword\">then</span> <span class=\"hljs-built_in\">exit</span> gracefully</span><br>[ &quot;$ENABLE&quot; = &quot;true&quot; ] || exit 0<br><br>if [ -n &quot;$MAX_SPEED&quot; ] &amp;&amp; [ $MAX_SPEED != &quot;0&quot; ] ; then<br>        CPUFREQ_OPTIONS=&quot;$CPUFREQ_OPTIONS --max $MAX_SPEED&quot;<br>fi<br><br>if [ -n &quot;$MIN_SPEED&quot; ] &amp;&amp; [ $MIN_SPEED != &quot;0&quot; ] ; then<br>        CPUFREQ_OPTIONS=&quot;$CPUFREQ_OPTIONS --min $MIN_SPEED&quot;<br>fi<br><br>if [ -n &quot;$GOVERNOR&quot; ] ; then<br>        CPUFREQ_OPTIONS=&quot;$CPUFREQ_OPTIONS --governor $GOVERNOR&quot;<br>fi<br><br>CPUS=$(cat /proc/stat|sed -ne &#x27;s/^cpu\\([[:digit:]]\\+\\).*/\\1/p&#x27;)<br>RETVAL=0<br>case &quot;$1&quot; in<br>        start|force-reload|restart|reload)<br>                log_action_begin_msg &quot;$DESC: Setting $GOVERNOR CPUFreq governor&quot;<br>                if check_governor_avail ; then<br>                        for cpu in $CPUS ; do<br>                                log_action_cont_msg &quot;CPU$&#123;cpu&#125;&quot;<br>                                $CPUFREQ_SET --cpu $cpu $CPUFREQ_OPTIONS 2&gt;&amp;1 &gt; /dev/null || \\<br>                                        RETVAL=$?<br>                        done<br>                        log_action_end_msg $RETVAL &quot;&quot;<br>                else<br>                        log_action_cont_msg &quot;disabled, governor not available&quot;<br>                        log_action_end_msg $RETVAL<br>                fi<br>                ;;<br>        stop)<br>                ;;<br>        *)<br>                echo &quot;Usage: $0 &#123;start|stop|restart|reload|force-reload&#125;&quot;<br>                exit 1<br>esac<br><br>exit 0<br></code></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"pve-合并local-lvm和local分区\"><a href=\"#pve-合并local-lvm和local分区\" class=\"headerlink\" title=\"pve 合并local-lvm和local分区\"></a>pve 合并local-lvm和local分区</h2><p><a href=\"https://blog.csdn.net/weixin_52960369/article/details/135450871\">参考</a></p>\n<ol>\n<li>备份虚拟机磁盘文件<ol>\n<li>web备份<ol>\n<li>数据中心-存储-local-编辑-内容-添加“容器”和“磁盘镜像”属性</li>\n<li>虚拟机-选定某一个虚拟机-硬件-硬盘-磁盘操作-移动存储-local</li>\n</ol>\n</li>\n<li>命令迁移 <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\"><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">示例：迁移 VM ID 为 100 的 scsi0 磁盘到 <span class=\"hljs-built_in\">local</span></span><br>qm move_disk 100 scsi0 local --format qcow2<br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">迁移 ISO 文件</span><br>mv /var/lib/vz/template/iso/* /var/lib/vz/iso/<br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">迁移备份文件</span><br>mv /var/lib/vz/dump/* /var/lib/vz/backups/<br></code></pre></td></tr></table></figure></li>\n</ol>\n</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\"><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">lsblk 查看一下分区结构</span> <br>lsblk<br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">备份一下 虚拟机的磁盘文件。。。 这一步我没做。。。。。 悲剧了</span><br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">删除 local-lvm 千万注意备份一下 pve/data/ 目录下的 disk 虚拟磁盘文件 PVE8.2.2我照着这么操作直接把磁盘文件给删掉了，我人都傻了。。。。。</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">后面几个就是在删除磁盘文件</span><br>lvremove pve/data<br>Removing pool pve/data will remove 3 dependent volume(s). Proceed? [y/n]: y<br>Do you really want to remove active logical volume pve/vm-220-disk-0? [y/n]: y<br>  Logical volume &quot;vm-220-disk-0&quot; successfully removed.<br>Do you really want to remove active logical volume pve/vm-300-disk-0? [y/n]: y<br>  Logical volume &quot;vm-300-disk-0&quot; successfully removed.<br>Do you really want to remove active logical volume pve/vm-220-disk-1? [y/n]: y<br>  Logical volume &quot;vm-220-disk-1&quot; successfully removed.<br>Do you really want to remove active logical volume pve/data? [y/n]: y<br>  Logical volume &quot;data&quot; successfully removed.<br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">扩展<span class=\"hljs-built_in\">local</span></span><br>lvextend -l +100%FREE -r pve/root<br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">查看状态</span><br>lsblk<br></code></pre></td></tr></table></figure>\n\n<p>在管理页面删除local-LVM（数据中心-存储）<br><img src=\"/2023/52f35219/image-20240808094958418.png\"></p>\n<p>修改 local 的属性将local-lvm的功能加上去。（也可勾选所有可选项）</p>\n<h2 id=\"安装群晖\"><a href=\"#安装群晖\" class=\"headerlink\" title=\"安装群晖\"></a>安装群晖</h2><p><a href=\"https://post.smzdm.com/p/a2036n3n/\">参考</a></p>\n<ul>\n<li>创建虚拟机<ul>\n<li>操作系统<ul>\n<li>不需要使用介质</li>\n</ul>\n</li>\n<li>系统<ul>\n<li>机型，这里大部分教程推荐使用 <code>q35</code><ul>\n<li><code>q35</code>比默认的<code>i440fx</code>机型更新，性能更好</li>\n<li>也有人说<code>i440fx</code>兼容性更好，有些小bug在<code>i440fx</code>上不会出现。</li>\n</ul>\n</li>\n<li>其他默认即可</li>\n</ul>\n</li>\n<li>磁盘<ul>\n<li>这里需要注意群晖只支持<code>sata</code>，无法支持性能更强的<code>scsi</code>。</li>\n<li>后面将引导转换为磁盘的时候也需要注意接口要是<code>sata</code>的。</li>\n</ul>\n</li>\n<li>CPU<ul>\n<li>类型<ul>\n<li>host 代表使用和主机一样的CPU信息和架构（通用性差，性能更优）</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>内存</li>\n<li>网络<ul>\n<li>网络这里有些引导不支持<code>VirtlO</code>，就要要改为<code>E1000</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>添加引导<ul>\n<li>将引导<code>*.img</code>文件上传到PVE内</li>\n<li>使用 <code>qm importdisk</code> 指令导入img文件用作磁盘<ul>\n<li><a href=\"#PVE%20%E5%AF%BC%E5%85%A5img%E7%A3%81%E7%9B%98%E6%96%87%E4%BB%B6%20qm%20importovf%20qm%20importovf\">PVE 导入img磁盘文件 qm importovf qm importovf</a></li>\n</ul>\n</li>\n<li>将虚拟机内<code>未使用</code>的磁盘改为<code>sata</code>接口，并添加到虚拟机内</li>\n</ul>\n</li>\n<li>硬盘直通<ul>\n<li>。。。。。</li>\n</ul>\n</li>\n<li></li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">args: -device &#x27;qemu-xhci,addr=0x18&#x27; -drive &#x27;id=synoboot,file=/root/synoboot.img,if=none,format=raw&#x27; -device &#x27;usb-storage,id=synoboot,drive=synoboot,bootindex=1&#x27;<br></code></pre></td></tr></table></figure>\n<p>关闭虚拟机，编辑虚拟机配置文件 &#x2F;etc&#x2F;pve&#x2F;qemu-server&#x2F;100.conf ，100是对应虚拟机ID，在顶部添加大佬的这一段代码，img路径改成对应的路径。改完后WebUI没有显示的，禁用掉其他启动项，直接启动虚拟机即可</p>\n<h2 id=\"硬盘直通\"><a href=\"#硬盘直通\" class=\"headerlink\" title=\"硬盘直通\"></a>硬盘直通</h2><p>参考资料：<br><a href=\"https://foxi.buduanwang.vip/virtualization/1754.html/\">Proxmox VE pve硬盘直通</a></p>\n<p>PVE的直通分为两种</p>\n<ul>\n<li>直通控制器（sata控制器、nvme控制器）<ul>\n<li>接近裸机性能，损耗非常低</li>\n<li>是一个物理磁盘，虚拟机可以获取真实硬盘信息，具有smart属性。</li>\n<li>磁盘由虚拟机管理，虚拟机可以获取磁盘控制权</li>\n<li><strong>要求PVE系统不能安装在控制器下属磁盘内</strong></li>\n</ul>\n</li>\n<li>直通单个硬盘或者分区<ul>\n<li>CPU性能越好，越接近裸机性能，损耗较低</li>\n<li>硬盘会在虚拟机内会认为是一个qemu-hdd</li>\n<li>磁盘由PVE管理</li>\n<li>限制<ul>\n<li>sata最大6个</li>\n<li>ide最大3个</li>\n<li>scsi最大128个</li>\n<li>virtio-blk最大32个</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>列出当前的所有磁盘</strong><br>我们可以通过下面命令，列出当前的硬盘列表</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">ls -la /dev/disk/by-id/|grep -v dm|grep -v lvm|grep -v part<br></code></pre></td></tr></table></figure>\n<p>nvme开头的是nvme硬盘，ata开头是走sata或者ata通道的设备。scsi是scsi设备-阵列卡raid或者是直通卡上的硬盘。</p>\n<h3 id=\"直通单个硬盘-分区\"><a href=\"#直通单个硬盘-分区\" class=\"headerlink\" title=\"直通单个硬盘&amp;分区\"></a>直通单个硬盘&amp;分区</h3><p>我们可以通过<code>qm set &lt;vmid&gt; --scsi[n] /dev/disk/by-id/xxxxxxx</code> 进行直通。<code>qm set &lt;vmid&gt; --delete scsi[n]</code>来取消直通。<br>vmid指的是虚拟机ID；–scsi[n]指的是接口（同样的还有scsi、sata、ide、virtio），n指的是端口号；&#x2F;dev….指的是需要直通的硬盘&amp;分区路径</p>\n<p>实例：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">qm set 220 --sata1 /dev/disk/by-id/ata-Netac_SSD_512GB_AA20230802512G645320<br><br>qm set 101 --scsi1 /dev/disk/by-id/nvme-INTEL_SSDPE2KX020T8_BTLJ039307142P0BGN<br><br></code></pre></td></tr></table></figure>\n<p>建议为scsi设备，这样性能理论上是最优秀的。</p>\n<p><code>qm help set</code> 可以获取帮助信息。</p>\n<h3 id=\"直通控制器\"><a href=\"#直通控制器\" class=\"headerlink\" title=\"直通控制器\"></a>直通控制器</h3><p>磁盘控制器直通之后，虚拟机可以获得全部的磁盘属性。</p>\n<p>需要注意的是，你需要多个磁盘控制器，且Proxmox VE系统安装在非需要直通的硬盘控制器上，否则会将系统直通给虚拟机，导致系统崩溃。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\"><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">查看PCI控制器</span><br>lspci<br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">查看硬盘分布情况</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">有pve-root的，便是pve所在的硬盘</span><br>lsblk<br><br>ls -la /sys/dev/block/|grep -v loop |grep -v dm<br></code></pre></td></tr></table></figure>\n\n<p>需要按照这个教程开启硬件直通功能<br><a href=\"https://foxi.buduanwang.vip/virtualization/pve/561.html/\">https://foxi.buduanwang.vip/virtualization/pve/561.html/</a></p>\n<p>开启后在控制面板直接添加PCI设备即可。<br><img src=\"/2023/52f35219/image-20240729150809676.png\"><br><img src=\"/2023/52f35219/image-20240729150802776.png\"></p>\n<h2 id=\"Guest-Agent-的安装\"><a href=\"#Guest-Agent-的安装\" class=\"headerlink\" title=\"Guest Agent 的安装\"></a>Guest Agent 的安装</h2><p><strong>GuestAgent是什么</strong><br><strong>Guest Agent 的主要作用</strong>：增强管理功能（从 PVE 管理界面进行关机、重启、暂停；宿主可实时获取虚拟机的系统信息；部分场景下支持热增删 CPU、内存）；提升兼容性与性能；数据安全与备份；<br><strong>注意</strong>：Guest Agent 作为运行在虚拟机内的进程，若存在漏洞（如历史版本的 <code>qemu-guest-agent</code> 曾被曝出远程代码执行漏洞），可能被攻击者利用，进而渗透至宿主或其他虚拟机。</p>\n<p><strong>是否需要安装？</strong></p>\n<ul>\n<li><strong>推荐安装</strong>：生产环境中的虚拟机、需要频繁管理或备份的场景，建议安装以获取完整功能。</li>\n<li><strong>可选场景</strong>：仅运行简单任务的轻量级虚拟机（如测试环境），可根据需求决定是否安装。</li>\n</ul>\n<p><strong>虚拟机内系统安装Guest Agent</strong><br>Linux</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">apt install qemu-guest-agent -y<br></code></pre></td></tr></table></figure>\n<p>Windows</p>\n<blockquote>\n<p>virtio驱动光盘中找到 qemu-ga-x86_64.msi 文件进行安装</p>\n</blockquote>\n<p><strong>PVE启用Guest Agent</strong><br>点击虚拟机，左侧边栏里的“选项”，找到“QEMU Guest Agent”双击，在弹出的窗口中勾选“使用QEMU Guest Agent”，下方Type保持默认的VirtlO，点击OK保存即可。<br><img src=\"/2023/52f35219/file-20250523103958923.png\"><br><strong>用法</strong><br>在PVE的shell里输入命令，即可通过QEMU Guest Agent控制客户机</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\"><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">vmid就是虚拟机的ID</span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">cmd就是你要执行的的命令</span><br> qm agent &lt;vmid&gt; &lt;cmd&gt;<br></code></pre></td></tr></table></figure>\n\n<p>常用命令：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">fsfreeze-freeze <br>fsfreeze-status<br>fsfreeze-thaw<br>fstrim                      #查看ssd-trim<br>get-fsinfo                  #查看磁盘信息<br>get-host-name               #查看主机名<br>get-memory-block-info       #查看内存块信息<br>get-memory-blocks           #查看内存<br>get-osinfo                  #查看系统信息<br>get-time                    #查看时间<br>get-timezone                #查看时区<br>get-users                   #用户<br>get-vcpus                   #查看CPU数量<br>info                        #查看支持的命令<br>network-get-interfaces      #查看网络   <br>shutdown                    #关机<br>suspend-disk                #休眠<br>suspend-hybrid              <br>suspend-ram                 <br></code></pre></td></tr></table></figure>\n\n",
            "tags": [
                "pve",
                "virtual"
            ]
        }
    ]
}